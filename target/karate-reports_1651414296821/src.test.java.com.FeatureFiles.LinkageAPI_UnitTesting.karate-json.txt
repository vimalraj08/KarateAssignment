{"failedCount":5,"prefixedPath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","packageQualifiedName":"src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting","loopIndex":-1,"relativePath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":53334200,"millis":53.3342,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":511400,"millis":0.5114,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":398000,"millis":0.398,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":244400,"millis":0.2444,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":225600,"millis":0.2256,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":944743500,"millis":944.7435,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:39:45.573 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:39:46.241 response time in milliseconds: 661\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: ddade3ba626e9473a201c521\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e9473-141cef50\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.205.102.68,169.175.61.93,153.40.245.130\n1 < dmz-global-txn-id: ddade3ba626e9473a201c521\n1 < X-Archived-Client-IP: 23.205.102.68,23.205.102.68,169.175.61.93\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:08:51 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415331000; Expires=Fri, 07 Aug 54353 22:59:46 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=EFE2A878192FFDEAA15CBDA7744ECAE3~-1~YAAQLp6yUvFW8HKAAQAAFOPzfwdUFNDCYUep19c84\/JWgDFI2LwhK+CODbttkxHsh9CvOmuYXKAHSaOf6yNYXXKUC4v+y6ONgtqy0p4yf5eci2XRXb1W3YJQimKUWkgvfgyPQ6yiWOF5XfP8sGT17dKoFO6XDv8VKPaNHiKwatFsH5IjeVuHa6s+RWlKyqFQ0rfnsBJRZY\/6wifdxpEMwN9g6RcZrkXQ\/XhoDYQCM4U9cdceHadIk+cax0\/TcijdtBX1g6RONKthxqZWgO1HyNni30TddoEwFQeA65+EhYL0OrGphLWwO+\/6z+PJ7v5hcqss8FricyNUj0CBqXoHXLDXvHYLB9RfqR12PZZNdP52+bQOQh5GCug=~-1~-1~-1; Max-Age=1682950131000; Expires=Fri, 24 Nov 55352 01:39:46 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=0274B7919857E9B424E3101FD17F84D9~YAAQLp6yUvJW8HKAAQAAFOPzfw8SwXOwPcVhzAlEJuDwK84+mThNtpPXnY13W1gFhL8c9GALguaTfBkVZAL8nGZA9kKlFfGZla3uSXqTwfGGrPdC6Z8QB2dV0O3wRSqksadeqZOlotQsU8jHRliAMqTQJwpJRp24Txc2luUXXnwiL135OK2G29kzCUeI8640cKi6vaDfIIRB6MfP0TeADpLxVcC7vKVK1kZnSBEXhxOfdjqsnriuk96VREUgHfdDNuwkzNVKFTvHpEBpmEKc2b5SR91rWMqmxvufcfAcJIdv~3553094~3486007; Max-Age=1651428531000; Expires=Thu, 07 Jan 54354 17:39:46 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh4TvAJQhR-Y2mJt_JjngWM9VVG4xVKxi4htWz31JQXqCQLsHw_ip1vgWjWc16zi9OPN_aN2FfHwdyT4oGcrswca_nrP-dzYuhRYi9egpKgQD_GL5K0jThxKuCl7ge0fYKa_H6DybkwGStvYMAXgQrsb0gfHPeE_jpeqqcdYjRqm7239lMegARgIyfgUNE_Ja67ETwRj9JJnIcoTyMmFXvko3En1qE8bdKgCmjFN0Q460\", \"expires_in\":1800, \"consented_on\":1651414131, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":42736700,"millis":42.7367,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:39:46.302 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh4TvAJQhR-Y2mJt_JjngWM9VVG4xVKxi4htWz31JQXqCQLsHw_ip1vgWjWc16zi9OPN_aN2FfHwdyT4oGcrswca_nrP-dzYuhRYi9egpKgQD_GL5K0jThxKuCl7ge0fYKa_H6DybkwGStvYMAXgQrsb0gfHPeE_jpeqqcdYjRqm7239lMegARgIyfgUNE_Ja67ETwRj9JJnIcoTyMmFXvko3En1qE8bdKgCmjFN0Q460\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414131,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":19423100,"millis":19.4231,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":1538000,"millis":1.538,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":853400,"millis":0.8534,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":654200,"millis":0.6542,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:39:46.325 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh4TvAJQhR-Y2mJt_JjngWM9VVG4xVKxi4htWz31JQXqCQLsHw_ip1vgWjWc16zi9OPN_aN2FfHwdyT4oGcrswca_nrP-dzYuhRYi9egpKgQD_GL5K0jThxKuCl7ge0fYKa_H6DybkwGStvYMAXgQrsb0gfHPeE_jpeqqcdYjRqm7239lMegARgIyfgUNE_Ja67ETwRj9JJnIcoTyMmFXvko3En1qE8bdKgCmjFN0Q460 \n"},{"result":{"nanos":4690500,"millis":4.6905,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":260000,"millis":0.26,"status":"passed"},"step":{"line":19,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":155600,"millis":0.1556,"status":"passed"},"step":{"line":20,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":153300,"millis":0.1533,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":216700,"millis":0.2167,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":87700,"millis":0.0877,"status":"passed"},"step":{"line":23,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":211600,"millis":0.2116,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":215100,"millis":0.2151,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":1109468700,"millis":1109.4687,"status":"passed"},"step":{"line":26,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:39:46.334 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh4TvAJQhR-Y2mJt_JjngWM9VVG4xVKxi4htWz31JQXqCQLsHw_ip1vgWjWc16zi9OPN_aN2FfHwdyT4oGcrswca_nrP-dzYuhRYi9egpKgQD_GL5K0jThxKuCl7ge0fYKa_H6DybkwGStvYMAXgQrsb0gfHPeE_jpeqqcdYjRqm7239lMegARgIyfgUNE_Ja67ETwRj9JJnIcoTyMmFXvko3En1qE8bdKgCmjFN0Q460\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=EFE2A878192FFDEAA15CBDA7744ECAE3~-1~YAAQLp6yUvFW8HKAAQAAFOPzfwdUFNDCYUep19c84\/JWgDFI2LwhK+CODbttkxHsh9CvOmuYXKAHSaOf6yNYXXKUC4v+y6ONgtqy0p4yf5eci2XRXb1W3YJQimKUWkgvfgyPQ6yiWOF5XfP8sGT17dKoFO6XDv8VKPaNHiKwatFsH5IjeVuHa6s+RWlKyqFQ0rfnsBJRZY\/6wifdxpEMwN9g6RcZrkXQ\/XhoDYQCM4U9cdceHadIk+cax0\/TcijdtBX1g6RONKthxqZWgO1HyNni30TddoEwFQeA65+EhYL0OrGphLWwO+\/6z+PJ7v5hcqss8FricyNUj0CBqXoHXLDXvHYLB9RfqR12PZZNdP52+bQOQh5GCug=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=0274B7919857E9B424E3101FD17F84D9~YAAQLp6yUvJW8HKAAQAAFOPzfw8SwXOwPcVhzAlEJuDwK84+mThNtpPXnY13W1gFhL8c9GALguaTfBkVZAL8nGZA9kKlFfGZla3uSXqTwfGGrPdC6Z8QB2dV0O3wRSqksadeqZOlotQsU8jHRliAMqTQJwpJRp24Txc2luUXXnwiL135OK2G29kzCUeI8640cKi6vaDfIIRB6MfP0TeADpLxVcC7vKVK1kZnSBEXhxOfdjqsnriuk96VREUgHfdDNuwkzNVKFTvHpEBpmEKc2b5SR91rWMqmxvufcfAcJIdv~3553094~3486007\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:39:47.441 response time in milliseconds: 1107\n2 < 404\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: text\/plain\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 074c07b7-44bc-4526-8654-7ae7a12a1cc4\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Cf-Routererror: unknown_route\n2 < X-Vcap-Request-Id: 6de04d17-9a0e-4bf3-4ae2-a0cfa14d8c80\n2 < X-Global-Transaction-ID: 6e68aa42626e9474cb767faf\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: 9ghTPJL4MEi4i2YJyqElroQWdlg%2B5rqGD6axy9%2FCJ3gMLF%2BCIzNyVxoRZVM%2BsC5ozy6scVM%2FxW8txTdE%2BvTN8Yyxwbg%2F1UgI2IvtDZUoZYOjg43JvNVQ%2FWkWglfXBTiWSx%2FcRtTTZ4Ah0yeQ54MbSviyCkzWBWa%2Bqw27xS4BEyf8tPrPK2HUZ%2B02shHJuQjfrbra2vIEBUDsQ9AK5LTFixj65aF0NURLr2jNsZ4xsnI7tgiC%2B8W%2BqFAsuNVJ68QomGNt3%2BNwLI3ERxVEw4RrjInPege3Byjz5Qz%2FxQwxilqVhyymN9GZdlxlRmAVBAKF3sIuMGhalLQUNHMBQyt%2FZEsryghuCyZGLE0p%2FsKCrWucrsOPgmihg0YoCRGMSIUfJpnSCO3PT%2BdlYeLhI8gGJF5eR1%2Ba6O8iLqJe9JMYsgEvU69z%2BxsNzgsn6WjvJXhSUq0crUrv9jZtMM%2F%2BKKlA9g%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 116\n2 < Date: Sun, 01 May 2022 14:08:52 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415332000; Expires=Fri, 07 Aug 54353 23:16:27 GMT; Domain=sandbox.apihub.citi.com; Secure\n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\n\n"},{"result":{"nanos":47600,"errorMessage":"status code was: 404, expected: 200, response time in milliseconds: 1107, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27","millis":0.0476,"status":"failed"},"step":{"line":27,"prefix":"Then","index":8,"text":"status 200"},"stepLog":"19:39:47.442 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27\nThen status 200\nstatus code was: 404, expected: 200, response time in milliseconds: 1107, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"And","index":9,"text":"match response.rewardLinkCode != null"}}],"line":18,"description":"","durationMillis":2180.1889,"failed":true,"error":"status code was: 404, expected: 200, response time in milliseconds: 1107, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27","executorName":"main","name":"Verify the LinkageAPI with all mandatory body parameters","startTime":1651414185250,"refId":"[1:18]","endTime":1651414187442,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":153800,"millis":0.1538,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":290900,"millis":0.2909,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":263900,"millis":0.2639,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":189100,"millis":0.1891,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":169500,"millis":0.1695,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":500441900,"millis":500.4419,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:39:47.448 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:39:47.947 response time in milliseconds: 499\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 98b6a370626e9474819d7a5d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e9474-141cf969\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.205.102.68,169.175.115.119,169.177.209.51\n1 < dmz-global-txn-id: 98b6a370626e9474819d7a5d\n1 < X-Archived-Client-IP: 23.205.102.68,23.205.102.68,169.175.115.119\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,56;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:08:53 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415333000; Expires=Fri, 07 Aug 54353 23:33:07 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=431E12EFB0A1973D47CE3CD119E5D35B~-1~YAAQLp6yUvxW8HKAAQAA1OnzfweC8LSZ4pZfGXhP\/hxoX+x02IwsAUtXlWQa2znIkX\/Violp\/M3KTgWI5V3qp+F4UCBbcnb5CjqjjtDnrpdz5sDQkOMspMTbFUXMKOIsVWm2zXfquOtYtLgqITd9HAWdllIL5+4ICiwRH9uMoh8Ve2AaMi6lHuMBHe2dLbJYUfZNXYma+rG5YgpNL3foUNd\/Z29udtAyLsNG8zp75M1Q9pQXW3pLZ4mwbvIoFxu4VDKvbK7qBm7j\/hUydraZcRa4G83EiTaESqUUXDSLRAIYkTE6z4Gy37dPtXuA9QbrcI5JbUjgjvYlk45VsyqH+FBLJZ6w6qAgPbg5p2wAQtuppiJ13CMG28Y=~-1~-1~-1; Max-Age=1682950133000; Expires=Fri, 24 Nov 55352 02:13:07 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=26C14FF005B50409B3056DB9B8F05B3C~YAAQLp6yUv1W8HKAAQAA1Onzfw\/2F078Mqm4aRtMrueGmZTE8qhP3nXEvqeGxc3qlLyak+Sr8\/mc3i81usfqrQw2TGwRD2WpHMDhAQvINUhJ\/s5eMcUMJp72dRIP6s8pHLTCEAMn+xQUrJg5DbVQjTCpHpS+M3t+1LrHXfdSb8yWImbXOVYg\/XSI+ta\/yTeUMoTXd0uqXlDkPSUnPBnaDhLAKrzs6xrVAMznJCy7FhmzU3DjIc3PUTsi64tM+1IG6tNzGEBPmEjtM+ywZ\/RODdYnzv339cfOW1bSEmiGoeo3~3163190~4539204; Max-Age=1651428532000; Expires=Thu, 07 Jan 54354 17:56:27 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhzf7OHteVufGiplpaXDsjPmwHHVvSC2Su_AK33UQC7GbTTazDfY0yIMzPoZlGJyzTpKoo3cmXLmegJHZDU8sOfI2O0ylrZCyPuUPuLD9JogkOtOmhumsqJ9rvryB-SDibVg1PbGqwd67z2ivnx-arp-m6NHvAEBX4zfT1ei3gD2z0Ium2OKjYW5hHXfZYhahZXzluq6DVhRrBhmqBqi5dRwVlJuANMf8g_5eeGQY4KQk\", \"expires_in\":1800, \"consented_on\":1651414133, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":372600,"millis":0.3726,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:39:47.948 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhzf7OHteVufGiplpaXDsjPmwHHVvSC2Su_AK33UQC7GbTTazDfY0yIMzPoZlGJyzTpKoo3cmXLmegJHZDU8sOfI2O0ylrZCyPuUPuLD9JogkOtOmhumsqJ9rvryB-SDibVg1PbGqwd67z2ivnx-arp-m6NHvAEBX4zfT1ei3gD2z0Ium2OKjYW5hHXfZYhahZXzluq6DVhRrBhmqBqi5dRwVlJuANMf8g_5eeGQY4KQk\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414133,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":351400,"millis":0.3514,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":245500,"millis":0.2455,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":160700,"millis":0.1607,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":222700,"millis":0.2227,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:39:47.949 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhzf7OHteVufGiplpaXDsjPmwHHVvSC2Su_AK33UQC7GbTTazDfY0yIMzPoZlGJyzTpKoo3cmXLmegJHZDU8sOfI2O0ylrZCyPuUPuLD9JogkOtOmhumsqJ9rvryB-SDibVg1PbGqwd67z2ivnx-arp-m6NHvAEBX4zfT1ei3gD2z0Ium2OKjYW5hHXfZYhahZXzluq6DVhRrBhmqBqi5dRwVlJuANMf8g_5eeGQY4KQk \n"},{"result":{"nanos":159300,"millis":0.1593,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":70500,"millis":0.0705,"status":"passed"},"step":{"line":31,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"line":32,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"line":33,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":68700,"millis":0.0687,"status":"passed"},"step":{"line":34,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":62900,"millis":0.0629,"status":"passed"},"step":{"line":35,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":65300,"millis":0.0653,"status":"passed"},"step":{"line":36,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":260000,"millis":0.26,"status":"passed"},"step":{"line":37,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":1052431000,"millis":1052.431,"status":"passed"},"step":{"line":38,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:39:47.951 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhzf7OHteVufGiplpaXDsjPmwHHVvSC2Su_AK33UQC7GbTTazDfY0yIMzPoZlGJyzTpKoo3cmXLmegJHZDU8sOfI2O0ylrZCyPuUPuLD9JogkOtOmhumsqJ9rvryB-SDibVg1PbGqwd67z2ivnx-arp-m6NHvAEBX4zfT1ei3gD2z0Ium2OKjYW5hHXfZYhahZXzluq6DVhRrBhmqBqi5dRwVlJuANMf8g_5eeGQY4KQk\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=431E12EFB0A1973D47CE3CD119E5D35B~-1~YAAQLp6yUvxW8HKAAQAA1OnzfweC8LSZ4pZfGXhP\/hxoX+x02IwsAUtXlWQa2znIkX\/Violp\/M3KTgWI5V3qp+F4UCBbcnb5CjqjjtDnrpdz5sDQkOMspMTbFUXMKOIsVWm2zXfquOtYtLgqITd9HAWdllIL5+4ICiwRH9uMoh8Ve2AaMi6lHuMBHe2dLbJYUfZNXYma+rG5YgpNL3foUNd\/Z29udtAyLsNG8zp75M1Q9pQXW3pLZ4mwbvIoFxu4VDKvbK7qBm7j\/hUydraZcRa4G83EiTaESqUUXDSLRAIYkTE6z4Gy37dPtXuA9QbrcI5JbUjgjvYlk45VsyqH+FBLJZ6w6qAgPbg5p2wAQtuppiJ13CMG28Y=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=26C14FF005B50409B3056DB9B8F05B3C~YAAQLp6yUv1W8HKAAQAA1Onzfw\/2F078Mqm4aRtMrueGmZTE8qhP3nXEvqeGxc3qlLyak+Sr8\/mc3i81usfqrQw2TGwRD2WpHMDhAQvINUhJ\/s5eMcUMJp72dRIP6s8pHLTCEAMn+xQUrJg5DbVQjTCpHpS+M3t+1LrHXfdSb8yWImbXOVYg\/XSI+ta\/yTeUMoTXd0uqXlDkPSUnPBnaDhLAKrzs6xrVAMznJCy7FhmzU3DjIc3PUTsi64tM+1IG6tNzGEBPmEjtM+ywZ\/RODdYnzv339cfOW1bSEmiGoeo3~3163190~4539204\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:39:49.003 response time in milliseconds: 1051\n2 < 404\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: text\/plain\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 4136c35d-5593-4fd2-b18b-516ab0556001\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n2 < X-Cf-Routererror: unknown_route\n2 < X-Vcap-Request-Id: cd188b7a-f796-4209-7691-fc29508fe73d\n2 < X-Global-Transaction-ID: 126374ce626e94755046b9b1\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: L7dnkBMYKDKqd%2F8kQDCcC9eIZKHKT2Po80ZNitittjGJDxM%2BK19NrV2HU3V%2FC%2F479RB295HcPrVvTJfRZdKROz%2Fe8GWrjPzCShfI2DfGpLOY%2FJHXCVozaYEgWPUqXOvNQsLquo8ikx6WwMz88w7KbAfW9R2ES0%2Fym0Us5FpFDj9JhaurkQtOlQjnpczpIRN4psm9LjFcw4TUU0nfRnYJ2gYsqURuC4PjVJowPp9ElCWZqZkBk4csCTSCFhts4G18gmdaz%2BNKv5fcECz4dpGBzRsAz%2BgRkGKd%2FFwfMT3gCI66VwU5Az5amOpmlds0V3tCo%2FJB0X5wm0d8T0vOz7uZ5tT%2FwalVVFJHN73KRlWUsq39a9GWaOQjeoC%2BnmQMWXTrD4di3yeuGOjbz5agqblJ5ryOEw%2FuVNZnZBoSg2iaq3FhuOE3iw23VeHuEVX616Dr7e64hY0UpHtI1TxpCPC4fg%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 116\n2 < Date: Sun, 01 May 2022 14:08:54 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415334000; Expires=Fri, 07 Aug 54353 23:49:49 GMT; Domain=sandbox.apihub.citi.com; Secure\n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\n\n"},{"result":{"nanos":24100,"errorMessage":"status code was: 404, expected: 400, response time in milliseconds: 1051, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:39","millis":0.0241,"status":"failed"},"step":{"line":39,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"19:39:49.003 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:39\nThen status 400\nstatus code was: 404, expected: 400, response time in milliseconds: 1051, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:39\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":30,"description":"","durationMillis":1556.1039,"failed":true,"error":"status code was: 404, expected: 400, response time in milliseconds: 1051, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:39","executorName":"main","name":"Verify the LinkageAPI with invalid lastFourDigitsCardNumber in body parameters","startTime":1651414187446,"refId":"[2:30]","endTime":1651414189003,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":226200,"millis":0.2262,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":69700,"millis":0.0697,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":129600,"millis":0.1296,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":93600,"millis":0.0936,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":79700,"millis":0.0797,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":474978600,"millis":474.9786,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:39:49.008 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:39:49.481 response time in milliseconds: 473\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 6e68aa42626e94767cd9ff8d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e9476-141d0269\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.64.120.184,169.175.115.121,169.177.209.50\n1 < dmz-global-txn-id: 6e68aa42626e94767cd9ff8d\n1 < X-Archived-Client-IP: 23.64.120.184,23.64.120.184,169.175.115.121\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,55;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:08:54 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415334000; Expires=Fri, 07 Aug 54353 23:49:49 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=2D89D6EF172B2B21B0EFCC4F8830815E~-1~YAAQLp6yUgFX8HKAAQAA1e\/zfwdYSz82XWN0twA\/Nr7vQsmhfg32QlTKj3nhghp68c2DKEwL5kAL3pdbb4Tt4E2\/XF2l0TajHlz35IPzqGd0Ow5OPX8bOjqH0niru6T6VevaBA916PXrJQYQ5b82bh1rZm4k00s3TfSs\/7QJchwKHsVYSaaWsDiHpF2T++gtLz\/TvubCvgMzD6XM0JeFxFebW+tZhv++6nAeQHXH0r2bx1r4Ga8ZMV8WBNwDK5nEa+JSRXvnfK+J0wDdmNZL9T5uJJBKZsLHD2OkYSzS7ztsdg5pvFNqtQjfnWldfRsBtF1Xaq5k6kTWEj2ve2h\/6lG8q1vKXWD5kXLhElfL6\/7prEW\/hjQO7I8=~-1~-1~-1; Max-Age=1682950134000; Expires=Fri, 24 Nov 55352 02:29:49 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=10A026D95887C340D4D92A6129315E74~YAAQLp6yUgJX8HKAAQAA1e\/zfw+LbJzzJ5DpkrQQL6I8luh+CBviEjdoF1lWrEfOW326oyuhpVPlwXbp96UCEvnrlj+X+N\/O9VXqNNO2vA1f5s8DpBHlm+btfLuNDchINWn3TV3JcV6sGemNpuygZOFlIvW0SW4GGUk6qLTc7Xaa19QXsm225h6k25Q614\/hP1mxQV2feAN5LOgtr6wu\/2Qi1\/HLM8yaLO1WDyG7uqGOwoYJGgOrnsG1APt1Tys+iuot+aRPu0fWA2IuZtt7xIXnojea3VAYpGPDF0ECEpnl~4276787~4277049; Max-Age=1651428534000; Expires=Thu, 07 Jan 54354 18:29:49 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh7hKarS6eccbpZHOW3PkSDZAqkqBHH72UvdFy5-D0ZBz0ByDE8Ui-nHPIJaWPD5Bk4V1Ke3wYGUmiLjzwbVSTzVsjc4sXD0W5w1cPcl0VTbpZNFIzWyBWwKyFIrk6Lq8R1F41MVVn50r0zGwLdsvnzSiw9OqXF1u3nyJ7g9glpVSkyCcp5ZoV9vZTDoxSPz7be708RSblt7rthXkb4fUVSQB8pnUWe0U8eZXInIWKMQ0\", \"expires_in\":1800, \"consented_on\":1651414134, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":11300,"millis":0.0113,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":545300,"millis":0.5453,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:39:49.483 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh7hKarS6eccbpZHOW3PkSDZAqkqBHH72UvdFy5-D0ZBz0ByDE8Ui-nHPIJaWPD5Bk4V1Ke3wYGUmiLjzwbVSTzVsjc4sXD0W5w1cPcl0VTbpZNFIzWyBWwKyFIrk6Lq8R1F41MVVn50r0zGwLdsvnzSiw9OqXF1u3nyJ7g9glpVSkyCcp5ZoV9vZTDoxSPz7be708RSblt7rthXkb4fUVSQB8pnUWe0U8eZXInIWKMQ0\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414134,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":448300,"millis":0.4483,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":303900,"millis":0.3039,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":156600,"millis":0.1566,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":192500,"millis":0.1925,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:39:49.484 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh7hKarS6eccbpZHOW3PkSDZAqkqBHH72UvdFy5-D0ZBz0ByDE8Ui-nHPIJaWPD5Bk4V1Ke3wYGUmiLjzwbVSTzVsjc4sXD0W5w1cPcl0VTbpZNFIzWyBWwKyFIrk6Lq8R1F41MVVn50r0zGwLdsvnzSiw9OqXF1u3nyJ7g9glpVSkyCcp5ZoV9vZTDoxSPz7be708RSblt7rthXkb4fUVSQB8pnUWe0U8eZXInIWKMQ0 \n"},{"result":{"nanos":160500,"millis":0.1605,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":71200,"millis":0.0712,"status":"passed"},"step":{"line":46,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":94600,"millis":0.0946,"status":"passed"},"step":{"line":47,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":84500,"millis":0.0845,"status":"passed"},"step":{"line":48,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":344200,"millis":0.3442,"status":"passed"},"step":{"line":49,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":67900,"millis":0.0679,"status":"passed"},"step":{"line":50,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":61300,"millis":0.0613,"status":"passed"},"step":{"line":51,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":283700,"millis":0.2837,"status":"passed"},"step":{"line":52,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":517188900,"millis":517.1889,"status":"passed"},"step":{"line":53,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:39:49.487 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh7hKarS6eccbpZHOW3PkSDZAqkqBHH72UvdFy5-D0ZBz0ByDE8Ui-nHPIJaWPD5Bk4V1Ke3wYGUmiLjzwbVSTzVsjc4sXD0W5w1cPcl0VTbpZNFIzWyBWwKyFIrk6Lq8R1F41MVVn50r0zGwLdsvnzSiw9OqXF1u3nyJ7g9glpVSkyCcp5ZoV9vZTDoxSPz7be708RSblt7rthXkb4fUVSQB8pnUWe0U8eZXInIWKMQ0\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=2D89D6EF172B2B21B0EFCC4F8830815E~-1~YAAQLp6yUgFX8HKAAQAA1e\/zfwdYSz82XWN0twA\/Nr7vQsmhfg32QlTKj3nhghp68c2DKEwL5kAL3pdbb4Tt4E2\/XF2l0TajHlz35IPzqGd0Ow5OPX8bOjqH0niru6T6VevaBA916PXrJQYQ5b82bh1rZm4k00s3TfSs\/7QJchwKHsVYSaaWsDiHpF2T++gtLz\/TvubCvgMzD6XM0JeFxFebW+tZhv++6nAeQHXH0r2bx1r4Ga8ZMV8WBNwDK5nEa+JSRXvnfK+J0wDdmNZL9T5uJJBKZsLHD2OkYSzS7ztsdg5pvFNqtQjfnWldfRsBtF1Xaq5k6kTWEj2ve2h\/6lG8q1vKXWD5kXLhElfL6\/7prEW\/hjQO7I8=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=10A026D95887C340D4D92A6129315E74~YAAQLp6yUgJX8HKAAQAA1e\/zfw+LbJzzJ5DpkrQQL6I8luh+CBviEjdoF1lWrEfOW326oyuhpVPlwXbp96UCEvnrlj+X+N\/O9VXqNNO2vA1f5s8DpBHlm+btfLuNDchINWn3TV3JcV6sGemNpuygZOFlIvW0SW4GGUk6qLTc7Xaa19QXsm225h6k25Q614\/hP1mxQV2feAN5LOgtr6wu\/2Qi1\/HLM8yaLO1WDyG7uqGOwoYJGgOrnsG1APt1Tys+iuot+aRPu0fWA2IuZtt7xIXnojea3VAYpGPDF0ECEpnl~4276787~4277049\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:39:50.003 response time in milliseconds: 516\n2 < 404\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: text\/plain\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 86298090-7f1f-4212-aabb-1376f656805a\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n2 < X-Cf-Routererror: unknown_route\n2 < X-Vcap-Request-Id: 6496b14b-45b9-4789-70f4-76ed235880ea\n2 < X-Global-Transaction-ID: 98b6a370626e9476819f7a6d\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: 7PELGfLPkPkIj%2BmtGZ%2FXqA%2F4epzCI%2Bsl9DLepFuOO9uXE6cGBdAfRbIc%2FgeMFpAZEtb6erwLk3yH%2FTOeZPGJpdw6YkzpXmi8kPoMyriaUT2S5Vwc5ylI6Yb5Qa0u0Dzt6l%2BGOeLv3OfEj3xSjVWw9EmS2ZcrbFK5TK1xgeU9%2Bc6qmbDpD5KKBM1%2FTqGpXsIMjeNLWCVm4jrJY2NeXTcfcWRRBz0gfO3oydSVq%2BprZMAtT6N6L%2FFtoeKx%2FONunMsrmih%2FZdtM03CWScfCWuJrNMewXAd80vy%2Fska0jdIe2dtlEuZKztkZJIK%2FnuwLbcFB3L2nOl160Srs1TdFtAVqEiEd%2F7pxq4bAvDUfoqJZBw3GfQfUg4A5KqxiTJGX4HDJlprUDwW5EeVG43Jr1UaFJbqv%2FmoRsXRNaHbJDX18wOXAaL9DhVXo6ydQAL6a7jPH3Okgw9DpBTS2MpcFETtCrw%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 116\n2 < Date: Sun, 01 May 2022 14:08:55 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415335000; Expires=Sat, 08 Aug 54353 00:06:30 GMT; Domain=sandbox.apihub.citi.com; Secure\n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\n\n"},{"result":{"nanos":26400,"errorMessage":"status code was: 404, expected: 400, response time in milliseconds: 516, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54","millis":0.0264,"status":"failed"},"step":{"line":54,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"19:39:50.003 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54\nThen status 400\nstatus code was: 404, expected: 400, response time in milliseconds: 516, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":45,"description":"","durationMillis":995.6185,"failed":true,"error":"status code was: 404, expected: 400, response time in milliseconds: 516, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54","executorName":"main","name":"Verify the LinkageAPI with invalid citiCardHolderPhoneNumber in body parameters","startTime":1651414189006,"refId":"[3:45]","endTime":1651414190004,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":193600,"millis":0.1936,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":70100,"millis":0.0701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":95800,"millis":0.0958,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":85800,"millis":0.0858,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":936554400,"millis":936.5544,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:39:50.007 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:39:50.942 response time in milliseconds: 935\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 6e68aa42626e9477cb7a5b7f\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e9477-141d085a\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.221.23.115,169.175.115.121,169.177.209.51\n1 < dmz-global-txn-id: 6e68aa42626e9477cb7a5b7f\n1 < X-Archived-Client-IP: 23.221.23.115,23.221.23.115,169.175.115.121\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,54;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:08:56 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415336000; Expires=Sat, 08 Aug 54353 00:23:10 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=6D12BC1C99960AA03B34C071C68F9610~-1~YAAQLp6yUg5X8HKAAQAAkvXzfwf8qTQzEY9KGLuRY\/J22Sg4tU54I6fJrH39M+GMnqF1YA66ddnLkE7r0LyFvmN35wR1H7\/rpATxkx5Nis8Iff4YQXRsUaTHDJzv5F0M8XbwdBklX8ZZ8IMX1oeHjFlAzrayM8HLJ5YnBHLLjA2wC1tAIFgUOxWergFYYAcx8JET8djhMgU85R256Kn+3\/aoM0F1VPyWG3dnDQXDXOyqBezABToNb3+mLbAIJj5xU\/VVKbbyN43xoQ1UTP1A8CbQ6vPuBF4pBZ4XvrtR6z\/METlY+Bnk4mPgwW9Z+DKrF0oVkPuhpYzrK7Ob7kCSlxeMAQ\/R+0Ytu8BWG8DePn281cndqFitc80=~-1~-1~-1; Max-Age=1682950136000; Expires=Fri, 24 Nov 55352 03:03:10 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=69C9EF140FC6E6EF24F3AD091F0D7320~YAAQLp6yUg9X8HKAAQAAkvXzfw97oIKvVihGk1mLE0Rv40t41VxwqkaPwschexuHhkp1kKJVEAKtFRZ6yJQZaebyK3waUZK\/soTXGDJVBFe2Wzccvr13DceKT7CesgDHA\/+00NVnwag1CJLJ4cPFKy1NQkxZzSux4qTJjAugFLW2SY7L4HGK6RmRHAEbYLvuftxQbH\/lUkeAmOu4GtdgBSY7KpQjxlvomAq20W9Q8PZ7ADIysRC1hpWAD825B\/oXt6OURogXD3CLw65SzUUDfYIiWTGlYmqYpdTce14UPWGt~4408130~4403765; Max-Age=1651428535000; Expires=Thu, 07 Jan 54354 18:46:30 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhZsOgZcIVW3NgmU46QxRu11TTZl3qaEdsR5-K0KdwplhLAm9l-XrgXXicVPlbW4btNeOk9UmRvrGHQLl7TvboABiZuQ59u3xYeW-BAotiBs2nU7X5VEbyslhfIMDgCVADn2KLurywCKoD6VfbqRgJT66afXzWVmCyedstpsuX1jG1-JVx36guMwsf-3IxMPfG1yN3oTeYcgiVP63UHAQEVoHpxP_PHpgkZs2JLZYnwZ0\", \"expires_in\":1800, \"consented_on\":1651414136, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":11000,"millis":0.011,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":520000,"millis":0.52,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:39:50.943 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhZsOgZcIVW3NgmU46QxRu11TTZl3qaEdsR5-K0KdwplhLAm9l-XrgXXicVPlbW4btNeOk9UmRvrGHQLl7TvboABiZuQ59u3xYeW-BAotiBs2nU7X5VEbyslhfIMDgCVADn2KLurywCKoD6VfbqRgJT66afXzWVmCyedstpsuX1jG1-JVx36guMwsf-3IxMPfG1yN3oTeYcgiVP63UHAQEVoHpxP_PHpgkZs2JLZYnwZ0\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414136,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":418600,"millis":0.4186,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":204700,"millis":0.2047,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":146500,"millis":0.1465,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":159900,"millis":0.1599,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:39:50.944 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhZsOgZcIVW3NgmU46QxRu11TTZl3qaEdsR5-K0KdwplhLAm9l-XrgXXicVPlbW4btNeOk9UmRvrGHQLl7TvboABiZuQ59u3xYeW-BAotiBs2nU7X5VEbyslhfIMDgCVADn2KLurywCKoD6VfbqRgJT66afXzWVmCyedstpsuX1jG1-JVx36guMwsf-3IxMPfG1yN3oTeYcgiVP63UHAQEVoHpxP_PHpgkZs2JLZYnwZ0 \n"},{"result":{"nanos":105200,"millis":0.1052,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"line":61,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":40600,"millis":0.0406,"status":"passed"},"step":{"line":62,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"line":63,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":52800,"millis":0.0528,"status":"passed"},"step":{"line":64,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":49600,"millis":0.0496,"status":"passed"},"step":{"line":65,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":89100,"millis":0.0891,"status":"passed"},"step":{"line":66,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":445500,"millis":0.4455,"status":"passed"},"step":{"line":67,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"!@#$%^&*()_+\"}'"}},{"result":{"nanos":974266400,"millis":974.2664,"status":"passed"},"step":{"line":68,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:39:50.947 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhZsOgZcIVW3NgmU46QxRu11TTZl3qaEdsR5-K0KdwplhLAm9l-XrgXXicVPlbW4btNeOk9UmRvrGHQLl7TvboABiZuQ59u3xYeW-BAotiBs2nU7X5VEbyslhfIMDgCVADn2KLurywCKoD6VfbqRgJT66afXzWVmCyedstpsuX1jG1-JVx36guMwsf-3IxMPfG1yN3oTeYcgiVP63UHAQEVoHpxP_PHpgkZs2JLZYnwZ0\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=6D12BC1C99960AA03B34C071C68F9610~-1~YAAQLp6yUg5X8HKAAQAAkvXzfwf8qTQzEY9KGLuRY\/J22Sg4tU54I6fJrH39M+GMnqF1YA66ddnLkE7r0LyFvmN35wR1H7\/rpATxkx5Nis8Iff4YQXRsUaTHDJzv5F0M8XbwdBklX8ZZ8IMX1oeHjFlAzrayM8HLJ5YnBHLLjA2wC1tAIFgUOxWergFYYAcx8JET8djhMgU85R256Kn+3\/aoM0F1VPyWG3dnDQXDXOyqBezABToNb3+mLbAIJj5xU\/VVKbbyN43xoQ1UTP1A8CbQ6vPuBF4pBZ4XvrtR6z\/METlY+Bnk4mPgwW9Z+DKrF0oVkPuhpYzrK7Ob7kCSlxeMAQ\/R+0Ytu8BWG8DePn281cndqFitc80=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=69C9EF140FC6E6EF24F3AD091F0D7320~YAAQLp6yUg9X8HKAAQAAkvXzfw97oIKvVihGk1mLE0Rv40t41VxwqkaPwschexuHhkp1kKJVEAKtFRZ6yJQZaebyK3waUZK\/soTXGDJVBFe2Wzccvr13DceKT7CesgDHA\/+00NVnwag1CJLJ4cPFKy1NQkxZzSux4qTJjAugFLW2SY7L4HGK6RmRHAEbYLvuftxQbH\/lUkeAmOu4GtdgBSY7KpQjxlvomAq20W9Q8PZ7ADIysRC1hpWAD825B\/oXt6OURogXD3CLw65SzUUDfYIiWTGlYmqYpdTce14UPWGt~4408130~4403765\n2 > Content-Length: 123\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"!@#$%^&*()_+\"}\n\n19:39:51.919 response time in milliseconds: 971\n2 < 404\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: text\/plain\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 503a37e5-ebd5-4cae-a3f2-89857ade9304\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Cf-Routererror: unknown_route\n2 < X-Vcap-Request-Id: ab4caa89-e3e7-4fc2-4af2-595234759394\n2 < X-Global-Transaction-ID: 98b6a370626e947800e4c6ef\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: hS%2FgrDkGA3Ek4REqSEgdr64hP214uX%2FLdFpq3xpBYCQt7zlM1g2WYrNfFA0xfD1qCyQFqxDMCG0mcmau0iYRPbwAgjT2w3TaAaoxQaPeGhOJVisOJCFkewpyzprdVxBMaORoBuIs4qjQL8oHS%2F68eX8t4pfQo5PSJ%2F2VeiiDHRi0%2Bej%2FgQN%2B1oF3ON4AkeVWnmni8HY7CVIZIsOHceSv%2BJAW9aWDgOsTIV%2FA9gXTEYqTy2sKLp1Hc4Uj6S7ewL23LdAuNFJXBpBJGhj0R7fa9qHV9zrt1bakaTcW0kFG%2B5FxrDhsOM%2BW3fWsx8xxQDoINwE9gyOiSLmjA0cJtq1%2BKSDkovRUFVzQZoCkCU1tDQgNWBwRwvNs%2BVkmEKv2xZBGtoEPvM26RiPBiL%2FerpWD%2B%2BsdNJemQFLTp3STaUcOak6YGnwoN57Ca6LXhBOyyMEE69QBCCJrrHP%2BMGvE7G5Njw%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 116\n2 < Date: Sun, 01 May 2022 14:08:57 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415337000; Expires=Sat, 08 Aug 54353 00:39:51 GMT; Domain=sandbox.apihub.citi.com; Secure\n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\n\n"},{"result":{"nanos":48500,"errorMessage":"status code was: 404, expected: 400, response time in milliseconds: 971, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","millis":0.0485,"status":"failed"},"step":{"line":69,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"19:39:51.920 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\nThen status 400\nstatus code was: 404, expected: 400, response time in milliseconds: 971, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":70,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":71,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":72,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":73,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":60,"description":"","durationMillis":1913.7151,"failed":true,"error":"status code was: 404, expected: 400, response time in milliseconds: 971, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","executorName":"main","name":"Verify the LinkageAPI with invalid merchantCustomerReferenceId in body parameters","startTime":1651414190006,"refId":"[4:60]","endTime":1651414191920,"exampleIndex":-1},{"sectionIndex":4,"stepResults":[{"result":{"nanos":115900,"millis":0.1159,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":65500,"millis":0.0655,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":422375500,"millis":422.3755,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:39:51.924 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:39:52.345 response time in milliseconds: 421\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: ddade3ba626e947984f8af4d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e9479-141d1386\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.64.120.195,169.175.61.93,153.40.245.130\n1 < dmz-global-txn-id: ddade3ba626e947984f8af4d\n1 < X-Archived-Client-IP: 23.64.120.195,23.64.120.195,169.175.61.93\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:08:57 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415337000; Expires=Sat, 08 Aug 54353 00:39:52 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=D5E72C6CD16DCE89CA06D058E333EEA9~-1~YAAQLp6yUhFX8HKAAQAADPvzfweb6ELBQcJpFSjGQ5HELlJgI6QEukOJ1rlT+5MZ9aH2P3b\/P8iEcE5zE3T0CH0qb++05dDorAh7AK\/0idF9TBggd0hBNQLDx6RUGVn2n777uyAhoIEhfncik3i6xTrnC3k8xVvwHeNKEQb9CzrZheM1riyyU6WnG+Fb51TszK2cyPTgxIeGB6a4Ly1qCiWMMi6BlwV2FibgTbJTJ6tTxxtbozb5bC7kEfqKPU5Bbta8sHK8Aw3GuKRo\/0crbgQTnDto9gNq+O9QKAJQ0bV5Kzbz8nYxXRp4Xb8r5Q2Uaz\/ezXLu3bZcDMrS6EWYfNKPQeYX\/2WrfeW2HAK1j4gQbvReSnhAicc=~-1~-1~-1; Max-Age=1682950137000; Expires=Fri, 24 Nov 55352 03:19:52 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=90E6E7D7D6D27C912E5C704257B9AE03~YAAQLp6yUhJX8HKAAQAADPvzfw9vOwF0OXzYGc+ZJJKgWwxQcFXYuSZ7WivSDav+wfjR29kHiGSFb0YeC6wiO1D1acq2jWxBh42zPEFxvE4s6NqrouL4kP1mjkisGAqKWJeDhBnqVaadR4JClVwI4CHWnf2ceZVlX6LwliCdJ7HlFsRuywodxchY\/lTqtcANCDejpHKom66FawQeIiiyIerYATbL3gPMdiNsCb76qJunSUn90\/8nV7Xvxkbz+qDyClk99tpxlyZQ6HaF+eQbsiPe1b7FySrAGwLY1YTM\/DoI~3553334~4277556; Max-Age=1651428537000; Expires=Thu, 07 Jan 54354 19:19:52 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhf8tDAN2m49rc73XT0LswHw7bojsAegAc68m4A6X-H5V-zIZ34dOxxXQ0ZbPB-XnxgCkAqJRLsm3xjL9tQRv3v5Q80FI9nf3jLv8ab9__AAkYFGrtQwbUa6OsU3NU_tbLMUXa-pOZPZ7of79FizGUStBfPhUlglkXifeGt-D4h8PJrDDZy5hKgAgjNsgCOcbMAf1S7ZXnZiXDqe5XOCIt5Wy1Dl904_lK6CAhWjhiJ7I\", \"expires_in\":1800, \"consented_on\":1651414137, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":395600,"millis":0.3956,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:39:52.346 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhf8tDAN2m49rc73XT0LswHw7bojsAegAc68m4A6X-H5V-zIZ34dOxxXQ0ZbPB-XnxgCkAqJRLsm3xjL9tQRv3v5Q80FI9nf3jLv8ab9__AAkYFGrtQwbUa6OsU3NU_tbLMUXa-pOZPZ7of79FizGUStBfPhUlglkXifeGt-D4h8PJrDDZy5hKgAgjNsgCOcbMAf1S7ZXnZiXDqe5XOCIt5Wy1Dl904_lK6CAhWjhiJ7I\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414137,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":285000,"millis":0.285,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":177700,"millis":0.1777,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":149300,"millis":0.1493,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":202300,"millis":0.2023,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:39:52.347 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhf8tDAN2m49rc73XT0LswHw7bojsAegAc68m4A6X-H5V-zIZ34dOxxXQ0ZbPB-XnxgCkAqJRLsm3xjL9tQRv3v5Q80FI9nf3jLv8ab9__AAkYFGrtQwbUa6OsU3NU_tbLMUXa-pOZPZ7of79FizGUStBfPhUlglkXifeGt-D4h8PJrDDZy5hKgAgjNsgCOcbMAf1S7ZXnZiXDqe5XOCIt5Wy1Dl904_lK6CAhWjhiJ7I \n"},{"result":{"nanos":122800,"millis":0.1228,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":66600,"millis":0.0666,"status":"passed"},"step":{"line":77,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"line":78,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":347900,"millis":0.3479,"status":"passed"},"step":{"line":79,"prefix":"And","index":2,"text":"header Authorization = 'Bearer 123456'"}},{"result":{"nanos":63800,"millis":0.0638,"status":"passed"},"step":{"line":80,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"line":81,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":47500,"millis":0.0475,"status":"passed"},"step":{"line":82,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"line":83,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":806882600,"millis":806.8826,"status":"passed"},"step":{"line":84,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:39:52.349 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer 123456\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=D5E72C6CD16DCE89CA06D058E333EEA9~-1~YAAQLp6yUhFX8HKAAQAADPvzfweb6ELBQcJpFSjGQ5HELlJgI6QEukOJ1rlT+5MZ9aH2P3b\/P8iEcE5zE3T0CH0qb++05dDorAh7AK\/0idF9TBggd0hBNQLDx6RUGVn2n777uyAhoIEhfncik3i6xTrnC3k8xVvwHeNKEQb9CzrZheM1riyyU6WnG+Fb51TszK2cyPTgxIeGB6a4Ly1qCiWMMi6BlwV2FibgTbJTJ6tTxxtbozb5bC7kEfqKPU5Bbta8sHK8Aw3GuKRo\/0crbgQTnDto9gNq+O9QKAJQ0bV5Kzbz8nYxXRp4Xb8r5Q2Uaz\/ezXLu3bZcDMrS6EWYfNKPQeYX\/2WrfeW2HAK1j4gQbvReSnhAicc=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=90E6E7D7D6D27C912E5C704257B9AE03~YAAQLp6yUhJX8HKAAQAADPvzfw9vOwF0OXzYGc+ZJJKgWwxQcFXYuSZ7WivSDav+wfjR29kHiGSFb0YeC6wiO1D1acq2jWxBh42zPEFxvE4s6NqrouL4kP1mjkisGAqKWJeDhBnqVaadR4JClVwI4CHWnf2ceZVlX6LwliCdJ7HlFsRuywodxchY\/lTqtcANCDejpHKom66FawQeIiiyIerYATbL3gPMdiNsCb76qJunSUn90\/8nV7Xvxkbz+qDyClk99tpxlyZQ6HaF+eQbsiPe1b7FySrAGwLY1YTM\/DoI~3553334~4277556\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:39:53.155 response time in milliseconds: 805\n2 < 401\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Credentials: true\n2 < WWW-Authenticate: Bearer error=\"invalid_token\"\n2 < X-Global-Transaction-ID: 98b6a370626e947a819fad8d\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 101\n2 < Date: Sun, 01 May 2022 14:08:58 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415338000; Expires=Sat, 08 Aug 54353 00:56:33 GMT; Domain=sandbox.apihub.citi.com; Secure\n{ \"type\":\"unAuthorized\", \"code\":\"401\", \"details\":\"Authorization credentials are missing or invalid\" }\n\n"},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":85,"prefix":"Then","index":8,"text":"status 401"}},{"result":{"nanos":340800,"millis":0.3408,"status":"passed"},"step":{"line":86,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:39:53.155 [print] {\n  \"type\": \"unAuthorized\",\n  \"code\": \"401\",\n  \"details\": \"Authorization credentials are missing or invalid\"\n}\n \n"},{"result":{"nanos":589800,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'unAuthorized'\n  'error'\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:87","millis":0.5898,"status":"failed"},"step":{"line":87,"prefix":"And","index":10,"text":"match response.type == 'error'"},"stepLog":"19:39:53.156 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:87\nAnd match response.type == 'error'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'unAuthorized'\n  'error'\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:87\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":88,"prefix":"And","index":11,"text":"match response.code == 'unAuthorized'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":89,"prefix":"And","index":12,"text":"match response.details == 'Authorization credentials are missing or invalid'"}}],"line":75,"description":"","durationMillis":1232.5299,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'unAuthorized'\n  'error'\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:87","executorName":"main","name":"Verify the LinkageAPI with invalid Authorization credentials in the request","startTime":1651414191923,"refId":"[5:75]","endTime":1651414193156,"exampleIndex":-1}],"callDepth":0,"name":"API level unit testing for linkage service","description":"","resultDate":"2022-05-01 07:39:53 pm","durationMillis":7878.1563,"passedCount":0}