{"failedCount":2,"prefixedPath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","packageQualifiedName":"src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting","loopIndex":-1,"relativePath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":48402900,"millis":48.4029,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":703800,"millis":0.7038,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":482900,"millis":0.4829,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":301700,"millis":0.3017,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":285800,"millis":0.2858,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":2727791400,"millis":2727.7914,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"21:08:50.411 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n21:08:52.893 response time in milliseconds: 2477\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 6e68aa42626ea9557da3222d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626ea954-14ad52bf\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.205.103.25,169.175.115.121,169.177.209.51\n1 < dmz-global-txn-id: 6e68aa42626ea9557da3222d\n1 < X-Archived-Client-IP: 23.205.103.25,23.205.103.25,169.175.115.121\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 15:37:58 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651420678000; Expires=Thu, 08 Oct 54353 21:45:32 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=2C8FCFC634790F0962863915A9F0B6B5~-1~YAAQLp6yUol88HKAAQAAX3hFgAf4anHXW5EraE6h6CINoOTrCPnGWLWqqp0Lf+y5k0Ib9wDp7jMwaMGFd2LXQHGvUPP43MuhkYAdxg3podilvZInI2xmBOkGiGFVb5sudlEVhgnPSdSFDRcf87Vj\/pOPpoWlB7eVuNCjv6+Jy0Gimxozu30PhQhMXigYyl+T2n5BstbrYZ\/iDjvfFw6K8c6cQOGUJQ\/iscMTruGhcQtVxvBlk6tTrtlHjdLIa1FF0fx2BVamtpmLWyD7mdjOD9GsHxMD8oXHA+lVO\/PEaO6yJ4IuSYM9IqqQ5DFMjD1tRalQJUphMcsNEY+WA049XH2cfhZqETUf0Pri8fNybdMf8MKT0uNuh8c=~-1~-1~-1; Max-Age=1682955478000; Expires=Thu, 25 Jan 55353 00:25:32 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=96F9675E67FE41233425960687942E6B~YAAQLp6yUop88HKAAQAAX3hFgA\/fL1sQ5sXZzmZl2DDt\/Ya2vk3qCZpYsQ0YSMDmC+3kEE8raTQ5RIlMFvtOaBCT217vHis6s\/zrkmMYUgqCW89IR7i\/17N0BFY6H6rd594kFidXWTYwcB2asBNnAyLN+M1c9TFA\/4CChdQTjew9f\/BvPBS1P6vxY0rFdDct\/ooixY+hftdFDXNkp19SsEuYPfGW4E8OTZtLY85kKUASmxpGGn\/xJ7XztOSb5U4VchiIxvYG\/hVbmGlhMbNNmzhkVysthVzwEJPFXFLxmibn~3687494~4338246; Max-Age=1651433876000; Expires=Wed, 10 Mar 54354 15:52:12 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhMeYdh2kJEsetgdmXm3vxgT9H9911KBQ3CprQwLjHq0PbV90AGpPGE0owZ82pdF81mYmHSA-HHrB17JDYr918CW42gWtWH5ZXmsM4VgFUdcu_4O-3J8gidzIHk9q-M0DV73opJmXLRYVGE2mWLjAwB1peZG3xbjweJLjWxnwQgjqatJ0d5Iirp2E1qbTY4XY5ma07MBI6qt2SdpJPXB4AJwLEPkzUx2krAf5rFatNWJA\", \"expires_in\":1800, \"consented_on\":1651419477, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":42635400,"millis":42.6354,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"21:08:52.955 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhMeYdh2kJEsetgdmXm3vxgT9H9911KBQ3CprQwLjHq0PbV90AGpPGE0owZ82pdF81mYmHSA-HHrB17JDYr918CW42gWtWH5ZXmsM4VgFUdcu_4O-3J8gidzIHk9q-M0DV73opJmXLRYVGE2mWLjAwB1peZG3xbjweJLjWxnwQgjqatJ0d5Iirp2E1qbTY4XY5ma07MBI6qt2SdpJPXB4AJwLEPkzUx2krAf5rFatNWJA\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651419477,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":17741800,"millis":17.7418,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":1658500,"millis":1.6585,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":909700,"millis":0.9097,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":608400,"millis":0.6084,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"21:08:52.977 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhMeYdh2kJEsetgdmXm3vxgT9H9911KBQ3CprQwLjHq0PbV90AGpPGE0owZ82pdF81mYmHSA-HHrB17JDYr918CW42gWtWH5ZXmsM4VgFUdcu_4O-3J8gidzIHk9q-M0DV73opJmXLRYVGE2mWLjAwB1peZG3xbjweJLjWxnwQgjqatJ0d5Iirp2E1qbTY4XY5ma07MBI6qt2SdpJPXB4AJwLEPkzUx2krAf5rFatNWJA \n"},{"result":{"nanos":6732800,"millis":6.7328,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":306200,"millis":0.3062,"status":"passed"},"step":{"line":19,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":174100,"millis":0.1741,"status":"passed"},"step":{"line":20,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":139400,"millis":0.1394,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":205500,"millis":0.2055,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":118700,"millis":0.1187,"status":"passed"},"step":{"line":23,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":227300,"millis":0.2273,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":189000,"millis":0.189,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":1721851100,"millis":1721.8511,"status":"passed"},"step":{"line":26,"prefix":"When","index":7,"text":"method POST"},"stepLog":"21:08:52.987 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhMeYdh2kJEsetgdmXm3vxgT9H9911KBQ3CprQwLjHq0PbV90AGpPGE0owZ82pdF81mYmHSA-HHrB17JDYr918CW42gWtWH5ZXmsM4VgFUdcu_4O-3J8gidzIHk9q-M0DV73opJmXLRYVGE2mWLjAwB1peZG3xbjweJLjWxnwQgjqatJ0d5Iirp2E1qbTY4XY5ma07MBI6qt2SdpJPXB4AJwLEPkzUx2krAf5rFatNWJA\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=2C8FCFC634790F0962863915A9F0B6B5~-1~YAAQLp6yUol88HKAAQAAX3hFgAf4anHXW5EraE6h6CINoOTrCPnGWLWqqp0Lf+y5k0Ib9wDp7jMwaMGFd2LXQHGvUPP43MuhkYAdxg3podilvZInI2xmBOkGiGFVb5sudlEVhgnPSdSFDRcf87Vj\/pOPpoWlB7eVuNCjv6+Jy0Gimxozu30PhQhMXigYyl+T2n5BstbrYZ\/iDjvfFw6K8c6cQOGUJQ\/iscMTruGhcQtVxvBlk6tTrtlHjdLIa1FF0fx2BVamtpmLWyD7mdjOD9GsHxMD8oXHA+lVO\/PEaO6yJ4IuSYM9IqqQ5DFMjD1tRalQJUphMcsNEY+WA049XH2cfhZqETUf0Pri8fNybdMf8MKT0uNuh8c=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=96F9675E67FE41233425960687942E6B~YAAQLp6yUop88HKAAQAAX3hFgA\/fL1sQ5sXZzmZl2DDt\/Ya2vk3qCZpYsQ0YSMDmC+3kEE8raTQ5RIlMFvtOaBCT217vHis6s\/zrkmMYUgqCW89IR7i\/17N0BFY6H6rd594kFidXWTYwcB2asBNnAyLN+M1c9TFA\/4CChdQTjew9f\/BvPBS1P6vxY0rFdDct\/ooixY+hftdFDXNkp19SsEuYPfGW4E8OTZtLY85kKUASmxpGGn\/xJ7XztOSb5U4VchiIxvYG\/hVbmGlhMbNNmzhkVysthVzwEJPFXFLxmibn~3687494~4338246\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n21:08:54.707 response time in milliseconds: 1720\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 7e5efe3d-cd2c-463b-b3ff-e307504521e9\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: f3f8fef3-345b-4522-9970-dfc968846fc2\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n2 < X-Vcap-Request-Id: 49119afa-0f28-441a-5592-8fd18f73c276\n2 < X-Global-Transaction-ID: 6e68aa42626ea9567da9811d\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: kcMSBJNIVxZQ6p%2FkOrhbKgSLqYLNy0fHKYQ%2FikG4B7kWQZJlltjYcnSOhVyfANkKpWVYr7jgDCvjutjMTIjhnug7t%2F2%2F8Geqc7IHBstE30HgM9KmKYU%2Fer6O34rcq08YkanaGCKmpp64GWZYRGFyg5XgNBVXhJvxbi1e6LJeLSnS5ukQ99xfhLApUX%2F2fMK8VxlLkmq9CzjmrONZyxYk0NSQBATOESC3VZ0zY762ODe4RFqRW5eaa14G%2Ft%2B65S%2Fs5Wp18yQ9nPumotNq%2BsRwXp1SJS2rFAAMlzh1RbgbVRKY2n%2ByR463Pr49k%2Fl8fA51lMveNPSX611z3zqwxtLJxWeZKczsOEJBzfcOHDuSsuGDmbkvLlNNP0ciPXAtJhGFzTNKFoVcLg0x%2Fe3KUmvUVdMxjPPoXFgr4LUo28O8a2tPYjjaCNnhNxT%2B06QhWGIx4ex0CxI56bAnOrxIoY1tPQ%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 15:37:59 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651420679000; Expires=Thu, 08 Oct 54353 22:02:14 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":422000,"millis":0.422,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"match response.rewardLinkCode != null"}}],"executorName":"main","line":18,"name":"Verify the LinkageAPI with all mandatory body parameters","description":"","durationMillis":4571.9143,"startTime":1651419530126,"failed":false,"refId":"[1:18]","endTime":1651419534709,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":108600,"millis":0.1086,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":240000,"millis":0.24,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":223100,"millis":0.2231,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":178900,"millis":0.1789,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":163800,"millis":0.1638,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":625882700,"millis":625.8827,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"21:08:54.714 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n21:08:55.338 response time in milliseconds: 624\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 2b769208626ea958ebb2425f\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626ea958-14ad6bd7\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.221.23.115,169.175.61.96,169.177.209.50\n1 < dmz-global-txn-id: 2b769208626ea958ebb2425f\n1 < X-Archived-Client-IP: 23.221.23.115,23.221.23.115,169.175.61.96\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 15:38:00 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651420680000; Expires=Thu, 08 Oct 54353 22:18:55 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=EABA3A615793087945D8AA1B2D07320F~-1~YAAQLp6yUox88HKAAQAAB4JFgAcHyVXRSK8J4JFiXx\/pTn+lxzADGeaw0Skx+9p9G0skF+RJ1PHHatp\/mstGLXE6JPFQrQRqRqu2y9wPSVWBVUtpAI35nCCWnKkxH0\/s+RMteFDOAjn4Vwij2y9w1iP6qaO0G55zqP44nV7ScohKw9zWqwYtIgkkuW2n2vVfpt1ndr8mVArR6\/rB1l3\/WF\/qOSxnXXHGoMxWXd6PgvdcR6oBOPZ0Jxqs\/R9YI+6dnkBGc6KgwP9uvbuXNrJbLZs6l1x4pHCxtxX9WrLuYdSOs+Gkw1UFFHMUDag4QIoVGG20SHWeqwBtGdDOTcTo9RLY9kAWSa82LQ71dsd2Wm7PGJPl9G8pR5w=~-1~-1~-1; Max-Age=1682955480000; Expires=Thu, 25 Jan 55353 00:58:55 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=7A4FDAE37BF2E645257D6044DC885B7B~YAAQLp6yUo188HKAAQAAB4JFgA+oHzv5bTkV\/cqJuX1UdtYgTkru0lcwTyYOtIcAfqo2oR5qn9lxqHJIQJXe+dBhNPKIcs3C1G59Mv4RmFZGJkpSwRnY00rjM+P9r3imjtpQnmeUWLrrW8sZhtFa3FFuysr8OUg4adz0Ymt2WDzBT8Tgz4jC98Ff3QPBhVDUuE11+rvpWBul538zlcVzdG0Pd43IuvX1RbHiBIbkZMMoVssMwjlfLb4FqWbwHhYLf3VTCehAZxkhrXEyouAmau+BkvV9k5RLHAYnni2GFr9R~4469314~3290422; Max-Age=1651433880000; Expires=Wed, 10 Mar 54354 16:58:55 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh4bLjDrdRqTbaRII2pbVxM6CBuk5vc64vnp9uUpT0xhYc20WbxGk0tflfuak11osBwtst5OxlTJygRBwVnsLtmvKOo0JsSQA1rxo5vCfxXIYx_gEQT_o5EsjOzR3oqnjwaEgL2_Ynx9arTmaYyxH-009HenL6tFUU8P0iyn0627HdIhJqsCkEn4MlpI3fbAT1snyZPY-nhlyBiwlKXpWfNn_omgaX9P-kenXa33AQpvM\", \"expires_in\":1800, \"consented_on\":1651419480, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":391200,"millis":0.3912,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"21:08:55.339 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh4bLjDrdRqTbaRII2pbVxM6CBuk5vc64vnp9uUpT0xhYc20WbxGk0tflfuak11osBwtst5OxlTJygRBwVnsLtmvKOo0JsSQA1rxo5vCfxXIYx_gEQT_o5EsjOzR3oqnjwaEgL2_Ynx9arTmaYyxH-009HenL6tFUU8P0iyn0627HdIhJqsCkEn4MlpI3fbAT1snyZPY-nhlyBiwlKXpWfNn_omgaX9P-kenXa33AQpvM\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651419480,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":393700,"millis":0.3937,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":250700,"millis":0.2507,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":150800,"millis":0.1508,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":153500,"millis":0.1535,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"21:08:55.340 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh4bLjDrdRqTbaRII2pbVxM6CBuk5vc64vnp9uUpT0xhYc20WbxGk0tflfuak11osBwtst5OxlTJygRBwVnsLtmvKOo0JsSQA1rxo5vCfxXIYx_gEQT_o5EsjOzR3oqnjwaEgL2_Ynx9arTmaYyxH-009HenL6tFUU8P0iyn0627HdIhJqsCkEn4MlpI3fbAT1snyZPY-nhlyBiwlKXpWfNn_omgaX9P-kenXa33AQpvM \n"},{"result":{"nanos":130300,"millis":0.1303,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":63000,"millis":0.063,"status":"passed"},"step":{"line":31,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"line":32,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":63000,"millis":0.063,"status":"passed"},"step":{"line":33,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":65800,"millis":0.0658,"status":"passed"},"step":{"line":34,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":78900,"millis":0.0789,"status":"passed"},"step":{"line":35,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":64100,"millis":0.0641,"status":"passed"},"step":{"line":36,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":286700,"millis":0.2867,"status":"passed"},"step":{"line":37,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":12436708500,"millis":12436.7085,"status":"passed"},"step":{"line":38,"prefix":"When","index":7,"text":"method POST"},"stepLog":"21:08:55.342 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh4bLjDrdRqTbaRII2pbVxM6CBuk5vc64vnp9uUpT0xhYc20WbxGk0tflfuak11osBwtst5OxlTJygRBwVnsLtmvKOo0JsSQA1rxo5vCfxXIYx_gEQT_o5EsjOzR3oqnjwaEgL2_Ynx9arTmaYyxH-009HenL6tFUU8P0iyn0627HdIhJqsCkEn4MlpI3fbAT1snyZPY-nhlyBiwlKXpWfNn_omgaX9P-kenXa33AQpvM\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=EABA3A615793087945D8AA1B2D07320F~-1~YAAQLp6yUox88HKAAQAAB4JFgAcHyVXRSK8J4JFiXx\/pTn+lxzADGeaw0Skx+9p9G0skF+RJ1PHHatp\/mstGLXE6JPFQrQRqRqu2y9wPSVWBVUtpAI35nCCWnKkxH0\/s+RMteFDOAjn4Vwij2y9w1iP6qaO0G55zqP44nV7ScohKw9zWqwYtIgkkuW2n2vVfpt1ndr8mVArR6\/rB1l3\/WF\/qOSxnXXHGoMxWXd6PgvdcR6oBOPZ0Jxqs\/R9YI+6dnkBGc6KgwP9uvbuXNrJbLZs6l1x4pHCxtxX9WrLuYdSOs+Gkw1UFFHMUDag4QIoVGG20SHWeqwBtGdDOTcTo9RLY9kAWSa82LQ71dsd2Wm7PGJPl9G8pR5w=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=7A4FDAE37BF2E645257D6044DC885B7B~YAAQLp6yUo188HKAAQAAB4JFgA+oHzv5bTkV\/cqJuX1UdtYgTkru0lcwTyYOtIcAfqo2oR5qn9lxqHJIQJXe+dBhNPKIcs3C1G59Mv4RmFZGJkpSwRnY00rjM+P9r3imjtpQnmeUWLrrW8sZhtFa3FFuysr8OUg4adz0Ymt2WDzBT8Tgz4jC98Ff3QPBhVDUuE11+rvpWBul538zlcVzdG0Pd43IuvX1RbHiBIbkZMMoVssMwjlfLb4FqWbwHhYLf3VTCehAZxkhrXEyouAmau+BkvV9k5RLHAYnni2GFr9R~4469314~3290422\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n21:09:07.777 response time in milliseconds: 12435\n2 < 400\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: c4916c56-0dbd-48b2-ada0-18e2fc28100e\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 53dbea6f-e50e-4f36-8ecf-02141f3b96db\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Vcap-Request-Id: 63a1c5bf-9f4a-4b2f-4415-ed5b27b8d33c\n2 < X-Global-Transaction-ID: 6e68aa42626ea9587da7f1cd\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: 976979aw3a51x%2B0b1aCkRp1RMJO4XRqZ7gWGDDjISgiDZxaHw%2BKigpQImp3k1bGqyisl9fvhPrS57JgRZlMNrKFNg%2FHIFqtb%2B0%2BXQLeI1%2B2avnoXGKg0Tf92Hm7D9O1tziyHz3ymtxIdFmyMeNlU1C%2F%2FzgN3FWp%2BAs4DO6WSwlJOUOJY7l8EMnOOrTF2ZkDTcCXofpERdGZoOkg7pyb%2BkOEHBG1ZVhEcMlddAP9eJtigb%2F8GjG9u0dV1FJXcb7R2vPqgK2FMYGi7z5oPxGFfsya6H1jDC4b4wuxtVJtH%2B5U%2Fa3%2B9LfsCysMn2qlbXTBAyCfnS8zhckep0o%2B2atUYoFnp6d65zB4y8%2BX3l2h4jIk2%2BwwvL5rnCiAyf7jk7uGogh2aTjrOrk7vkQFk0KQ5v7Mnme0LCxGo0UhKYUP2VlWPbt%2FGNm5pc4hsSkfeTBXCSJquvuODU7umeUL3QF762g%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 84\n2 < Date: Sun, 01 May 2022 15:38:13 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651420693000; Expires=Fri, 09 Oct 54353 01:55:47 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"type\":\"invalid\",\"code\":\"invalidRequest\",\"details\":\"Missing or invalid parameters\"}\n\n"},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"line":39,"prefix":"Then","index":8,"text":"status 400"}},{"result":{"nanos":502100,"millis":0.5021,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"print response"},"stepLog":"21:09:07.778 [print] {\n  \"type\": \"invalid\",\n  \"code\": \"invalidRequest\",\n  \"details\": \"Missing or invalid parameters\"\n}\n \n"},{"result":{"nanos":701400,"millis":0.7014,"status":"passed"},"step":{"line":41,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":577300,"millis":0.5773,"status":"passed"},"step":{"line":42,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":383000,"millis":0.383,"status":"passed"},"step":{"line":43,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"executorName":"main","line":30,"name":"Verify the LinkageAPI with invalid lastFourDigitsCardNumber in body parameters","description":"","durationMillis":13067.819,"startTime":1651419534712,"failed":false,"refId":"[2:30]","endTime":1651419547781,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":102800,"millis":0.1028,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":61100,"millis":0.0611,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":94700,"millis":0.0947,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":68300,"millis":0.0683,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":59100,"millis":0.0591,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":524873300,"millis":524.8733,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"21:09:07.784 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n21:09:08.308 response time in milliseconds: 523\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 6e68aa42626ea965cd34246f\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626ea965-14add93f\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.221.23.115,169.175.115.121,169.177.209.51\n1 < dmz-global-txn-id: 6e68aa42626ea965cd34246f\n1 < X-Archived-Client-IP: 23.221.23.115,23.221.23.115,169.175.115.121\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 15:38:13 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651420693000; Expires=Fri, 09 Oct 54353 01:55:48 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=E5E71CFDC2E47A24866B5014B98D91CE~-1~YAAQLp6yUq588HKAAQAApLRFgAdddzbJTmbxnpH7SBxFFwe95OVSrCyTDB3dTiP8Y90N0b64wyR7636mERCDwsP3SjX8Uj4Fda22+freM3zf7gy3OgiTxepEYgQ78U75KwrFaoviS+Mh+2mNJZx9RrVP2jAgtNcEGDPHlmfaxn1hDmDEBdUw99jXNVia5iZYZSGfVTPoB55meKPiTbPCiE2LyoC8HqduMR5Mw1iJzv3ySBhRP20ejGaOI46YHxCdqBOfDKyeR7OtPgX3XI72fw2Elymp48AtLyF\/3ox3H5iwNmx1AOsWX76Xfy3I26K6Iu3yencMD8BV+Sz0yUryDYdQtyD\/W\/VloNd9qUqkemlHPkvzLHs4LoU=~-1~-1~-1; Max-Age=1682955493000; Expires=Thu, 25 Jan 55353 04:35:48 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=30D6B6F1F54CD75D199A69E028749FFA~YAAQLp6yUq988HKAAQAApLRFgA9P7Bs0kyXMHsNRYhdBvMhqKwGndeHe7U0EBBdRCfgWVD75K0DMndHmIcTJCYRFyBmxzISvUEyo5pw8LC6eXym2JQx9g1YwwykYr6oD5qzDzv27ShpkhDIaQI4NfMZrwIJ8S90n9p0C37Gx0X8wr3VvlIQcNudBg8mNTf0DwccMjTkZ1xlCJrkYmoS4DSuYkQPyNdWwK+3qZkVj4Bqw9yCm9h4XfLBeLOsNtl1xEI2LjtfmEysWco5gTg1pRBiCZNDseecavZ1hpJNr5khV~4405573~4604720; Max-Age=1651433893000; Expires=Wed, 10 Mar 54354 20:35:48 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh2UbXpFBDnCKT1LBjSwNcIwoDFIi4NDn1UGK63GSEXu3jaanS4dXyt0TXweoeKTXzwaVEKfKfchHjWwWxN10ZwOZuQmIEjnw1GYNaZtzwOg77CpwLPJrErkZtrXx6aaOGGgRSDQjAVgNTQngQefz-thGtJJEA2zWhvjuVu6BDrrKZUnFtUzgQA28NIpWGuPZrNUErJlcngIN37nPb1skyVhyIP_-lmAzBf1JhRpY9lD0\", \"expires_in\":1800, \"consented_on\":1651419493, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":763500,"millis":0.7635,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"21:09:08.310 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh2UbXpFBDnCKT1LBjSwNcIwoDFIi4NDn1UGK63GSEXu3jaanS4dXyt0TXweoeKTXzwaVEKfKfchHjWwWxN10ZwOZuQmIEjnw1GYNaZtzwOg77CpwLPJrErkZtrXx6aaOGGgRSDQjAVgNTQngQefz-thGtJJEA2zWhvjuVu6BDrrKZUnFtUzgQA28NIpWGuPZrNUErJlcngIN37nPb1skyVhyIP_-lmAzBf1JhRpY9lD0\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651419493,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":526000,"millis":0.526,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":271500,"millis":0.2715,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":200900,"millis":0.2009,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":230900,"millis":0.2309,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"21:09:08.311 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh2UbXpFBDnCKT1LBjSwNcIwoDFIi4NDn1UGK63GSEXu3jaanS4dXyt0TXweoeKTXzwaVEKfKfchHjWwWxN10ZwOZuQmIEjnw1GYNaZtzwOg77CpwLPJrErkZtrXx6aaOGGgRSDQjAVgNTQngQefz-thGtJJEA2zWhvjuVu6BDrrKZUnFtUzgQA28NIpWGuPZrNUErJlcngIN37nPb1skyVhyIP_-lmAzBf1JhRpY9lD0 \n"},{"result":{"nanos":123600,"millis":0.1236,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":58600,"millis":0.0586,"status":"passed"},"step":{"line":46,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"line":47,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":43000,"millis":0.043,"status":"passed"},"step":{"line":48,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":1304400,"millis":1.3044,"status":"passed"},"step":{"line":49,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":71300,"millis":0.0713,"status":"passed"},"step":{"line":50,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":73300,"millis":0.0733,"status":"passed"},"step":{"line":51,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":285000,"millis":0.285,"status":"passed"},"step":{"line":52,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":24274943900,"millis":24274.9439,"status":"passed"},"step":{"line":53,"prefix":"When","index":7,"text":"method POST"},"stepLog":"21:09:08.314 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh2UbXpFBDnCKT1LBjSwNcIwoDFIi4NDn1UGK63GSEXu3jaanS4dXyt0TXweoeKTXzwaVEKfKfchHjWwWxN10ZwOZuQmIEjnw1GYNaZtzwOg77CpwLPJrErkZtrXx6aaOGGgRSDQjAVgNTQngQefz-thGtJJEA2zWhvjuVu6BDrrKZUnFtUzgQA28NIpWGuPZrNUErJlcngIN37nPb1skyVhyIP_-lmAzBf1JhRpY9lD0\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=E5E71CFDC2E47A24866B5014B98D91CE~-1~YAAQLp6yUq588HKAAQAApLRFgAdddzbJTmbxnpH7SBxFFwe95OVSrCyTDB3dTiP8Y90N0b64wyR7636mERCDwsP3SjX8Uj4Fda22+freM3zf7gy3OgiTxepEYgQ78U75KwrFaoviS+Mh+2mNJZx9RrVP2jAgtNcEGDPHlmfaxn1hDmDEBdUw99jXNVia5iZYZSGfVTPoB55meKPiTbPCiE2LyoC8HqduMR5Mw1iJzv3ySBhRP20ejGaOI46YHxCdqBOfDKyeR7OtPgX3XI72fw2Elymp48AtLyF\/3ox3H5iwNmx1AOsWX76Xfy3I26K6Iu3yencMD8BV+Sz0yUryDYdQtyD\/W\/VloNd9qUqkemlHPkvzLHs4LoU=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=30D6B6F1F54CD75D199A69E028749FFA~YAAQLp6yUq988HKAAQAApLRFgA9P7Bs0kyXMHsNRYhdBvMhqKwGndeHe7U0EBBdRCfgWVD75K0DMndHmIcTJCYRFyBmxzISvUEyo5pw8LC6eXym2JQx9g1YwwykYr6oD5qzDzv27ShpkhDIaQI4NfMZrwIJ8S90n9p0C37Gx0X8wr3VvlIQcNudBg8mNTf0DwccMjTkZ1xlCJrkYmoS4DSuYkQPyNdWwK+3qZkVj4Bqw9yCm9h4XfLBeLOsNtl1xEI2LjtfmEysWco5gTg1pRBiCZNDseecavZ1hpJNr5khV~4405573~4604720\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n21:09:32.587 response time in milliseconds: 24273\n2 < 502\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: text\/plain\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: e3060464-290b-4696-9b22-1bd999bb84eb\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n2 < X-Cf-Routererror: endpoint_failure (EOF)\n2 < X-Vcap-Request-Id: d77fb503-db40-4032-5c79-cfb4b4b4b257\n2 < X-Global-Transaction-ID: 6e68aa42626ea9667da9946d\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: fVjBr84jWdhokF%2FJyQ%2FTKzRmeB7jusHNx940tXMBJDtvuAkvOzTi1N1wADJJqIZM%2BpmKzqTzMRxBxC4ROzcbJA%2Blgz%2FaaTYVPGnh8E%2B04t%2BiLzVPD0dHCBen%2Bg4hyT6TsgLjVTUkza0V4mMGzcA62MOms1DXnNiHSvTzhM74zloUgLv2zD%2BxfzD77bdoV9foh7muzpsrRT4UipEvHK%2BsoNgyNwvCiFFDNue1akpSD5tuU4jfeD13BYt2frtjovwr3S6pErDtgDvkLXI22xTT0NqaM3upB9L3hzYPqbeXvs4xRE1wveqWtboyLC6W0VTI09GneoxCzSQolJLNCFUCg9Z0h2Hkv20zQA2DgS3NPnuyHn8Iq5IbeBmxcsJefVnQo57akNjkE%2Bhj6lrBjh5vdg6tv3wNySQrovvho06s6JBp0Ml8radliyNu5H3qJgQiYbTWdp5jOuogwtCVJ609DA%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 67\n2 < Date: Sun, 01 May 2022 15:38:37 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651420717000; Expires=Fri, 09 Oct 54353 08:36:12 GMT; Domain=sandbox.apihub.citi.com; Secure\n502 Bad Gateway: Registered endpoint failed to handle the request.\n\n\n"},{"result":{"nanos":145800,"errorMessage":"status code was: 502, expected: 400, response time in milliseconds: 24273, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n502 Bad Gateway: Registered endpoint failed to handle the request.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54","millis":0.1458,"status":"failed"},"step":{"line":54,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"21:09:32.589 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54\nThen status 400\nstatus code was: 502, expected: 400, response time in milliseconds: 24273, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n502 Bad Gateway: Registered endpoint failed to handle the request.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":45,"description":"","durationMillis":24804.3585,"failed":true,"error":"status code was: 502, expected: 400, response time in milliseconds: 24273, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n502 Bad Gateway: Registered endpoint failed to handle the request.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54","executorName":"main","name":"Verify the LinkageAPI with invalid citiCardHolderPhoneNumber in body parameters","startTime":1651419547782,"refId":"[3:45]","endTime":1651419572589,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":135300,"millis":0.1353,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":47200,"millis":0.0472,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":65000,"millis":0.065,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":57000,"millis":0.057,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":54300,"millis":0.0543,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":740673100,"millis":740.6731,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"21:09:32.593 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n21:09:33.331 response time in milliseconds: 738\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 6e68aa42626ea97ecd35403f\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626ea97e-14ae9b3a\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.221.23.115,169.175.115.121,169.177.209.49\n1 < dmz-global-txn-id: 6e68aa42626ea97ecd35403f\n1 < X-Archived-Client-IP: 23.221.23.115,23.221.23.115,169.175.115.121\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,57;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 15:38:38 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651420718000; Expires=Fri, 09 Oct 54353 08:52:53 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=E586704E53320CFAE69D7A9513E43A3D~-1~YAAQLp6yUu188HKAAQAAcxZGgAeyzFMFHEGcdpedzbIhAcvJnaekWzU8uV7A53+1HEDu0dWFSMgSrPhL1yNDpXpVCGi3+DkAYeOgoRFGR9ck9iDwNCsO2bR7EyMA8XopC\/jJ0626Psis2mEw8QawuXLjH82g2F82NmduhElu7TXX3USICbui2gMlJi6zU5an+gfE4ioo8PQHTJLTEP7QxiARIvdl4Gu+jEJWGm35bMh+bIoo8Nuk4qjSKkL84gu4r8gQQHmqphPjtTm9mp9Z4izYmpNE5TNxfFkO\/jT7OeRppx8kxGAHcrsq4eqOz3X+pxpiTsAq2QEPAmcH3KyWFj0xvCPtml32H2uFTwUZyiLkWIfV0DzrZLk=~-1~-1~-1; Max-Age=1682955518000; Expires=Thu, 25 Jan 55353 11:32:53 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=671F6E13A777080F311010C62F8D0B9D~YAAQLp6yUu588HKAAQAAcxZGgA+eGZSxPmFg\/HhjSj4agj+so+CDTU06W5rBCfdHlaZWlXvH3LhvoQHRgYpnKWK+rCOEnQDc6XxkDi3A8hIw4UpxGodZmyXS\/vO9+N11Mn8Gdb2g0ITOc9m1zLI24LzukliCDKl\/rgcv6QrmTWYfQxgezw+kQ9pxX1ftwiRnmNPWccOmLIoWiPBsJAH4DNNbaKkSbFQVnh+\/+Wm03GpRYDKniA5Cb692LyJNiuY7tbSDA6dstSGG8aNqtHOEhDsKTsmjMiJ7Uxxyu3zxH82J~4468802~4539971; Max-Age=1651433918000; Expires=Thu, 11 Mar 54354 03:32:53 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhchJOnMf5Wwoa20A9ezTCQaA7H6iPwJaLcN8Mbtsj234XgR9PFb4SZYJSSIVXDtG7sCL3VtPxwU5Q7Cnht_drkbKEXQrVnG52djh1fHP6qJt0d1LphbS5-yiW5-PLjSHd15bnXCFq8ESbGnbQ2jg3gc6nvitc7ciTYfG7shfklIjVjCiu40RhSb3syx2ae2YASg8DK4bhGubR8PD-qb7b2xZ17uUZ8qHCaNXT34PlxAg\", \"expires_in\":1800, \"consented_on\":1651419518, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":8900,"millis":0.0089,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":430300,"millis":0.4303,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"21:09:33.333 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhchJOnMf5Wwoa20A9ezTCQaA7H6iPwJaLcN8Mbtsj234XgR9PFb4SZYJSSIVXDtG7sCL3VtPxwU5Q7Cnht_drkbKEXQrVnG52djh1fHP6qJt0d1LphbS5-yiW5-PLjSHd15bnXCFq8ESbGnbQ2jg3gc6nvitc7ciTYfG7shfklIjVjCiu40RhSb3syx2ae2YASg8DK4bhGubR8PD-qb7b2xZ17uUZ8qHCaNXT34PlxAg\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651419518,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":414100,"millis":0.4141,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":338000,"millis":0.338,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":161100,"millis":0.1611,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":179100,"millis":0.1791,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"21:09:33.334 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhchJOnMf5Wwoa20A9ezTCQaA7H6iPwJaLcN8Mbtsj234XgR9PFb4SZYJSSIVXDtG7sCL3VtPxwU5Q7Cnht_drkbKEXQrVnG52djh1fHP6qJt0d1LphbS5-yiW5-PLjSHd15bnXCFq8ESbGnbQ2jg3gc6nvitc7ciTYfG7shfklIjVjCiu40RhSb3syx2ae2YASg8DK4bhGubR8PD-qb7b2xZ17uUZ8qHCaNXT34PlxAg \n"},{"result":{"nanos":150000,"millis":0.15,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":67100,"millis":0.0671,"status":"passed"},"step":{"line":61,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":43200,"millis":0.0432,"status":"passed"},"step":{"line":62,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"line":63,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":73200,"millis":0.0732,"status":"passed"},"step":{"line":64,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":51600,"millis":0.0516,"status":"passed"},"step":{"line":65,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"line":66,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":299000,"millis":0.299,"status":"passed"},"step":{"line":67,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"!@#$%^&*()_+\"}'"}},{"result":{"nanos":1008396700,"millis":1008.3967,"status":"passed"},"step":{"line":68,"prefix":"When","index":7,"text":"method POST"},"stepLog":"21:09:33.336 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhchJOnMf5Wwoa20A9ezTCQaA7H6iPwJaLcN8Mbtsj234XgR9PFb4SZYJSSIVXDtG7sCL3VtPxwU5Q7Cnht_drkbKEXQrVnG52djh1fHP6qJt0d1LphbS5-yiW5-PLjSHd15bnXCFq8ESbGnbQ2jg3gc6nvitc7ciTYfG7shfklIjVjCiu40RhSb3syx2ae2YASg8DK4bhGubR8PD-qb7b2xZ17uUZ8qHCaNXT34PlxAg\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=E586704E53320CFAE69D7A9513E43A3D~-1~YAAQLp6yUu188HKAAQAAcxZGgAeyzFMFHEGcdpedzbIhAcvJnaekWzU8uV7A53+1HEDu0dWFSMgSrPhL1yNDpXpVCGi3+DkAYeOgoRFGR9ck9iDwNCsO2bR7EyMA8XopC\/jJ0626Psis2mEw8QawuXLjH82g2F82NmduhElu7TXX3USICbui2gMlJi6zU5an+gfE4ioo8PQHTJLTEP7QxiARIvdl4Gu+jEJWGm35bMh+bIoo8Nuk4qjSKkL84gu4r8gQQHmqphPjtTm9mp9Z4izYmpNE5TNxfFkO\/jT7OeRppx8kxGAHcrsq4eqOz3X+pxpiTsAq2QEPAmcH3KyWFj0xvCPtml32H2uFTwUZyiLkWIfV0DzrZLk=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=671F6E13A777080F311010C62F8D0B9D~YAAQLp6yUu588HKAAQAAcxZGgA+eGZSxPmFg\/HhjSj4agj+so+CDTU06W5rBCfdHlaZWlXvH3LhvoQHRgYpnKWK+rCOEnQDc6XxkDi3A8hIw4UpxGodZmyXS\/vO9+N11Mn8Gdb2g0ITOc9m1zLI24LzukliCDKl\/rgcv6QrmTWYfQxgezw+kQ9pxX1ftwiRnmNPWccOmLIoWiPBsJAH4DNNbaKkSbFQVnh+\/+Wm03GpRYDKniA5Cb692LyJNiuY7tbSDA6dstSGG8aNqtHOEhDsKTsmjMiJ7Uxxyu3zxH82J~4468802~4539971\n2 > Content-Length: 123\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"!@#$%^&*()_+\"}\n\n21:09:34.343 response time in milliseconds: 1007\n2 < 503\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: text\/plain\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: f592f937-6c3b-4399-8c9a-8627d5582c7a\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Cf-Routererror: endpoint_failure (x509: certificate is not valid for any names, but wanted to match 14e0b6d7-4c6c-41e5-4b3c-94bb)\n2 < X-Vcap-Request-Id: c6fa7c3e-6808-4135-751c-0e8ca12d22ae\n2 < X-Global-Transaction-ID: 6e68aa42626ea97fcd376a1f\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: 6enmUdTpDa8ERSOA6HvNky2cgmEtdOTlmWwOXeoMREKOBFXUfH5Toixcp7Lt8J705yllNdje3AejQNTE3NP7HVOqzrgpqoHMgOqjEknlQXTV6HFAgWw723aZc%2Fq%2FErUJQNr5Sbf0x9iwhV20ZFJhuDnseVvpwcvOEAt1D%2Fb6JGX9j2a25GYyZJCVodtct1GTS%2Bej4p4wgUcRLO56xqRELJFNIMhtMs7AKV14ZcIUqTXVavacFoQnOfJlg9uLjTNOFH7qnLoPreucxTIEkAragHhYUmrXVpC2tU%2FAdCfOB7vInVvYkUyYQDlu9CUpaYb9b%2FGi0ngm%2FBsqEb6kLHxgj4RdTzXFd5HpqirlIX3rI8RWkrwfUTNShBtRqzLYd%2F2lcrQQ6yyIAZtntzKoH73mFiZ8fRFdZ6R3VI0FXhcAz4X7AZvlU3E082UyJc%2FOV7lvmxV%2FhHWMMcdpNkXHhnzbqg%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 24\n2 < Date: Sun, 01 May 2022 15:38:39 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651420719000; Expires=Fri, 09 Oct 54353 09:09:34 GMT; Domain=sandbox.apihub.citi.com; Secure\n503 Service Unavailable\n\n\n"},{"result":{"nanos":48800,"errorMessage":"status code was: 503, expected: 400, response time in milliseconds: 1007, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n503 Service Unavailable\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","millis":0.0488,"status":"failed"},"step":{"line":69,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"21:09:34.344 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\nThen status 400\nstatus code was: 503, expected: 400, response time in milliseconds: 1007, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n503 Service Unavailable\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":70,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":71,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":72,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":73,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":60,"description":"","durationMillis":1751.7876,"failed":true,"error":"status code was: 503, expected: 400, response time in milliseconds: 1007, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n503 Service Unavailable\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","executorName":"main","name":"Verify the LinkageAPI with invalid merchantCustomerReferenceId in body parameters","startTime":1651419572592,"refId":"[4:60]","endTime":1651419574344,"exampleIndex":-1},{"sectionIndex":4,"stepResults":[{"result":{"nanos":175200,"millis":0.1752,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":128200,"millis":0.1282,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":118800,"millis":0.1188,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":104200,"millis":0.1042,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":57400,"millis":0.0574,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":967572600,"millis":967.5726,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"21:09:34.350 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n21:09:35.315 response time in milliseconds: 965\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 6e68aa42626ea98040653be1\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626ea97f-14aea72c\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.205.103.7,169.175.115.121,169.177.209.50\n1 < dmz-global-txn-id: 6e68aa42626ea98040653be1\n1 < X-Archived-Client-IP: 23.205.103.7,23.205.103.7,169.175.115.121\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,56;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 15:38:40 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651420720000; Expires=Fri, 09 Oct 54353 09:26:15 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=5E1D60D894EC7C70E592C4385C036645~-1~YAAQLp6yUvh88HKAAQAALx5GgAfxq9hfvGpO0fYlxGhaTcZUJruIPTzjiSGvd9UAtFhFwDGr0i17V7n\/KLRVVRrJDbxB0uEwO9qEtZ3C8VyucLK9RJhwdpDMraOT+xWCT8yGFG8VGlEMS7pFVJ6Pb3m\/cWFcYy9C4caEO4HUtdfwvY5TW\/r90OuKD8fzJmGJzkAY7U1HiOpOJZtCYbBlKEL7H9j4PjKMfWLN\/z1SQJ1wVhmU6wq6+3wMxIWcIW\/9NzFd3T52TJPTzwdEoMl0FguvACY1X2D2v277\/tFvqTQz6\/RcXNlPl0jmFxPVEqed4gpiYtfkP6ivCk47+RXzMr3m9xg6A+ecwgqiNdsAJP1XtcYy+PD+XyQ=~-1~-1~-1; Max-Age=1682955520000; Expires=Thu, 25 Jan 55353 12:06:15 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=97792B76EC563456B8D36C4F5F0B80D2~YAAQLp6yUvl88HKAAQAALx5GgA9qwf4ixa6kC4\/zTPN09p1qGNJFpkmr1z0Ad7UegB\/1Mvola9GkxWan3m2q3IuMz9AzNNFdz1enxqNGDBH8PIzReL3AfmRwZ5l\/AFWMwm\/j1zwp26YqeZfFhqLc3BFsMWtpXGtU+plsht7Gm75DFzCxBgh\/sLeDVDL7TrwGeYUKSzBky7APxQxvJQmrEjIf2temsm6SsKc55aMm8b8mYxU2\/2LAHlGa\/mT0Zki\/mfKkc+6hkdttTXOUmabwh1s8ep+MfDhYhwEQyPVCICcX~3355461~3748150; Max-Age=1651433919000; Expires=Thu, 11 Mar 54354 03:49:35 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhuRngZFKSHucvBd0JGoceLpRZh2G0qzF6DwnBZz0Ln0oQwQp8BtsCPN9c4gyzZa52KnUH7mhnG7gou080kBAVbOn2HSelFnJQAB8lQJWK23SPA_OhxjUAMMMaCFStyQBtAuhb3tRTBZJA-KHrvf3OT9eXtg20oFijwcnxay9GejN0_RaWCq0xc4CRDnRHQWffpWHLC-s-BOtm2q_v6ZkXHbclalhlkjWuYgqUKf2O4oM\", \"expires_in\":1800, \"consented_on\":1651419520, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":718800,"millis":0.7188,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"21:09:35.317 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhuRngZFKSHucvBd0JGoceLpRZh2G0qzF6DwnBZz0Ln0oQwQp8BtsCPN9c4gyzZa52KnUH7mhnG7gou080kBAVbOn2HSelFnJQAB8lQJWK23SPA_OhxjUAMMMaCFStyQBtAuhb3tRTBZJA-KHrvf3OT9eXtg20oFijwcnxay9GejN0_RaWCq0xc4CRDnRHQWffpWHLC-s-BOtm2q_v6ZkXHbclalhlkjWuYgqUKf2O4oM\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651419520,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":572200,"millis":0.5722,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":430300,"millis":0.4303,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":221000,"millis":0.221,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":130500,"millis":0.1305,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"21:09:35.318 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhuRngZFKSHucvBd0JGoceLpRZh2G0qzF6DwnBZz0Ln0oQwQp8BtsCPN9c4gyzZa52KnUH7mhnG7gou080kBAVbOn2HSelFnJQAB8lQJWK23SPA_OhxjUAMMMaCFStyQBtAuhb3tRTBZJA-KHrvf3OT9eXtg20oFijwcnxay9GejN0_RaWCq0xc4CRDnRHQWffpWHLC-s-BOtm2q_v6ZkXHbclalhlkjWuYgqUKf2O4oM \n"},{"result":{"nanos":119700,"millis":0.1197,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"line":77,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"line":78,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":270900,"millis":0.2709,"status":"passed"},"step":{"line":79,"prefix":"And","index":2,"text":"header Authorization = 'Bearer 123456'"}},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"line":80,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":53400,"millis":0.0534,"status":"passed"},"step":{"line":81,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":44900,"millis":0.0449,"status":"passed"},"step":{"line":82,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":47000,"millis":0.047,"status":"passed"},"step":{"line":83,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":326563400,"millis":326.5634,"status":"passed"},"step":{"line":84,"prefix":"When","index":7,"text":"method POST"},"stepLog":"21:09:35.320 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer 123456\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=5E1D60D894EC7C70E592C4385C036645~-1~YAAQLp6yUvh88HKAAQAALx5GgAfxq9hfvGpO0fYlxGhaTcZUJruIPTzjiSGvd9UAtFhFwDGr0i17V7n\/KLRVVRrJDbxB0uEwO9qEtZ3C8VyucLK9RJhwdpDMraOT+xWCT8yGFG8VGlEMS7pFVJ6Pb3m\/cWFcYy9C4caEO4HUtdfwvY5TW\/r90OuKD8fzJmGJzkAY7U1HiOpOJZtCYbBlKEL7H9j4PjKMfWLN\/z1SQJ1wVhmU6wq6+3wMxIWcIW\/9NzFd3T52TJPTzwdEoMl0FguvACY1X2D2v277\/tFvqTQz6\/RcXNlPl0jmFxPVEqed4gpiYtfkP6ivCk47+RXzMr3m9xg6A+ecwgqiNdsAJP1XtcYy+PD+XyQ=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=97792B76EC563456B8D36C4F5F0B80D2~YAAQLp6yUvl88HKAAQAALx5GgA9qwf4ixa6kC4\/zTPN09p1qGNJFpkmr1z0Ad7UegB\/1Mvola9GkxWan3m2q3IuMz9AzNNFdz1enxqNGDBH8PIzReL3AfmRwZ5l\/AFWMwm\/j1zwp26YqeZfFhqLc3BFsMWtpXGtU+plsht7Gm75DFzCxBgh\/sLeDVDL7TrwGeYUKSzBky7APxQxvJQmrEjIf2temsm6SsKc55aMm8b8mYxU2\/2LAHlGa\/mT0Zki\/mfKkc+6hkdttTXOUmabwh1s8ep+MfDhYhwEQyPVCICcX~3355461~3748150\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n21:09:35.645 response time in milliseconds: 325\n2 < 401\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Credentials: true\n2 < WWW-Authenticate: Bearer error=\"invalid_token\"\n2 < X-Global-Transaction-ID: 6e68aa42626ea980cd3774df\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 101\n2 < Date: Sun, 01 May 2022 15:38:40 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651420720000; Expires=Fri, 09 Oct 54353 09:26:15 GMT; Domain=sandbox.apihub.citi.com; Secure\n{ \"type\":\"unAuthorized\", \"code\":\"401\", \"details\":\"Authorization credentials are missing or invalid\" }\n\n"},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":85,"prefix":"Then","index":8,"text":"status 401"}},{"result":{"nanos":357700,"millis":0.3577,"status":"passed"},"step":{"line":86,"prefix":"And","index":9,"text":"print response"},"stepLog":"21:09:35.646 [print] {\n  \"type\": \"unAuthorized\",\n  \"code\": \"401\",\n  \"details\": \"Authorization credentials are missing or invalid\"\n}\n \n"},{"result":{"nanos":567100,"millis":0.5671,"status":"passed"},"step":{"line":87,"prefix":"And","index":10,"text":"match response.type == 'unAuthorized'"}},{"result":{"nanos":732300,"millis":0.7323,"status":"passed"},"step":{"line":88,"prefix":"And","index":11,"text":"match response.code == '401'"}},{"result":{"nanos":402100,"millis":0.4021,"status":"passed"},"step":{"line":89,"prefix":"And","index":12,"text":"match response.details == 'Authorization credentials are missing or invalid'"}}],"executorName":"main","line":75,"name":"Verify the LinkageAPI with invalid Authorization credentials in the request","description":"","durationMillis":1299.5563,"startTime":1651419574348,"failed":false,"refId":"[5:75]","endTime":1651419575648,"exampleIndex":-1},{"sectionIndex":5,"stepResults":[{"result":{"nanos":87000,"millis":0.087,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":47800,"millis":0.0478,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":462072100,"millis":462.0721,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"21:09:35.651 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n21:09:36.113 response time in milliseconds: 461\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 6e68aa42626ea9817dab223d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626ea980-14aeb123\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.205.103.7,169.175.115.121,169.177.209.51\n1 < dmz-global-txn-id: 6e68aa42626ea9817dab223d\n1 < X-Archived-Client-IP: 23.205.103.7,23.205.103.7,169.175.115.121\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,55;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 15:38:41 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651420721000; Expires=Fri, 09 Oct 54353 09:42:56 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=100BB4CFD7FAB7DDA43504BE6A68408A~-1~YAAQLp6yUvp88HKAAQAARCFGgAdj0lbOSszaVuHkQIFuWlxzyHqVqBE6Tjos4G8NW82k7aPLzg+qih0JEslI+Y5cv7olE6qZHxTQMHw58HsvlNULvzHUcDLEsRvrVtReHjUQ5kwl1so+a4p4aNdAhEzBRAy70rQ4\/cwV\/m5fP7jyqn3ygyMxsRCBHG4FFxrOnpaooVLaFs5xDOuJrBJZZ5nSxFxWhb7b+Z25xjOKlHBfDf3kmzW+BfLHdVHVlP78hi0VZQu7PxKep25XmBCoqAiJxqjIczO8ksSnljYbVs8mfjBIVfztex0COLUTXwi4b04eAKW7M04JKQAmaI4QyOL8P68Ut6pEjXokMdnBERCL\/0onpaVt25U=~-1~-1~-1; Max-Age=1682955521000; Expires=Thu, 25 Jan 55353 12:22:56 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=DF1CDDC870FD207AFB24F49CA30A2284~YAAQLp6yUvt88HKAAQAARCFGgA\/ecSNLXi6UflfbayPugEJVfJS7UMhnnSgtFUlubpKgLAuYnG5RPngJpDf6wJobpWat3a2ourGmuIm8a3tHWPuOXScMy4T\/4kKyqzUFTIMEpP\/9hc47THSQaK8ti92quDKaw0XH\/WrhWbObFAT7PUT6UdVoZIBKwjgc8+YCY8GabvXrrXDqQXt\/TtKDeEV+k7xUhKlPxhp+ZAl7CVbN47nwHpNb30AhII+mWYqrJLLaI31tsTXEHp3rvX8\/4EVTrsMpp5f00i7MEynruhn2~3290181~3359287; Max-Age=1651433920000; Expires=Thu, 11 Mar 54354 04:06:16 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh-f49qWxm70MnLYNb7ZQ6AGLzxAXeKyHHEE57uwLr96A843DAVM7eehR4e5Swyep4M4skiN_NzJ8Hzi86-msaLVKeykPS0B_F79q84eSFv2H_Tc_cGkiRET2dS6ovubos91ZKHjZ21gSaBrT-UI7h_9qWEwrkhCIFu8DUQce3cGmQhQvkMqAcYP_GMTZWTlinf7kNsZzY2v4EiKyZ9lYpZkBuyt9E1xKtSfZIe0sad5s\", \"expires_in\":1800, \"consented_on\":1651419521, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":405200,"millis":0.4052,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"21:09:36.114 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh-f49qWxm70MnLYNb7ZQ6AGLzxAXeKyHHEE57uwLr96A843DAVM7eehR4e5Swyep4M4skiN_NzJ8Hzi86-msaLVKeykPS0B_F79q84eSFv2H_Tc_cGkiRET2dS6ovubos91ZKHjZ21gSaBrT-UI7h_9qWEwrkhCIFu8DUQce3cGmQhQvkMqAcYP_GMTZWTlinf7kNsZzY2v4EiKyZ9lYpZkBuyt9E1xKtSfZIe0sad5s\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651419521,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":295000,"millis":0.295,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":142500,"millis":0.1425,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":113000,"millis":0.113,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":139200,"millis":0.1392,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"21:09:36.115 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh-f49qWxm70MnLYNb7ZQ6AGLzxAXeKyHHEE57uwLr96A843DAVM7eehR4e5Swyep4M4skiN_NzJ8Hzi86-msaLVKeykPS0B_F79q84eSFv2H_Tc_cGkiRET2dS6ovubos91ZKHjZ21gSaBrT-UI7h_9qWEwrkhCIFu8DUQce3cGmQhQvkMqAcYP_GMTZWTlinf7kNsZzY2v4EiKyZ9lYpZkBuyt9E1xKtSfZIe0sad5s \n"},{"result":{"nanos":131600,"millis":0.1316,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":83400,"millis":0.0834,"status":"passed"},"step":{"line":94,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":83000,"millis":0.083,"status":"passed"},"step":{"line":95,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"line":96,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":75500,"millis":0.0755,"status":"passed"},"step":{"line":97,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"line":98,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":363000,"millis":0.363,"status":"passed"},"step":{"line":99,"prefix":"And","index":5,"text":"header client_id = 'abcd'"}},{"result":{"nanos":59800,"millis":0.0598,"status":"passed"},"step":{"line":100,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":333758100,"millis":333.7581,"status":"passed"},"step":{"line":101,"prefix":"When","index":7,"text":"method POST"},"stepLog":"21:09:36.116 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh-f49qWxm70MnLYNb7ZQ6AGLzxAXeKyHHEE57uwLr96A843DAVM7eehR4e5Swyep4M4skiN_NzJ8Hzi86-msaLVKeykPS0B_F79q84eSFv2H_Tc_cGkiRET2dS6ovubos91ZKHjZ21gSaBrT-UI7h_9qWEwrkhCIFu8DUQce3cGmQhQvkMqAcYP_GMTZWTlinf7kNsZzY2v4EiKyZ9lYpZkBuyt9E1xKtSfZIe0sad5s\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: abcd\n2 > Cookie: _abck=100BB4CFD7FAB7DDA43504BE6A68408A~-1~YAAQLp6yUvp88HKAAQAARCFGgAdj0lbOSszaVuHkQIFuWlxzyHqVqBE6Tjos4G8NW82k7aPLzg+qih0JEslI+Y5cv7olE6qZHxTQMHw58HsvlNULvzHUcDLEsRvrVtReHjUQ5kwl1so+a4p4aNdAhEzBRAy70rQ4\/cwV\/m5fP7jyqn3ygyMxsRCBHG4FFxrOnpaooVLaFs5xDOuJrBJZZ5nSxFxWhb7b+Z25xjOKlHBfDf3kmzW+BfLHdVHVlP78hi0VZQu7PxKep25XmBCoqAiJxqjIczO8ksSnljYbVs8mfjBIVfztex0COLUTXwi4b04eAKW7M04JKQAmaI4QyOL8P68Ut6pEjXokMdnBERCL\/0onpaVt25U=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=DF1CDDC870FD207AFB24F49CA30A2284~YAAQLp6yUvt88HKAAQAARCFGgA\/ecSNLXi6UflfbayPugEJVfJS7UMhnnSgtFUlubpKgLAuYnG5RPngJpDf6wJobpWat3a2ourGmuIm8a3tHWPuOXScMy4T\/4kKyqzUFTIMEpP\/9hc47THSQaK8ti92quDKaw0XH\/WrhWbObFAT7PUT6UdVoZIBKwjgc8+YCY8GabvXrrXDqQXt\/TtKDeEV+k7xUhKlPxhp+ZAl7CVbN47nwHpNb30AhII+mWYqrJLLaI31tsTXEHp3rvX8\/4EVTrsMpp5f00i7MEynruhn2~3290181~3359287\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n21:09:36.449 response time in milliseconds: 333\n2 < 401\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Credentials: true\n2 < WWW-Authenticate: Bearer error=\"invalid_token\"\n2 < X-Global-Transaction-ID: 6e68aa42626ea981804565b5\n2 < X-Akamai-CITISITE: GTDC\n2 < Date: Sun, 01 May 2022 15:38:41 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651420721000; Expires=Fri, 09 Oct 54353 09:42:56 GMT; Domain=sandbox.apihub.citi.com; Secure\n{ \"type\":\"unAuthorized\", \"code\":\"401\", \"details\":\"Authorization credentials are missing or invalid\" }\n\n"},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":102,"prefix":"Then","index":8,"text":"status 401"}},{"result":{"nanos":257300,"millis":0.2573,"status":"passed"},"step":{"line":103,"prefix":"And","index":9,"text":"print response"},"stepLog":"21:09:36.450 [print] {\n  \"type\": \"unAuthorized\",\n  \"code\": \"401\",\n  \"details\": \"Authorization credentials are missing or invalid\"\n}\n \n"},{"result":{"nanos":243900,"millis":0.2439,"status":"passed"},"step":{"line":104,"prefix":"And","index":10,"text":"match response.type == 'unAuthorized'"}},{"result":{"nanos":150500,"millis":0.1505,"status":"passed"},"step":{"line":105,"prefix":"And","index":11,"text":"match response.code == '401'"}},{"result":{"nanos":154200,"millis":0.1542,"status":"passed"},"step":{"line":106,"prefix":"And","index":12,"text":"match response.details == 'Authorization credentials are missing or invalid'"}}],"executorName":"main","line":92,"name":"Verify the LinkageAPI with invalid Authorization credentials in the request","description":"","durationMillis":798.9128,"startTime":1651419575650,"failed":false,"refId":"[6:92]","endTime":1651419576450,"exampleIndex":-1}],"callDepth":0,"name":"API level unit testing for linkage service","description":"","resultDate":"2022-05-01 09:09:36 pm","durationMillis":46294.3485,"passedCount":4}