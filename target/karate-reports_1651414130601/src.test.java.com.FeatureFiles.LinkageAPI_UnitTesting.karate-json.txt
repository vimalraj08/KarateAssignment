{"failedCount":3,"prefixedPath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","packageQualifiedName":"src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting","loopIndex":-1,"relativePath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":50026000,"millis":50.026,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":734100,"millis":0.7341,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":428100,"millis":0.4281,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":251100,"millis":0.2511,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":440700,"millis":0.4407,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":884348100,"millis":884.3481,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:36:50.606 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:36:51.223 response time in milliseconds: 609\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 98b6a370626e93c400d7d6ff\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e93c4-14186e52\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.64.120.195,169.175.115.119,169.177.209.50\n1 < dmz-global-txn-id: 98b6a370626e93c400d7d6ff\n1 < X-Archived-Client-IP: 23.64.120.195,23.64.120.195,169.175.115.119\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:05:56 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415156000; Expires=Wed, 05 Aug 54353 22:20:11 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=98E5B0736DA4ECA72B59D89B8B73EA25~-1~YAAQLp6yUtxV8HKAAQAAbjfxfwc3bko\/pBROnLrifGfO3jB1vKJWQC7Qfa8ASluYWrx1KbcVj6CGq07eopJAt4fdnZvCM3s5Fwfbz3QfPwqxEckhDywHy\/uIZTvkeniQF4fbapbAmIRXekP9joppSzUihW41vT0gyK0Z8RnOTuLRYr1ztnJyksclPTB4kb7nlLEsKbEGVit3RdO8pTIai+Q0a6Z8HK5k8A8HBUdW4Hw5nyFR5bgwIJ8WcjqNret5rBDgW4\/AxxClm+XeL3n+6sRHSaJBSerbatlLEWu+22IONQLG6hbEcc3rZephVnUzDDs21wsx1+5vAD4yiw6zJdYzCPDgAXVPRXbQvshlLSWgRXkUAEkro9E=~-1~-1~-1; Max-Age=1682949956000; Expires=Wed, 22 Nov 55352 01:00:11 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=764324DC34D959347713A5B1D1362928~YAAQLp6yUt1V8HKAAQAAbjfxfw+kuQ9Pc58EH0Cok46j0KpILrD\/oaThC5u+6zzLN4GrD5ntW+TK5TRtSUYPqIBQbMTaC6qIyTLzjtDGcv844BU\/1IFdkeFf\/HD\/mLUnXsp3fpJmlyypwW+j3WK3YZyoIOWEGyiWyeoo+CPuedHJCjk7vyl9wh9oZFfxPDAGzVqi5x8vODYH94YoWRTncmVghJGnSrJoo2j110CktBa5omw0gq+LidVUTGOFCKJuvKbtcfKXDF4w\/BNeWKXD3FFvsSpz2y0jRB\/LdHC5NVHY~4407603~4404789; Max-Age=1651428356000; Expires=Tue, 05 Jan 54354 17:00:11 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhcij9Cc8whQLcC_J_T5NvRRH4ymsQwPs4d_yj29k9c88ibAMa2YUWGlaRkGYsl8f9hefY6qEbuPdlzcPSPyu7VJuTMxOqmR7ObSsk7wFWWLGyJzzJ85x5tBOpHx-AvabXvFd9Q0CUXYymxl0XMFOgjZ83NF6SAMlOH4pZWrhTbS_nQsv-iFndWWNl7l8vZPP-mxflO31_xnuxuwB0M1l7dxuZFMyv8lD68ZDFqBOfJHs\", \"expires_in\":1800, \"consented_on\":1651413956, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":47099900,"millis":47.0999,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:36:51.294 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhcij9Cc8whQLcC_J_T5NvRRH4ymsQwPs4d_yj29k9c88ibAMa2YUWGlaRkGYsl8f9hefY6qEbuPdlzcPSPyu7VJuTMxOqmR7ObSsk7wFWWLGyJzzJ85x5tBOpHx-AvabXvFd9Q0CUXYymxl0XMFOgjZ83NF6SAMlOH4pZWrhTbS_nQsv-iFndWWNl7l8vZPP-mxflO31_xnuxuwB0M1l7dxuZFMyv8lD68ZDFqBOfJHs\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413956,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":18932000,"millis":18.932,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":2010900,"millis":2.0109,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":1026000,"millis":1.026,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":652000,"millis":0.652,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:36:51.317 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhcij9Cc8whQLcC_J_T5NvRRH4ymsQwPs4d_yj29k9c88ibAMa2YUWGlaRkGYsl8f9hefY6qEbuPdlzcPSPyu7VJuTMxOqmR7ObSsk7wFWWLGyJzzJ85x5tBOpHx-AvabXvFd9Q0CUXYymxl0XMFOgjZ83NF6SAMlOH4pZWrhTbS_nQsv-iFndWWNl7l8vZPP-mxflO31_xnuxuwB0M1l7dxuZFMyv8lD68ZDFqBOfJHs \n"},{"result":{"nanos":6228100,"millis":6.2281,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":311700,"millis":0.3117,"status":"passed"},"step":{"line":19,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":202200,"millis":0.2022,"status":"passed"},"step":{"line":20,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":146700,"millis":0.1467,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":227800,"millis":0.2278,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":111900,"millis":0.1119,"status":"passed"},"step":{"line":23,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":199000,"millis":0.199,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":246400,"millis":0.2464,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":1547260100,"millis":1547.2601,"status":"passed"},"step":{"line":26,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:36:51.327 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhcij9Cc8whQLcC_J_T5NvRRH4ymsQwPs4d_yj29k9c88ibAMa2YUWGlaRkGYsl8f9hefY6qEbuPdlzcPSPyu7VJuTMxOqmR7ObSsk7wFWWLGyJzzJ85x5tBOpHx-AvabXvFd9Q0CUXYymxl0XMFOgjZ83NF6SAMlOH4pZWrhTbS_nQsv-iFndWWNl7l8vZPP-mxflO31_xnuxuwB0M1l7dxuZFMyv8lD68ZDFqBOfJHs\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=98E5B0736DA4ECA72B59D89B8B73EA25~-1~YAAQLp6yUtxV8HKAAQAAbjfxfwc3bko\/pBROnLrifGfO3jB1vKJWQC7Qfa8ASluYWrx1KbcVj6CGq07eopJAt4fdnZvCM3s5Fwfbz3QfPwqxEckhDywHy\/uIZTvkeniQF4fbapbAmIRXekP9joppSzUihW41vT0gyK0Z8RnOTuLRYr1ztnJyksclPTB4kb7nlLEsKbEGVit3RdO8pTIai+Q0a6Z8HK5k8A8HBUdW4Hw5nyFR5bgwIJ8WcjqNret5rBDgW4\/AxxClm+XeL3n+6sRHSaJBSerbatlLEWu+22IONQLG6hbEcc3rZephVnUzDDs21wsx1+5vAD4yiw6zJdYzCPDgAXVPRXbQvshlLSWgRXkUAEkro9E=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=764324DC34D959347713A5B1D1362928~YAAQLp6yUt1V8HKAAQAAbjfxfw+kuQ9Pc58EH0Cok46j0KpILrD\/oaThC5u+6zzLN4GrD5ntW+TK5TRtSUYPqIBQbMTaC6qIyTLzjtDGcv844BU\/1IFdkeFf\/HD\/mLUnXsp3fpJmlyypwW+j3WK3YZyoIOWEGyiWyeoo+CPuedHJCjk7vyl9wh9oZFfxPDAGzVqi5x8vODYH94YoWRTncmVghJGnSrJoo2j110CktBa5omw0gq+LidVUTGOFCKJuvKbtcfKXDF4w\/BNeWKXD3FFvsSpz2y0jRB\/LdHC5NVHY~4407603~4404789\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:36:52.872 response time in milliseconds: 1545\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 850355d8-e90c-4815-b926-9b428e76d5a1\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 57de5d07-62b0-4565-be3a-224d23e76f80\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Vcap-Request-Id: fee1d3d5-9364-440d-6db1-7671802f5c66\n2 < X-Global-Transaction-ID: 6e68aa42626e93c4cb6c02bf\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: tz%2F%2FZeCpWnjswoeiTRD4Vam%2BB9abrc%2BUhedigl04QzuSBRBJc4WIAJua4OMeDlbNKWg913jS%2FjWTXc%2BIsRw1HSy6iq7WKqf8B8OLAA7cDdz8PrhjGYVWcBFpnzFTsR0zmVSmxVrgvTOZS0vJZOGtY3u30NadKVwklkdY1NH0g8j2KlACBB8GA2j%2BF1B4L%2BJviN%2B%2FOVq78nX3YrFRo3PXA6PaKhSQmfrvhOFVgfIfZ5GLAO7zkj7gASIlbPjxfW%2FFk0a2Fn%2F%2FccNv1RiMbEZfe6CNWD2mM5GxBpKOiKPCp%2BmAjOF1P6JhtCxxS9oRwY9jOLDj5h%2BgOYaDhovq%2FfRiWVP%2B%2FtPoNKe3HA7%2FBJxHzSD6eJwN45LJ8vQFiHMN585nWdTDrKwPgAuHO%2BRJDMb9h1ptlhQh8hEqWm8PdKbDB66LNhL8%2F1JdoJDKeVAAxIUp4vVXuuIWzX4OaCiVuQXjww%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 14:05:58 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415158000; Expires=Wed, 05 Aug 54353 22:53:32 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":9900,"millis":0.0099,"status":"passed"},"step":{"line":27,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":598000,"millis":0.598,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"match response.rewardLinkCode != null"}}],"executorName":"main","line":18,"name":"Verify the LinkageAPI with all mandatory body parameters","description":"","durationMillis":2561.5134,"startTime":1651414010301,"failed":false,"refId":"[1:18]","endTime":1651414012874,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":125000,"millis":0.125,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":266800,"millis":0.2668,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":236700,"millis":0.2367,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":187300,"millis":0.1873,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":165300,"millis":0.1653,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":473041500,"millis":473.0415,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:36:52.879 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:36:53.351 response time in milliseconds: 471\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 6e68aa42626e93c67cd5762d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e93c6-14187c84\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.221.23.115,169.175.115.121,169.177.209.51\n1 < dmz-global-txn-id: 6e68aa42626e93c67cd5762d\n1 < X-Archived-Client-IP: 23.221.23.115,23.221.23.115,169.175.115.121\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:05:58 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415158000; Expires=Wed, 05 Aug 54353 22:53:33 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=65200D24130AB57B9445720E90F1ACFD~-1~YAAQLp6yUuJV8HKAAQAA0D\/xfweVzE0ObGMGuu3ZRkyr3c+YTpEQupzAPNRt5rJAJfidk2e6dD+bCJ+ONxnAh8zJ98\/Ak3yG7nG6oxBd2tnfKf+DOdRMPCyLb5cUx5JWhD3HGabGfvlRN25tsv3sTiQGVG6uABSGiSLFpTSNMIB76WGwIMupL9Axwto0ZmaK3dPA1gJvfLUhvYD19U3AzAqjga62iPJOdGKh7t4PZ5QVM+np\/jXrzLwd8mzxHSIJLIe98j1fSPFO4Na4nKTNsTDdlnFtQKYofCMUh1OhhnMrsg7IbGfQSqiaHGzxFWMUHRhzV\/zmvr2SOjYD20bBaUH+hGUmQTNmy91cPahpXdlrkCpWURwyz00=~-1~-1~-1; Max-Age=1682949958000; Expires=Wed, 22 Nov 55352 01:33:33 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=64E00EDD2508CF93B192D58A6E56C9D8~YAAQLp6yUuNV8HKAAQAA0D\/xfw\/Uyt6\/CXr+hQ8baySbL6tGrc86yZu1EyonvwsHAHv5ChJgL\/xsjlWq60wrHNvmFC6mSb5maG\/u4W4GJX9FN+ujVn5srvxjmBQVVEG5VTRU43gj6Hseb5F7SBlysAViJTpIleU2yHL\/gwyaVM1X5EUPaPBi1O1jfAkAPP5ka20pXNXfyOVlnFn\/dEf5aOLHmgwaXfvy5O0Iz+M0dIwZsFtqdtnHq91k4piISK2ysSlAJBrw70iHNhCQnChKVea3CxOTq5D5EI46Bvgyumax~4273464~4273987; Max-Age=1651428358000; Expires=Tue, 05 Jan 54354 17:33:33 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhIVMq9FKjqBAFAp1y-p-0N9GhvoAtlGUVo2l4TyEVKQ7kiPQ7DW3QbYRzf2rY_iNtnuTxvAzlnwTOJJPx4VS8N67sUn-g8JxgJtQTGRYTc9spDdYDwiUsrNWoZikygnA7FRuIiiY4__1lr0vuaciBcWHaghpm34xI8yQIjgRvRqtINn2itvniK-MV_91-R9JYFmPXro8zv0s0uQVexFHCXRTNrhRPp-hkC-xiL8nrOi4\", \"expires_in\":1800, \"consented_on\":1651413958, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":673700,"millis":0.6737,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:36:53.352 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhIVMq9FKjqBAFAp1y-p-0N9GhvoAtlGUVo2l4TyEVKQ7kiPQ7DW3QbYRzf2rY_iNtnuTxvAzlnwTOJJPx4VS8N67sUn-g8JxgJtQTGRYTc9spDdYDwiUsrNWoZikygnA7FRuIiiY4__1lr0vuaciBcWHaghpm34xI8yQIjgRvRqtINn2itvniK-MV_91-R9JYFmPXro8zv0s0uQVexFHCXRTNrhRPp-hkC-xiL8nrOi4\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413958,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":888000,"millis":0.888,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":276200,"millis":0.2762,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":202500,"millis":0.2025,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":209300,"millis":0.2093,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:36:53.354 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhIVMq9FKjqBAFAp1y-p-0N9GhvoAtlGUVo2l4TyEVKQ7kiPQ7DW3QbYRzf2rY_iNtnuTxvAzlnwTOJJPx4VS8N67sUn-g8JxgJtQTGRYTc9spDdYDwiUsrNWoZikygnA7FRuIiiY4__1lr0vuaciBcWHaghpm34xI8yQIjgRvRqtINn2itvniK-MV_91-R9JYFmPXro8zv0s0uQVexFHCXRTNrhRPp-hkC-xiL8nrOi4 \n"},{"result":{"nanos":158500,"millis":0.1585,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":84500,"millis":0.0845,"status":"passed"},"step":{"line":31,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"line":32,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":65900,"millis":0.0659,"status":"passed"},"step":{"line":33,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":88100,"millis":0.0881,"status":"passed"},"step":{"line":34,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":75900,"millis":0.0759,"status":"passed"},"step":{"line":35,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":93700,"millis":0.0937,"status":"passed"},"step":{"line":36,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":368700,"millis":0.3687,"status":"passed"},"step":{"line":37,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":17471952700,"millis":17471.9527,"status":"passed"},"step":{"line":38,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:36:53.356 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhIVMq9FKjqBAFAp1y-p-0N9GhvoAtlGUVo2l4TyEVKQ7kiPQ7DW3QbYRzf2rY_iNtnuTxvAzlnwTOJJPx4VS8N67sUn-g8JxgJtQTGRYTc9spDdYDwiUsrNWoZikygnA7FRuIiiY4__1lr0vuaciBcWHaghpm34xI8yQIjgRvRqtINn2itvniK-MV_91-R9JYFmPXro8zv0s0uQVexFHCXRTNrhRPp-hkC-xiL8nrOi4\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=65200D24130AB57B9445720E90F1ACFD~-1~YAAQLp6yUuJV8HKAAQAA0D\/xfweVzE0ObGMGuu3ZRkyr3c+YTpEQupzAPNRt5rJAJfidk2e6dD+bCJ+ONxnAh8zJ98\/Ak3yG7nG6oxBd2tnfKf+DOdRMPCyLb5cUx5JWhD3HGabGfvlRN25tsv3sTiQGVG6uABSGiSLFpTSNMIB76WGwIMupL9Axwto0ZmaK3dPA1gJvfLUhvYD19U3AzAqjga62iPJOdGKh7t4PZ5QVM+np\/jXrzLwd8mzxHSIJLIe98j1fSPFO4Na4nKTNsTDdlnFtQKYofCMUh1OhhnMrsg7IbGfQSqiaHGzxFWMUHRhzV\/zmvr2SOjYD20bBaUH+hGUmQTNmy91cPahpXdlrkCpWURwyz00=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=64E00EDD2508CF93B192D58A6E56C9D8~YAAQLp6yUuNV8HKAAQAA0D\/xfw\/Uyt6\/CXr+hQ8baySbL6tGrc86yZu1EyonvwsHAHv5ChJgL\/xsjlWq60wrHNvmFC6mSb5maG\/u4W4GJX9FN+ujVn5srvxjmBQVVEG5VTRU43gj6Hseb5F7SBlysAViJTpIleU2yHL\/gwyaVM1X5EUPaPBi1O1jfAkAPP5ka20pXNXfyOVlnFn\/dEf5aOLHmgwaXfvy5O0Iz+M0dIwZsFtqdtnHq91k4piISK2ysSlAJBrw70iHNhCQnChKVea3CxOTq5D5EI46Bvgyumax~4273464~4273987\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:37:10.827 response time in milliseconds: 17471\n2 < 400\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 867b5589-e2db-4dee-9285-578f059984db\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 2e11e57f-2fe7-47cf-9eba-2f8356bc0f2d\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Vcap-Request-Id: 09b1b88b-e21f-4569-5429-0609cade3bc0\n2 < X-Global-Transaction-ID: 6e68aa42626e93c67cd578cd\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: fj1k9k0SctJi5CaHx8JU7fMZ%2BKdPbIALJi5EWSNruwe8qsB3nXBv18aTfZiOp4HHt2UZiHZxieEtvQC86QyFL6kHxhdm99QwMxQOfp%2BWgamtKYYvG6tDxgFjAzgitrAqt%2FfyFkVcpD06ALwcMV9tvEND71vfCrINCt1MGtMdgXexdBNuYImh6J%2Bn7Vqb7d%2FUkUs2aILZSS14aFZ2pI0%2BAv%2F8HS6BZG6vb%2BII1vuyfgcjWisvkRX9weJle7qfxCZaBTb4aTgfYVVcrZaDTt1gusnXQ12KwpwkaOTCY2jAddLzIytAbEeEotPQwGApAXb2n%2B1PXzDQjGgCZ6cp8C4AG8tLCFo3R8XTnnmAeEuIktxO6bBOlRW%2FYAY3oDG1IQaZJOVL5UG1rgpZhLaP%2FT4OA9bV2mFElHGn7cwVmCksftqfhLReBG8%2BjxxOYioHenaZzZ2SwZ1MRfAapNI6Hl8YBw%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 84\n2 < Date: Sun, 01 May 2022 14:06:16 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415176000; Expires=Thu, 06 Aug 54353 03:53:50 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"type\":\"invalid\",\"code\":\"invalidRequest\",\"details\":\"Missing or invalid parameters\"}\n\n"},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":39,"prefix":"Then","index":8,"text":"status 400"}},{"result":{"nanos":536500,"millis":0.5365,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:37:10.828 [print] {\n  \"type\": \"invalid\",\n  \"code\": \"invalidRequest\",\n  \"details\": \"Missing or invalid parameters\"\n}\n \n"},{"result":{"nanos":755000,"millis":0.755,"status":"passed"},"step":{"line":41,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":501100,"millis":0.5011,"status":"passed"},"step":{"line":42,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":387600,"millis":0.3876,"status":"passed"},"step":{"line":43,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"executorName":"main","line":30,"name":"Verify the LinkageAPI with invalid lastFourDigitsCardNumber in body parameters","description":"","durationMillis":17951.4152,"startTime":1651414012877,"failed":false,"refId":"[2:30]","endTime":1651414030830,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":103500,"millis":0.1035,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":65000,"millis":0.065,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":65900,"millis":0.0659,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":101100,"millis":0.1011,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":524223700,"millis":524.2237,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:37:10.836 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:37:11.357 response time in milliseconds: 520\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 6e68aa42626e93d87cd6175d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e93d8-1418f87a\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.47.59.12,169.175.115.121,153.40.245.130\n1 < dmz-global-txn-id: 6e68aa42626e93d87cd6175d\n1 < X-Archived-Client-IP: 23.47.59.12,23.47.59.12,169.175.115.121\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:06:16 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415176000; Expires=Thu, 06 Aug 54353 03:53:51 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=7D5CCE71C8AE5783E2A3DC3758D26712~-1~YAAQLp6yUj1W8HKAAQAAKobxfwfU2qlenmmVLsmyN2CrynqO2W6rn4\/pw107YS494FJUsgl+359TGk98OqVjdLGzp688ke9DerYiKD5j+t5i\/OVjl5zNB\/oSeI4VzB5tWDFd01jB9ETV98+spMYS\/d+91bWKP9MkFT3Od6v62xwv3TtRD9FrCg3+g2bmSZlBoQE7kSa7StSNpCdUPCjJPiKKn9zAy2GC0CY\/L7Q0uS5D543TaNH5A0MgHEecvA4azwwlzJGdwFZIH6JxyNkINai67xoFnY2XmyrEvkCNB7kr7DCP79yAWOivrUAqw64gVmXMhrzKJpR8SiuWK+RbIA5FRMFuZctkqydILLaJ9ixS86ll7VIzIgw=~-1~-1~-1; Max-Age=1682949976000; Expires=Wed, 22 Nov 55352 06:33:51 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=62C9D6C86879A428A9DBF216A8535E9D~YAAQLp6yUj5W8HKAAQAAKobxfw9RunADzdcd95LsyFdF32AUPUs+6y0+PnNa0ZpsEn9XyeFgicUdE1BSl2T+V\/kQ8crDV29KYut5bvDaS1Uxd+W4HHJZ2CsSrhtGj9HeXD66CiqOmcpx3udk7a8YDTpVerrZ7luvGk8hYiEObrLpFbRIvZ+7Ax0t81FbwwfdbPMRJCfu+49m9J0aR7db8fw5ZVqYxt2bI2MEz931IRiLdRy1O3coejzy5ujwGto3+FWWti0bHzrjJEvc2cnRM7B+A+j4SL7BTBtGEi8dgK\/A~4469808~3160373; Max-Age=1651428376000; Expires=Tue, 05 Jan 54354 22:33:51 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhtoJD9pPOJC7DRXZKG-_-P4IGcm-XG6VYKErN9Ywxs8hoitKI_YjJeySWODkUuXX6melHws_yp1-zZfBooyd3dypaQHISEJawJO4vibkVmVXUlwhYsHmcI4HxRpLoow67SVKM4p-5pBBkMPPF1GOF1eGUTJC5kgZe41Eai5Gr9A8w64EnIHTxXPkS86iNq-IuGwqRklK5RVwXzezlK9lN-9r9hHM7JeuDYHcJbRLiiQM\", \"expires_in\":1800, \"consented_on\":1651413976, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":21600,"millis":0.0216,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":1197300,"millis":1.1973,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:37:11.360 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhtoJD9pPOJC7DRXZKG-_-P4IGcm-XG6VYKErN9Ywxs8hoitKI_YjJeySWODkUuXX6melHws_yp1-zZfBooyd3dypaQHISEJawJO4vibkVmVXUlwhYsHmcI4HxRpLoow67SVKM4p-5pBBkMPPF1GOF1eGUTJC5kgZe41Eai5Gr9A8w64EnIHTxXPkS86iNq-IuGwqRklK5RVwXzezlK9lN-9r9hHM7JeuDYHcJbRLiiQM\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413976,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":1005100,"millis":1.0051,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":865500,"millis":0.8655,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":525200,"millis":0.5252,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":765400,"millis":0.7654,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:37:11.363 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhtoJD9pPOJC7DRXZKG-_-P4IGcm-XG6VYKErN9Ywxs8hoitKI_YjJeySWODkUuXX6melHws_yp1-zZfBooyd3dypaQHISEJawJO4vibkVmVXUlwhYsHmcI4HxRpLoow67SVKM4p-5pBBkMPPF1GOF1eGUTJC5kgZe41Eai5Gr9A8w64EnIHTxXPkS86iNq-IuGwqRklK5RVwXzezlK9lN-9r9hHM7JeuDYHcJbRLiiQM \n"},{"result":{"nanos":516400,"millis":0.5164,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":263600,"millis":0.2636,"status":"passed"},"step":{"line":46,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":198100,"millis":0.1981,"status":"passed"},"step":{"line":47,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":180000,"millis":0.18,"status":"passed"},"step":{"line":48,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":1260100,"millis":1.2601,"status":"passed"},"step":{"line":49,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":292600,"millis":0.2926,"status":"passed"},"step":{"line":50,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":287100,"millis":0.2871,"status":"passed"},"step":{"line":51,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":959200,"millis":0.9592,"status":"passed"},"step":{"line":52,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":28789822400,"millis":28789.8224,"status":"passed"},"step":{"line":53,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:37:11.371 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhtoJD9pPOJC7DRXZKG-_-P4IGcm-XG6VYKErN9Ywxs8hoitKI_YjJeySWODkUuXX6melHws_yp1-zZfBooyd3dypaQHISEJawJO4vibkVmVXUlwhYsHmcI4HxRpLoow67SVKM4p-5pBBkMPPF1GOF1eGUTJC5kgZe41Eai5Gr9A8w64EnIHTxXPkS86iNq-IuGwqRklK5RVwXzezlK9lN-9r9hHM7JeuDYHcJbRLiiQM\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=7D5CCE71C8AE5783E2A3DC3758D26712~-1~YAAQLp6yUj1W8HKAAQAAKobxfwfU2qlenmmVLsmyN2CrynqO2W6rn4\/pw107YS494FJUsgl+359TGk98OqVjdLGzp688ke9DerYiKD5j+t5i\/OVjl5zNB\/oSeI4VzB5tWDFd01jB9ETV98+spMYS\/d+91bWKP9MkFT3Od6v62xwv3TtRD9FrCg3+g2bmSZlBoQE7kSa7StSNpCdUPCjJPiKKn9zAy2GC0CY\/L7Q0uS5D543TaNH5A0MgHEecvA4azwwlzJGdwFZIH6JxyNkINai67xoFnY2XmyrEvkCNB7kr7DCP79yAWOivrUAqw64gVmXMhrzKJpR8SiuWK+RbIA5FRMFuZctkqydILLaJ9ixS86ll7VIzIgw=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=62C9D6C86879A428A9DBF216A8535E9D~YAAQLp6yUj5W8HKAAQAAKobxfw9RunADzdcd95LsyFdF32AUPUs+6y0+PnNa0ZpsEn9XyeFgicUdE1BSl2T+V\/kQ8crDV29KYut5bvDaS1Uxd+W4HHJZ2CsSrhtGj9HeXD66CiqOmcpx3udk7a8YDTpVerrZ7luvGk8hYiEObrLpFbRIvZ+7Ax0t81FbwwfdbPMRJCfu+49m9J0aR7db8fw5ZVqYxt2bI2MEz931IRiLdRy1O3coejzy5ujwGto3+FWWti0bHzrjJEvc2cnRM7B+A+j4SL7BTBtGEi8dgK\/A~4469808~3160373\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:37:40.158 response time in milliseconds: 28787\n2 < 502\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: text\/plain\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 4644d3fe-9d18-4deb-bf8b-5945eed7762b\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n2 < X-Cf-Routererror: endpoint_failure (EOF)\n2 < X-Vcap-Request-Id: 1994cf38-d60a-4700-6ad6-0e6a65be1927\n2 < X-Global-Transaction-ID: 6e68aa42626e93d9cb6d9bff\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: 5Z9diNFZ5lpu%2Fi1nOu7fGkEiDABLC0bq8kim%2FaTvg3JI1p5zmlrkrkEgo7AZRcODjMhKEIqTqHhAHJid45h5P7YDUjmeUkdx4WM%2BoGp2Qwr4tWfCXmo5LwlVIkCynJRoD99x1rL6xpuKdymMeumeVpk4b41Dtm9zVkeDKXcVegUPfn%2B%2FarhB1hYfXvlp2psXcn%2BX1VJrznup%2BSxqt8iW0%2Boru8QzAiUcvFC%2FGvNLpgUTWsQ3QXdYYg9%2BSYPHsSwFht2Nb8uatdKuOa3ChcD2YXNaeb6s%2FJ3Ntd1PzmzJPnBvcBbt7QBf0BvQtw8f6AAXB3I8HjYTeB0hQhpOpQm9VpP9%2F1lZyXAc%2BwQ7uhjRCLFlXe30EWIv8Z9Jk15r0nmq%2BP6jZTE3%2F2GgE5GyU%2BJbWwQbHo0fCzbqHG06mpC4hKZWb9hdMPmB8vHzdE8C1K0NsSCYbj03DLmwQXO4rH1jDg%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 67\n2 < Date: Sun, 01 May 2022 14:06:45 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415205000; Expires=Thu, 06 Aug 54353 11:57:40 GMT; Domain=sandbox.apihub.citi.com; Secure\n502 Bad Gateway: Registered endpoint failed to handle the request.\n\n\n"},{"result":{"nanos":128500,"errorMessage":"status code was: 502, expected: 400, response time in milliseconds: 28787, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n502 Bad Gateway: Registered endpoint failed to handle the request.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54","millis":0.1285,"status":"failed"},"step":{"line":54,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"19:37:40.159 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54\nThen status 400\nstatus code was: 502, expected: 400, response time in milliseconds: 28787, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n502 Bad Gateway: Registered endpoint failed to handle the request.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":45,"description":"","durationMillis":29322.891,"failed":true,"error":"status code was: 502, expected: 400, response time in milliseconds: 28787, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n502 Bad Gateway: Registered endpoint failed to handle the request.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54","executorName":"main","name":"Verify the LinkageAPI with invalid citiCardHolderPhoneNumber in body parameters","startTime":1651414030834,"refId":"[3:45]","endTime":1651414060159,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":520800,"millis":0.5208,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":241600,"millis":0.2416,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":135100,"millis":0.1351,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":147300,"millis":0.1473,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":90300,"millis":0.0903,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":529678100,"millis":529.6781,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:37:40.172 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:37:40.698 response time in milliseconds: 525\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 98b6a370626e93f52100adf1\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e93f5-1419bd4c\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.205.102.68,169.175.115.119,153.40.245.129\n1 < dmz-global-txn-id: 98b6a370626e93f52100adf1\n1 < X-Archived-Client-IP: 23.205.102.68,23.205.102.68,169.175.115.119\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:06:45 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415205000; Expires=Thu, 06 Aug 54353 11:57:40 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=65207F0BBFD0A6C8E711183F53B84C93~-1~YAAQLp6yUk1W8HKAAQAAyfjxfwcLkPc1hdti\/6GSNO+7DRTuHdfRzjYIF+GsAiqduml4Akcf8M2ry8APisUH6tIMCN7MPLK2blFeVX4sPn7LRcFH82RX07isJOCITDyXgcKRumJ+aIqWHJj4in29S6ggyPDe+qhPhFUKnkLytfPx7dfbjxdvfbonFQsnXTjPKUCm6F3j8S2ERbLT7MrQBBe6TWE0FO9G99G7rHcUJ8gvvGZsQLVdHvF2SlzohdHiHrjjHaNpeWNN2S0+OwSiE13CsDZQlH9\/AyTupvBEb6jjA+vkMK7MZUcRP7cvfq0lYBSyHQamqoV2WH89E2FYhCap6fL3i0vdfRbeemKWk5VazaWwoKCnKrw=~-1~-1~-1; Max-Age=1682950005000; Expires=Wed, 22 Nov 55352 14:37:40 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=5542E7124E208FC14063FD183C541CDE~YAAQLp6yUk5W8HKAAQAAyfjxfw+7mMQjxoY5wiOfBoNrgXY1EvvssgfIacdPq3XVPnBvT3eXVcLYdy6hIdGP8VKq6l5jHQg\/DA\/O6RpNZQ8V8Hqe99XfL29HjuFxcBWRrlXwJo0PC5s3tD0\/VZiSW2P2Yv7LvhuUw7OW3HAADaZMILI1UlX1cdxPimHk7QXUV5UXjPs5ScPy10LxsiHLtGzwkTlqzdngsVomQ\/T0\/cMdVlpCOJTJbVQTrm\/q6Ebnamy6qE5\/PN\/+kflMrCQdzq9l7it22B6bUDEEgWP\/nZ9+~4601666~3555891; Max-Age=1651428405000; Expires=Wed, 06 Jan 54354 06:37:40 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhqAeEPxB0Q3fZCNfnYEuSCBTspejonBXqm62kgE61bXo70p3gM0JgGHZnR98DeRKycMC92FnB-afZY8168ZJHjPR2lh7EHs_hhy9yAsz6T7rhnzaMpTB3doc5njLhfUzSclbnEfNQsYoX24ZABQ2WeNKm0MfloQppGu36eOs0KG6IMzYdsARECF7nsHZwnhj0Uiv2HFozqdegwIByuRRJMh7lt0QGHh0KJ2ki8RDdxTE\", \"expires_in\":1800, \"consented_on\":1651414005, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":936100,"millis":0.9361,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:37:40.700 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhqAeEPxB0Q3fZCNfnYEuSCBTspejonBXqm62kgE61bXo70p3gM0JgGHZnR98DeRKycMC92FnB-afZY8168ZJHjPR2lh7EHs_hhy9yAsz6T7rhnzaMpTB3doc5njLhfUzSclbnEfNQsYoX24ZABQ2WeNKm0MfloQppGu36eOs0KG6IMzYdsARECF7nsHZwnhj0Uiv2HFozqdegwIByuRRJMh7lt0QGHh0KJ2ki8RDdxTE\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414005,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":758800,"millis":0.7588,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":630400,"millis":0.6304,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":488500,"millis":0.4885,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":672700,"millis":0.6727,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:37:40.703 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhqAeEPxB0Q3fZCNfnYEuSCBTspejonBXqm62kgE61bXo70p3gM0JgGHZnR98DeRKycMC92FnB-afZY8168ZJHjPR2lh7EHs_hhy9yAsz6T7rhnzaMpTB3doc5njLhfUzSclbnEfNQsYoX24ZABQ2WeNKm0MfloQppGu36eOs0KG6IMzYdsARECF7nsHZwnhj0Uiv2HFozqdegwIByuRRJMh7lt0QGHh0KJ2ki8RDdxTE \n"},{"result":{"nanos":497800,"millis":0.4978,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":290900,"millis":0.2909,"status":"passed"},"step":{"line":61,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":245700,"millis":0.2457,"status":"passed"},"step":{"line":62,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":184900,"millis":0.1849,"status":"passed"},"step":{"line":63,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":278500,"millis":0.2785,"status":"passed"},"step":{"line":64,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":247900,"millis":0.2479,"status":"passed"},"step":{"line":65,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":233400,"millis":0.2334,"status":"passed"},"step":{"line":66,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":968100,"millis":0.9681,"status":"passed"},"step":{"line":67,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"abcdefghiij\"}'"}},{"result":{"nanos":508069700,"millis":508.0697,"status":"passed"},"step":{"line":68,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:37:40.709 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhqAeEPxB0Q3fZCNfnYEuSCBTspejonBXqm62kgE61bXo70p3gM0JgGHZnR98DeRKycMC92FnB-afZY8168ZJHjPR2lh7EHs_hhy9yAsz6T7rhnzaMpTB3doc5njLhfUzSclbnEfNQsYoX24ZABQ2WeNKm0MfloQppGu36eOs0KG6IMzYdsARECF7nsHZwnhj0Uiv2HFozqdegwIByuRRJMh7lt0QGHh0KJ2ki8RDdxTE\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=65207F0BBFD0A6C8E711183F53B84C93~-1~YAAQLp6yUk1W8HKAAQAAyfjxfwcLkPc1hdti\/6GSNO+7DRTuHdfRzjYIF+GsAiqduml4Akcf8M2ry8APisUH6tIMCN7MPLK2blFeVX4sPn7LRcFH82RX07isJOCITDyXgcKRumJ+aIqWHJj4in29S6ggyPDe+qhPhFUKnkLytfPx7dfbjxdvfbonFQsnXTjPKUCm6F3j8S2ERbLT7MrQBBe6TWE0FO9G99G7rHcUJ8gvvGZsQLVdHvF2SlzohdHiHrjjHaNpeWNN2S0+OwSiE13CsDZQlH9\/AyTupvBEb6jjA+vkMK7MZUcRP7cvfq0lYBSyHQamqoV2WH89E2FYhCap6fL3i0vdfRbeemKWk5VazaWwoKCnKrw=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=5542E7124E208FC14063FD183C541CDE~YAAQLp6yUk5W8HKAAQAAyfjxfw+7mMQjxoY5wiOfBoNrgXY1EvvssgfIacdPq3XVPnBvT3eXVcLYdy6hIdGP8VKq6l5jHQg\/DA\/O6RpNZQ8V8Hqe99XfL29HjuFxcBWRrlXwJo0PC5s3tD0\/VZiSW2P2Yv7LvhuUw7OW3HAADaZMILI1UlX1cdxPimHk7QXUV5UXjPs5ScPy10LxsiHLtGzwkTlqzdngsVomQ\/T0\/cMdVlpCOJTJbVQTrm\/q6Ebnamy6qE5\/PN\/+kflMrCQdzq9l7it22B6bUDEEgWP\/nZ9+~4601666~3555891\n2 > Content-Length: 122\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"abcdefghiij\"}\n\n19:37:41.214 response time in milliseconds: 504\n2 < 503\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: text\/plain\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 63cc3d8e-1387-49e9-bfe4-b603c96e565b\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Cf-Routererror: endpoint_failure (x509: certificate is not valid for any names, but wanted to match f8040c36-22fa-4e29-4d9c-0744)\n2 < X-Vcap-Request-Id: ecbc11b8-421f-40e9-60bc-43013e0e822d\n2 < X-Global-Transaction-ID: 98b6a370626e93f600db870f\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: CQIw22F19zBncYoAwUWlhMVztxL2G1kln6VNSkPExA51E4WDeXb7xztx%2FEHLKj2yBsxmi2UtziPauS%2BX3cbJ4jzwmvdEhyswlPokoq6fZ916%2Bv97V8cB2sklZldgs4XAKzHjv08trGbLk0g2RLo16woKqKl%2B%2F3uXykIBkzNjTzLEUsTjQ1nHAOPnNEY%2FOPFV6FKPHlSYdm8D4rQin3iWpibj2nhmpQ53qPvyP41qOKQltVGgvCh8mwTgZZZPERy4Op7aBTD5cqYVYR8Lo%2BqdmXN2eoBaRW1uOGTVGAmvd2xM%2Bm%2BY%2BPZxQE9GN5wj97W2YR68AD74418jI2Of%2BYg0ncTbwZzDX8oxf47CURzyHZUd0lDudqpRKpYuEU%2BJATG%2BLCKeIanBPCP%2FxW7NAx2QFgXEeyWSPG2zyBwY0340GnGd9UlrzERvh%2BLKVHGdsfGCS%2BTNmIlKf4iumilYx%2B8Grw%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 24\n2 < Date: Sun, 01 May 2022 14:06:46 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415206000; Expires=Thu, 06 Aug 54353 12:14:21 GMT; Domain=sandbox.apihub.citi.com; Secure\n503 Service Unavailable\n\n\n"},{"result":{"nanos":69400,"errorMessage":"status code was: 503, expected: 400, response time in milliseconds: 504, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n503 Service Unavailable\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","millis":0.0694,"status":"failed"},"step":{"line":69,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"19:37:41.216 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\nThen status 400\nstatus code was: 503, expected: 400, response time in milliseconds: 504, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n503 Service Unavailable\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":70,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":71,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":72,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":73,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":60,"description":"","durationMillis":1045.4043,"failed":true,"error":"status code was: 503, expected: 400, response time in milliseconds: 504, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n503 Service Unavailable\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","executorName":"main","name":"Verify the LinkageAPI with invalid merchantCustomerReferenceId in body parameters","startTime":1651414060168,"refId":"[4:60]","endTime":1651414061216,"exampleIndex":-1},{"sectionIndex":4,"stepResults":[{"result":{"nanos":420400,"millis":0.4204,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":265600,"millis":0.2656,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":276400,"millis":0.2764,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":282500,"millis":0.2825,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":279100,"millis":0.2791,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":728262200,"millis":728.2622,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:37:41.228 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:37:41.951 response time in milliseconds: 723\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 14744989626e93f6395cd56d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e93f6-1419c53e\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.47.59.12,169.175.61.90,169.177.209.50\n1 < dmz-global-txn-id: 14744989626e93f6395cd56d\n1 < X-Archived-Client-IP: 23.47.59.12,23.47.59.12,169.175.61.90\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:06:47 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415207000; Expires=Thu, 06 Aug 54353 12:31:01 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=A8179BB61A80EEA48639CA37BCD3AC46~-1~YAAQLp6yUlFW8HKAAQAAr\/3xfwdCGHATTxdSn6ThtCHNxWqcsepkMGLmvUAwXJKFVhsFIVZ1qnnpCija3AzWwe5ggTLRghSqzpsTP4wGJJmkRGoWUa7pq1UfRho\/aG8Zs7MxGrPrSfcpSyiBD+2ugG2EBCAhyQnykBV1hHrVdsFM1V0h9arOGk3pmTKD\/e8YGbyNlmuTSwejL9\/t23XzvKWKPedvVKm5yF7u3F5NLTzxdJ9CUhqS\/Z5PkN\/vupyzyG3xZZ0LXkprkAjGpsoIdc7ImpwHFBkD4Y7E71wbwagkF9q3N8UeP2ZHapaz1LyZhMonUW7DaUYwgOVSBqiZ5WkvdraJt0vHd5RGEaQOME9NVUkXlou7bTo=~-1~-1~-1; Max-Age=1682950007000; Expires=Wed, 22 Nov 55352 15:11:01 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=3361209FE0F67AD3D2B9356B66178D10~YAAQLp6yUlJW8HKAAQAAr\/3xfw\/21FdCES8Nj+zYwvm7S52Z+505tjuU5yi0cP9IYdM047JqgjZtEWPlaLwsh2UA\/QbeqYKkHfwQiexQYcLbLGZumHOJ84Zj6AUXode+Sd5QXf+IsHBrqWLM\/Uq+\/5ZL09+ZWeNiIfwuKij+NX2hVyHcmMiOYXlMEfpoC2awMUDsSwpoy71\/Wo15tbkvcJmY531zojQPccCBtit5xlKFBMaPqe4Cym5satu2nrMlhmaDGrrV\/lM3mFjR2AiZvr\/l\/7DePsrezoW3Liu8VQa4~3224133~3158578; Max-Age=1651428406000; Expires=Wed, 06 Jan 54354 06:54:21 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhaxQ1StydqWcJlOD94l3yrw0eKd6vuLkZkhACPZMAYaRjwy-JWGHI4FnwH7V7GVKYLGdQba7BvkFo6wSb8z8f8sDQw5iPCZymhng9RHsLbOwXKCms_IL2X75Z4oR14uQ_DP6ohdXWqaMzUgSAHtin1ohpDPXrQv9A_ZbuBODtTXqRs0IpcifR-mb0qEONTerYVIA-DIZzK4odTx9qoziC9zhwBeyLsGpdwe4NLrIrqjs\", \"expires_in\":1800, \"consented_on\":1651414007, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":967100,"millis":0.9671,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:37:41.955 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhaxQ1StydqWcJlOD94l3yrw0eKd6vuLkZkhACPZMAYaRjwy-JWGHI4FnwH7V7GVKYLGdQba7BvkFo6wSb8z8f8sDQw5iPCZymhng9RHsLbOwXKCms_IL2X75Z4oR14uQ_DP6ohdXWqaMzUgSAHtin1ohpDPXrQv9A_ZbuBODtTXqRs0IpcifR-mb0qEONTerYVIA-DIZzK4odTx9qoziC9zhwBeyLsGpdwe4NLrIrqjs\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414007,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":853600,"millis":0.8536,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":614000,"millis":0.614,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":347400,"millis":0.3474,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":486000,"millis":0.486,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:37:41.957 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhaxQ1StydqWcJlOD94l3yrw0eKd6vuLkZkhACPZMAYaRjwy-JWGHI4FnwH7V7GVKYLGdQba7BvkFo6wSb8z8f8sDQw5iPCZymhng9RHsLbOwXKCms_IL2X75Z4oR14uQ_DP6ohdXWqaMzUgSAHtin1ohpDPXrQv9A_ZbuBODtTXqRs0IpcifR-mb0qEONTerYVIA-DIZzK4odTx9qoziC9zhwBeyLsGpdwe4NLrIrqjs \n"},{"result":{"nanos":394900,"millis":0.3949,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":175900,"millis":0.1759,"status":"passed"},"step":{"line":81,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":119700,"millis":0.1197,"status":"passed"},"step":{"line":82,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":15553400,"errorMessage":"js failed:\n>>>>\n01: inValidAuth\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"inValidAuth\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:83","millis":15.5534,"status":"failed"},"step":{"line":83,"prefix":"And","index":2,"text":"header Authorization = inValidAuth"},"stepLog":"19:37:41.974 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:83\nAnd header Authorization = inValidAuth\njs failed:\n>>>>\n01: inValidAuth\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"inValidAuth\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:83\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":84,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":85,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":86,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":87,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":88,"prefix":"When","index":7,"text":"method POST"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":89,"prefix":"Then","index":8,"text":"status 401"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":90,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":91,"prefix":"And","index":10,"text":"match response.type == 'error'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":92,"prefix":"And","index":11,"text":"match response.code == 'unAuthorized'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":93,"prefix":"And","index":12,"text":"match response.details == 'Authorization credentials are missing or invalid'"}}],"line":75,"description":"*def inValidAuth = \n    \"\"\"\n    Bearer 1234567890\n    \"\"\"","durationMillis":749.3146,"failed":true,"error":"js failed:\n>>>>\n01: inValidAuth\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"inValidAuth\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:83","executorName":"main","name":"Verify the LinkageAPI with invalid Authorization credentials in the request","startTime":1651414061223,"refId":"[5:75]","endTime":1651414061974,"exampleIndex":-1}],"callDepth":0,"name":"API level unit testing for linkage service","description":"","resultDate":"2022-05-01 07:37:41 pm","durationMillis":51630.5385,"passedCount":2}