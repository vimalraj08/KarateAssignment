{"failedCount":1,"prefixedPath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","packageQualifiedName":"src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting","loopIndex":-1,"relativePath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":49028100,"millis":49.0281,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":726300,"millis":0.7263,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":482900,"millis":0.4829,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":250000,"millis":0.25,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":236200,"millis":0.2362,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":927567800,"millis":927.5678,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:13:04.655 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:13:05.322 response time in milliseconds: 659\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 126374ce626e8e32093bd41d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e8e32-13f1d8f2\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.205.100.34,169.175.115.126,153.40.245.129\n1 < dmz-global-txn-id: 126374ce626e8e32093bd41d\n1 < X-Archived-Client-IP: 23.205.100.34,23.205.100.34,169.175.115.126\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:42:10 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651413730000; Expires=Mon, 20 Jul 54353 09:49:45 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=0E71636F7853748033238E8F85949AF7~-1~YAAQLp6yUgpL8HKAAQAAhXXbfwdw3avLQHi\/tkhKAs3Cj8htACg7dx0iXwTzF48lsRVmVcD6awAELgKiKfWWGZDa+IENM+9ngtdrTd6Dbjvfvi8PlAwLocYfsBKT8KqlD2jCI8ATMB8fjtT+VaScwwKlkQt+hVgzTNwtu+ZCMr05cev+2Ycwd245EjN2JMWfbjCfRe+4NDu6lYx1FjQ2Wetko0W5SWlgWQvgE4Z9lGdpvoj+nlRf23Aw6IRmFNk\/X+Bl553+Fxc5FktXO8eJTDolGWHR8oveZCvPN7OF6YEpFSJXatymOce0CBL8peu8IuZZRWjlHDNXdClYadmaFEwhOrKPHes760aeOmuTPTDwekHFRV2106s=~-1~-1~-1; Max-Age=1682948530000; Expires=Sun, 05 Nov 55352 12:29:45 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=1A8949C40DB34551BCB4029B57F16F15~YAAQLp6yUgtL8HKAAQAAhXXbfw\/ioeVuUDdUwqT3usVR3bo0O+mRHyskLq9QKGXn3aFSEUM1JLAucvdPfE7dUZPfYvsZyIEIjnPSb8a5cC5E\/J7P0VnhlbA\/neLctNXJV2GQWLjzrzDsH1iltQ7HqtDnhZ5buCusm7VJuOd5zHE1DCdEG99dQHoTkHNqw0xbXio2AACXQkUjJLIvOjrwOfcK6CaH6cj9YDQRHh\/OGJWBrsprfUy\/PQMtbnnKx7JEQ9PAWkqmwEQOKkXt1z4XgBHhuuhWaftiiBo0Znb8hjON~4536625~3421253; Max-Age=1651426930000; Expires=Sun, 20 Dec 54353 04:29:45 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhM8sBdcYqczHkYGwraHRagjgCnl-nyTfab-CmgS3xGKEC0D5f35r9YR-fMhbD3c4febwYqguFGCsi07awhF0x3O3BEmjN5hiS8VUj7Xx4iCZ4jAtXtTrN_fAkWdKwcVBd6NZlDDtA3H3TdAiPCI40DXEiIKsPIsd7QqgSakNenY51DPsLrzy9mnv3QAFQcsWsv2jsb_rktAEVvzGe5yX6hrQMEkTumeIMJUN3L0Q1-zE\", \"expires_in\":1800, \"consented_on\":1651412530, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":20800,"millis":0.0208,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":45710100,"millis":45.7101,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:13:05.387 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhM8sBdcYqczHkYGwraHRagjgCnl-nyTfab-CmgS3xGKEC0D5f35r9YR-fMhbD3c4febwYqguFGCsi07awhF0x3O3BEmjN5hiS8VUj7Xx4iCZ4jAtXtTrN_fAkWdKwcVBd6NZlDDtA3H3TdAiPCI40DXEiIKsPIsd7QqgSakNenY51DPsLrzy9mnv3QAFQcsWsv2jsb_rktAEVvzGe5yX6hrQMEkTumeIMJUN3L0Q1-zE\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651412530,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":21205100,"millis":21.2051,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":1713400,"millis":1.7134,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":938600,"millis":0.9386,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":543800,"millis":0.5438,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:13:05.413 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhM8sBdcYqczHkYGwraHRagjgCnl-nyTfab-CmgS3xGKEC0D5f35r9YR-fMhbD3c4febwYqguFGCsi07awhF0x3O3BEmjN5hiS8VUj7Xx4iCZ4jAtXtTrN_fAkWdKwcVBd6NZlDDtA3H3TdAiPCI40DXEiIKsPIsd7QqgSakNenY51DPsLrzy9mnv3QAFQcsWsv2jsb_rktAEVvzGe5yX6hrQMEkTumeIMJUN3L0Q1-zE \n"},{"result":{"nanos":5144500,"millis":5.1445,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":276300,"millis":0.2763,"status":"passed"},"step":{"line":19,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":167400,"millis":0.1674,"status":"passed"},"step":{"line":20,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":266100,"millis":0.2661,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":265100,"millis":0.2651,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":110400,"millis":0.1104,"status":"passed"},"step":{"line":23,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":193900,"millis":0.1939,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":193000,"millis":0.193,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":960797600,"millis":960.7976,"status":"passed"},"step":{"line":26,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:13:05.422 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhM8sBdcYqczHkYGwraHRagjgCnl-nyTfab-CmgS3xGKEC0D5f35r9YR-fMhbD3c4febwYqguFGCsi07awhF0x3O3BEmjN5hiS8VUj7Xx4iCZ4jAtXtTrN_fAkWdKwcVBd6NZlDDtA3H3TdAiPCI40DXEiIKsPIsd7QqgSakNenY51DPsLrzy9mnv3QAFQcsWsv2jsb_rktAEVvzGe5yX6hrQMEkTumeIMJUN3L0Q1-zE\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=0E71636F7853748033238E8F85949AF7~-1~YAAQLp6yUgpL8HKAAQAAhXXbfwdw3avLQHi\/tkhKAs3Cj8htACg7dx0iXwTzF48lsRVmVcD6awAELgKiKfWWGZDa+IENM+9ngtdrTd6Dbjvfvi8PlAwLocYfsBKT8KqlD2jCI8ATMB8fjtT+VaScwwKlkQt+hVgzTNwtu+ZCMr05cev+2Ycwd245EjN2JMWfbjCfRe+4NDu6lYx1FjQ2Wetko0W5SWlgWQvgE4Z9lGdpvoj+nlRf23Aw6IRmFNk\/X+Bl553+Fxc5FktXO8eJTDolGWHR8oveZCvPN7OF6YEpFSJXatymOce0CBL8peu8IuZZRWjlHDNXdClYadmaFEwhOrKPHes760aeOmuTPTDwekHFRV2106s=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=1A8949C40DB34551BCB4029B57F16F15~YAAQLp6yUgtL8HKAAQAAhXXbfw\/ioeVuUDdUwqT3usVR3bo0O+mRHyskLq9QKGXn3aFSEUM1JLAucvdPfE7dUZPfYvsZyIEIjnPSb8a5cC5E\/J7P0VnhlbA\/neLctNXJV2GQWLjzrzDsH1iltQ7HqtDnhZ5buCusm7VJuOd5zHE1DCdEG99dQHoTkHNqw0xbXio2AACXQkUjJLIvOjrwOfcK6CaH6cj9YDQRHh\/OGJWBrsprfUy\/PQMtbnnKx7JEQ9PAWkqmwEQOKkXt1z4XgBHhuuhWaftiiBo0Znb8hjON~4536625~3421253\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:13:06.380 response time in milliseconds: 958\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 92fcf777-a6a8-410b-8b66-4925eef292e6\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: f43d6d96-0ac2-42a9-b93d-f0f4348601a7\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n2 < X-Vcap-Request-Id: a60ca75b-0755-45cd-4c87-50fcd484f005\n2 < X-Global-Transaction-ID: 126374ce626e8e3266cc3d65\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: uepPJWTv%2FFg0S3fFvQaD5LTLazVDang9ixqSgsyc7DMWGU8RpOut2KGXIYx8ir%2BaKRDddhKW2BwXe22o8N3YucH54LHdvKFNdsRDrInBKmVo6XfeVrx2YVnUKVVYby6x3%2FizRfqgyUntA9YpVrsJXXBdwB2uKMb8GZT4Rn86%2BMh6Ct4hvwdC64QepIYFA1aSJ6s6GfPuhLBVn4bJJ1btNS4OBEmOrX7rWwKTTxM0fafAEkRIBxdrlrUu2459%2FEUu9b9rSrgPo6%2FYTBHNoMEXvmLnA3HnUVQLdjRMJjzUtCHmg3%2BJVoEuwTwNm2x2AOwS2GHZFcVP9iI5TJYb6kABSvTR9ZnRdRw3rElnB%2BwM%2BsH%2FszbTfVF53ytFEYkmv%2FDUmEys05467doaj%2BrhOkG2%2BdZKG1wQ1IMx%2Fx40gn0NJbo%2FsBYBBg4u23GcBsS%2BjS9Xjs9E42ccc3h5KdjC6ByEGw%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 13:42:11 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651413731000; Expires=Mon, 20 Jul 54353 10:06:26 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":407800,"millis":0.4078,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"match response.rewardLinkCode != null"}},{"result":{"nanos":1522800,"errorMessage":"match failed: EQUALS\n  $ | not equal | match failed for name: 'rewardLinkCode' (MAP:MAP)\n  {\"rewardLinkCode\":\"4703012696960006061\"}\n  {\"rewardLinkCode\":\"$number\"}\n\n    $.rewardLinkCode | not equal (STRING:STRING)\n    '4703012696960006061'\n    '$number'\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:29","millis":1.5228,"status":"failed"},"step":{"line":29,"prefix":"And","index":10,"text":"match response == {\"rewardLinkCode\": '$number'}"},"stepLog":"19:13:06.383 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:29\nAnd match response == {\"rewardLinkCode\": '$number'}\nmatch failed: EQUALS\n  $ | not equal | match failed for name: 'rewardLinkCode' (MAP:MAP)\n  {\"rewardLinkCode\":\"4703012696960006061\"}\n  {\"rewardLinkCode\":\"$number\"}\n\n    $.rewardLinkCode | not equal (STRING:STRING)\n    '4703012696960006061'\n    '$number'\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:29\n"}],"line":18,"description":"","durationMillis":2017.7752,"failed":true,"error":"match failed: EQUALS\n  $ | not equal | match failed for name: 'rewardLinkCode' (MAP:MAP)\n  {\"rewardLinkCode\":\"4703012696960006061\"}\n  {\"rewardLinkCode\":\"$number\"}\n\n    $.rewardLinkCode | not equal (STRING:STRING)\n    '4703012696960006061'\n    '$number'\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:29","executorName":"main","name":"Verify the LinkageAPI with all mandatory body parameters","startTime":1651412584354,"refId":"[1:18]","endTime":1651412586383,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":133000,"millis":0.133,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":262300,"millis":0.2623,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":218000,"millis":0.218,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":195700,"millis":0.1957,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":184800,"millis":0.1848,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":565409400,"millis":565.4094,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:13:06.388 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:13:06.953 response time in milliseconds: 564\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 98b6a370626e8e3320ea4021\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e8e33-13f1e24c\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.47.59.18,169.175.115.119,153.40.245.129\n1 < dmz-global-txn-id: 98b6a370626e8e3320ea4021\n1 < X-Archived-Client-IP: 23.47.59.18,23.47.59.18,169.175.115.119\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:42:12 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651413732000; Expires=Mon, 20 Jul 54353 10:23:06 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=A65E369FDFE333B261116F369720CC13~-1~YAAQLp6yUhFL8HKAAQAA9nvbfwfmzXrUtSTwLLvXoue2b16WFeHGPqX3Ph5bH9mTCQomwpQviwAmgBOl9YraGWkNE+i87GBuqJc8zImjvgm5DWlWJeUhCov+s0v4KtPCtFt6tbYSkuBzmnkqKAW0re4ry7115K62zSgPdMt+OP2CKdu3zWnWDC1WSpH3XnChkckWZd1nqd9DKtDN2p72PZxf9lpjzhiTiN81I2y4AAFcs4T9MT3g+aISnmaxf7Booqc9AUOBxLWJrouhWNigVaheVeep1Q9QmUnrPVrAuF4KxNEvqMi3ADzjDNVMDEeuqdBzJOE4IA51XIAFnGbWferzvGpe\/t4zlKPQv2n6x8VQnAME7N2coP8=~-1~-1~-1; Max-Age=1682948532000; Expires=Sun, 05 Nov 55352 13:03:06 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=837FCF7BD29B94D41716B3D1F50DF1AE~YAAQLp6yUhJL8HKAAQAA9nvbfw8D7CLewIsrCEoKiAsaPekNIEQq20XUFMXa+6t1IzQ06WVqj4EbY8jqvTrtLCJBenodvRDdN+i2iKmnwzGvcK1qOXYACY3qtygo7qDPazptTsyTp5NypaDJfOScPfrXYBhcOTV9dgFnSLbqsyMnQwVLx9NQ6DGhynA0WbT24XHREeaNKKV\/8R0fZwcoffp68tXnDldDvFfP\/AHKMjgEJi99JSkeqISy\/MpsDSyIiY\/+rxVAk1otUGSHplguHz7p2rjkS09o18dKI7xbjm9v~4342832~4469817; Max-Age=1651426931000; Expires=Sun, 20 Dec 54353 04:46:26 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhsR7hA9T2mX2LUzNBwZb9uF6o2OlLw3tOo1jAB5xnN0TrDQrBVl4uadOd_r25aCfLSEQJem4buNpIamx6T2IVQ_X63r-uhsjDCWgNbtuXhZV546zxxZCYQaRMC51pJGPxAWiGMrN18Fur-vTTJGkzPpOiFGqlt4k-VvmkSowQo98w1a4a4QHoogdCa9Jsfn42sFWSOdXdLAiGMfoPBvkP4Gj-B_WtT1zNIN5CCbK8coI\", \"expires_in\":1800, \"consented_on\":1651412532, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":558600,"millis":0.5586,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:13:06.954 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhsR7hA9T2mX2LUzNBwZb9uF6o2OlLw3tOo1jAB5xnN0TrDQrBVl4uadOd_r25aCfLSEQJem4buNpIamx6T2IVQ_X63r-uhsjDCWgNbtuXhZV546zxxZCYQaRMC51pJGPxAWiGMrN18Fur-vTTJGkzPpOiFGqlt4k-VvmkSowQo98w1a4a4QHoogdCa9Jsfn42sFWSOdXdLAiGMfoPBvkP4Gj-B_WtT1zNIN5CCbK8coI\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651412532,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":462000,"millis":0.462,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":278900,"millis":0.2789,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":216300,"millis":0.2163,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":219500,"millis":0.2195,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:13:06.955 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhsR7hA9T2mX2LUzNBwZb9uF6o2OlLw3tOo1jAB5xnN0TrDQrBVl4uadOd_r25aCfLSEQJem4buNpIamx6T2IVQ_X63r-uhsjDCWgNbtuXhZV546zxxZCYQaRMC51pJGPxAWiGMrN18Fur-vTTJGkzPpOiFGqlt4k-VvmkSowQo98w1a4a4QHoogdCa9Jsfn42sFWSOdXdLAiGMfoPBvkP4Gj-B_WtT1zNIN5CCbK8coI \n"},{"result":{"nanos":214600,"millis":0.2146,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":102500,"millis":0.1025,"status":"passed"},"step":{"line":33,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":65900,"millis":0.0659,"status":"passed"},"step":{"line":34,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":76700,"millis":0.0767,"status":"passed"},"step":{"line":35,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":113300,"millis":0.1133,"status":"passed"},"step":{"line":36,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":95500,"millis":0.0955,"status":"passed"},"step":{"line":37,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":89100,"millis":0.0891,"status":"passed"},"step":{"line":38,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":114400,"millis":0.1144,"status":"passed"},"step":{"line":39,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":918482100,"millis":918.4821,"status":"passed"},"step":{"line":40,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:13:06.958 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhsR7hA9T2mX2LUzNBwZb9uF6o2OlLw3tOo1jAB5xnN0TrDQrBVl4uadOd_r25aCfLSEQJem4buNpIamx6T2IVQ_X63r-uhsjDCWgNbtuXhZV546zxxZCYQaRMC51pJGPxAWiGMrN18Fur-vTTJGkzPpOiFGqlt4k-VvmkSowQo98w1a4a4QHoogdCa9Jsfn42sFWSOdXdLAiGMfoPBvkP4Gj-B_WtT1zNIN5CCbK8coI\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=A65E369FDFE333B261116F369720CC13~-1~YAAQLp6yUhFL8HKAAQAA9nvbfwfmzXrUtSTwLLvXoue2b16WFeHGPqX3Ph5bH9mTCQomwpQviwAmgBOl9YraGWkNE+i87GBuqJc8zImjvgm5DWlWJeUhCov+s0v4KtPCtFt6tbYSkuBzmnkqKAW0re4ry7115K62zSgPdMt+OP2CKdu3zWnWDC1WSpH3XnChkckWZd1nqd9DKtDN2p72PZxf9lpjzhiTiN81I2y4AAFcs4T9MT3g+aISnmaxf7Booqc9AUOBxLWJrouhWNigVaheVeep1Q9QmUnrPVrAuF4KxNEvqMi3ADzjDNVMDEeuqdBzJOE4IA51XIAFnGbWferzvGpe\/t4zlKPQv2n6x8VQnAME7N2coP8=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=837FCF7BD29B94D41716B3D1F50DF1AE~YAAQLp6yUhJL8HKAAQAA9nvbfw8D7CLewIsrCEoKiAsaPekNIEQq20XUFMXa+6t1IzQ06WVqj4EbY8jqvTrtLCJBenodvRDdN+i2iKmnwzGvcK1qOXYACY3qtygo7qDPazptTsyTp5NypaDJfOScPfrXYBhcOTV9dgFnSLbqsyMnQwVLx9NQ6DGhynA0WbT24XHREeaNKKV\/8R0fZwcoffp68tXnDldDvFfP\/AHKMjgEJi99JSkeqISy\/MpsDSyIiY\/+rxVAk1otUGSHplguHz7p2rjkS09o18dKI7xbjm9v~4342832~4469817\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:13:07.875 response time in milliseconds: 917\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 5691ad2c-bf99-466e-aefc-ea52e60960de\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 6689965c-e24b-4b3e-9894-f0cd35fe2f2e\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n2 < X-Vcap-Request-Id: bbcb2ca9-abf9-4ed0-5ea6-af4564f7e664\n2 < X-Global-Transaction-ID: 6e68aa42626e8e347c9e432d\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: iwipyqDtRlvxVvctm4RAY3Sgo7P03gytBA0JPVUYTOiXnqaKyu2TuCLjB1FUbQHNFW8BLa%2FVO%2FLXDnlGaJcIBXNFk%2B7lcKKBT1oslTbT5yYe9LyuMS3WOhiAbePpGw%2B6UMXv3kEGfo0OGDifTk8rFVsULAcTadt0%2FRA6yuPmg8FMON5wo92qGJPkZQ6y4pCI9AnUJjOyH%2FyHScxlheXVcuJmnvhTRPWOCODoJNcGHqp9i7e7gy7scnMnk2%2BmvoeqtE5R7%2BqmcsgzaNrQAXHys9iSagWY9qzyKdNTyMTdhV8DV4sldBTF%2FICzSSrSInfIcTxFjCKjrUUkZ0oOUhslm97VooFSM38LayGOdM5l8Tw4kHoSUkhyIYtz28%2BM4yhPzYKkZi3ahu9Yoco6eSc1pbNVIS0K5eXY78DR5gybUR5eswaHzUK11O5HauqSYGs6dlhwt661smFAjdnRkDyfIg%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 13:42:13 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651413733000; Expires=Mon, 20 Jul 54353 10:39:47 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":41,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":290600,"millis":0.2906,"status":"passed"},"step":{"line":42,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:13:07.875 [print] {\n  \"rewardLinkCode\": \"4703012696960006061\"\n}\n \n"}],"executorName":"main","line":32,"name":"Verify the LinkageAPI with all mandatory body parameters","description":"","durationMillis":1487.7972,"startTime":1651412586387,"failed":false,"refId":"[2:32]","endTime":1651412587875,"exampleIndex":-1}],"callDepth":0,"name":"API level unit testing for linkage service","description":"","resultDate":"2022-05-01 07:13:07 pm","durationMillis":3505.5724,"passedCount":1}