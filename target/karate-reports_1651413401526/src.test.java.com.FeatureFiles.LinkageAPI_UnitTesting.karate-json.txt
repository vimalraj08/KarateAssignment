{"failedCount":2,"prefixedPath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","packageQualifiedName":"src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting","loopIndex":-1,"relativePath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":56298900,"millis":56.2989,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":621600,"millis":0.6216,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":443700,"millis":0.4437,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":245000,"millis":0.245,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":226000,"millis":0.226,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":1020226000,"millis":1020.226,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:24:38.909 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:24:39.673 response time in milliseconds: 760\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 14744989626e90e825a4bfdf\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e90e8-1404eb8a\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.64.120.184,169.175.61.90,153.40.245.129\n1 < dmz-global-txn-id: 14744989626e90e825a4bfdf\n1 < X-Archived-Client-IP: 23.64.120.184,23.64.120.184,169.175.61.90\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:53:44 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414424000; Expires=Tue, 28 Jul 54353 10:47:59 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=628A1E3DFC928E6EC6DEA7C5B774869B~-1~YAAQLp6yUrBR8HKAAQAAzg3mfwesrt9Q1GdjpWGeDCg\/i9YMiJ\/6WBfb5lxa2tmKLEyUoyNmLUyvHg93TwDiJ6LBsDcqnjU20hRBJYhpAFqnmqCtVV9Tv68a\/XBABabD409tav8rIYfQyLosA0swJxrZn9cG75r\/n9LJ9DQ5yFFDobk8ADsC8UCpx6WjISax3352AJdir73v7MWxTcjbUpS9Yn4qGLqUcG9h7JZrN\/gQuesBV0LeKv62z2\/sOD77XwN1u9wiXjOPf+8oTvE\/Ciy4wbkJtgXhMhbEEXEfFAqONOpznd8PWG75edDbugrH3\/1OewtM9xosoYqS0xWpRd1SeXvjMNT088L9M6sNjtFf5oW2p2fDX2g=~-1~-1~-1; Max-Age=1682949224000; Expires=Mon, 13 Nov 55352 13:27:59 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=2A9F5872C1A7A0BC709660F97A099930~YAAQLp6yUrFR8HKAAQAAzg3mfw+UhVZC7i\/n3VyvY2Fz4\/Vv2vT12IILS84\/UXqQD3PLK7rvB4y3DN5Xsc0w0bRD+79rJ8+CB\/+RE0GCQBf7\/\/V6ue7r+eNLw1PobPdDzIOpSQ4sqd72SLM97tHcvfqiZYi+GXupOa3I2NBGIW\/i1H5haaljWZAOJo0i4UuEPJIwr2HAt9DPovxjYi\/o\/T+3DB9k4cSfujSQQFSDX\/zQCa6ZcC4+lpXi8qIriKZcKCdd6lmUrRLMgz7FXYOKOLPJjZCTOu+pnUhxKS8UsSVy~3289925~3224627; Max-Age=1651427624000; Expires=Mon, 28 Dec 54353 05:27:59 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhL3SZmXDqQxmLmhD60KxHKXt9arq4xzLlwBBteeA_dxe-BR2c1mJcV22gV4P_KTKxq-C4qjCqNa7d8zMp_u0YY9oUMMV8YT4ANzG-6oEVEmHxeGEQl12blykO7mTSff7sigTq7foU2xM3Idg24oct7zJC6_0KS2hlgJXxTscClzNYdWcShcF3oyRDCaC5GQ1XanvsyccKUjVep0LQthYJ664FAa-fX2YQaKXH9GZjUxc\", \"expires_in\":1800, \"consented_on\":1651413224, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":49113000,"millis":49.113,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:24:39.742 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhL3SZmXDqQxmLmhD60KxHKXt9arq4xzLlwBBteeA_dxe-BR2c1mJcV22gV4P_KTKxq-C4qjCqNa7d8zMp_u0YY9oUMMV8YT4ANzG-6oEVEmHxeGEQl12blykO7mTSff7sigTq7foU2xM3Idg24oct7zJC6_0KS2hlgJXxTscClzNYdWcShcF3oyRDCaC5GQ1XanvsyccKUjVep0LQthYJ664FAa-fX2YQaKXH9GZjUxc\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413224,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":22008100,"millis":22.0081,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":1684800,"millis":1.6848,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":940300,"millis":0.9403,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":749900,"millis":0.7499,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:24:39.768 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhL3SZmXDqQxmLmhD60KxHKXt9arq4xzLlwBBteeA_dxe-BR2c1mJcV22gV4P_KTKxq-C4qjCqNa7d8zMp_u0YY9oUMMV8YT4ANzG-6oEVEmHxeGEQl12blykO7mTSff7sigTq7foU2xM3Idg24oct7zJC6_0KS2hlgJXxTscClzNYdWcShcF3oyRDCaC5GQ1XanvsyccKUjVep0LQthYJ664FAa-fX2YQaKXH9GZjUxc \n"},{"result":{"nanos":6571100,"millis":6.5711,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":265300,"millis":0.2653,"status":"passed"},"step":{"line":19,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":139300,"millis":0.1393,"status":"passed"},"step":{"line":20,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":129400,"millis":0.1294,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":336700,"millis":0.3367,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":102200,"millis":0.1022,"status":"passed"},"step":{"line":23,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":219900,"millis":0.2199,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":225500,"millis":0.2255,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":1279059600,"millis":1279.0596,"status":"passed"},"step":{"line":26,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:24:39.779 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhL3SZmXDqQxmLmhD60KxHKXt9arq4xzLlwBBteeA_dxe-BR2c1mJcV22gV4P_KTKxq-C4qjCqNa7d8zMp_u0YY9oUMMV8YT4ANzG-6oEVEmHxeGEQl12blykO7mTSff7sigTq7foU2xM3Idg24oct7zJC6_0KS2hlgJXxTscClzNYdWcShcF3oyRDCaC5GQ1XanvsyccKUjVep0LQthYJ664FAa-fX2YQaKXH9GZjUxc\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=628A1E3DFC928E6EC6DEA7C5B774869B~-1~YAAQLp6yUrBR8HKAAQAAzg3mfwesrt9Q1GdjpWGeDCg\/i9YMiJ\/6WBfb5lxa2tmKLEyUoyNmLUyvHg93TwDiJ6LBsDcqnjU20hRBJYhpAFqnmqCtVV9Tv68a\/XBABabD409tav8rIYfQyLosA0swJxrZn9cG75r\/n9LJ9DQ5yFFDobk8ADsC8UCpx6WjISax3352AJdir73v7MWxTcjbUpS9Yn4qGLqUcG9h7JZrN\/gQuesBV0LeKv62z2\/sOD77XwN1u9wiXjOPf+8oTvE\/Ciy4wbkJtgXhMhbEEXEfFAqONOpznd8PWG75edDbugrH3\/1OewtM9xosoYqS0xWpRd1SeXvjMNT088L9M6sNjtFf5oW2p2fDX2g=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=2A9F5872C1A7A0BC709660F97A099930~YAAQLp6yUrFR8HKAAQAAzg3mfw+UhVZC7i\/n3VyvY2Fz4\/Vv2vT12IILS84\/UXqQD3PLK7rvB4y3DN5Xsc0w0bRD+79rJ8+CB\/+RE0GCQBf7\/\/V6ue7r+eNLw1PobPdDzIOpSQ4sqd72SLM97tHcvfqiZYi+GXupOa3I2NBGIW\/i1H5haaljWZAOJo0i4UuEPJIwr2HAt9DPovxjYi\/o\/T+3DB9k4cSfujSQQFSDX\/zQCa6ZcC4+lpXi8qIriKZcKCdd6lmUrRLMgz7FXYOKOLPJjZCTOu+pnUhxKS8UsSVy~3289925~3224627\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:24:41.056 response time in milliseconds: 1276\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 092d21fe-eecd-4182-91a0-88859944c501\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: a5b790e3-8470-4926-b622-0c73aa2b0305\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n2 < X-Vcap-Request-Id: a6830b26-1e65-4f55-7164-8945d2741986\n2 < X-Global-Transaction-ID: 126374ce626e90e9094a524d\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: cMGm0KIip%2Fe1ywE3XC8eCxQ5JMwBbHTDe7H8nu%2BrqN0Z0cM4M%2FpAhQFzXwZGLMJXPlh3PC4U1PlC%2BckSy9HMEmA65m94KpvQINu5A5uScARmMswXWHgJBkmijlYXejULaecCUuSV5sWcoLnLjUjhCiliqM5IXLi3PfXqw0Ww00YkXeicrijDI0DEetE9Z1xH7l7wYGZM3Jrz7sr9eH4%2BezFLTYj1I%2FqAAaUd45nxGRIgSFmqAlOLOdT5LaaAJLcBedsO%2FhfS1o5OOckxXyFbwzPuj0bIKa1bJ%2FJwvQTXv5i7dOxeG0t4wOo8VZKySJAEyOlMpsABnOPS6iTTR%2FiERcKxppzSBeC3aGxIuLju5U%2FHsKhlH%2FKq4veT3TTHSoZ2qsjb03EcBSqZAbmRNchGyvPShlE3XdLm3bQmkPO8%2FPhNG5cZeTCFXIzn98Uk26XOEMAiRZJ47z8RcHm3mVn9nA%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 13:53:46 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414426000; Expires=Tue, 28 Jul 54353 11:21:21 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":27,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":886300,"millis":0.8863,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"match response.rewardLinkCode != null"}}],"executorName":"main","line":18,"name":"Verify the LinkageAPI with all mandatory body parameters","description":"","durationMillis":2440.5402,"startTime":1651413278605,"failed":false,"refId":"[1:18]","endTime":1651413281058,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":126600,"millis":0.1266,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":229900,"millis":0.2299,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":217800,"millis":0.2178,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":180500,"millis":0.1805,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":167400,"millis":0.1674,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":483074000,"millis":483.074,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:24:41.064 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:24:41.545 response time in milliseconds: 481\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 98b6a370626e90ea20f46101\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e90ea-1404f964\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.47.59.18,169.175.115.119,169.177.209.49\n1 < dmz-global-txn-id: 98b6a370626e90ea20f46101\n1 < X-Archived-Client-IP: 23.47.59.18,23.47.59.18,169.175.115.119\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:53:46 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414426000; Expires=Tue, 28 Jul 54353 11:21:21 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=BFC07A309B5AFCEB46AD703576D0AEC6~-1~YAAQLp6yUrNR8HKAAQAAPBXmfwc\/8YKINGqqMLNA6yq8QgA2InigXjNpQYk68OvnlUlbh5BrasyDR417KX8MgrhbGWCYToWhH+A6g23Ud1UfVw+z7L0xI\/USToKvikkjyLS4NsUR2NIK8LHfS8YfC9Z4h8Em4bBY95yniuPal9qkYZeFo4DUxpbUPSETZgEwR+nB1j9K\/GZsIDlF1f1qa4TOHhGfVRyPrwzds3dNKyH85rOk6IoNKpTdZH1vj5mdB8rZoTsA1qJlxpF7CQXfW8un4ymos5wAFrt45Jl2NAwlWvU2JbuVNeSEaTW4zpxBLozzNL4gOhbt1FDPWEgFmUUXiMzI1lKMoySvXyNc6J2qUw9rd7VGvYY=~-1~-1~-1; Max-Age=1682949226000; Expires=Mon, 13 Nov 55352 14:01:21 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=BC13A0A3B40A7C7EEDF0FBDAEE8F60EA~YAAQLp6yUrRR8HKAAQAAPBXmfw9k4\/fg3gBRJBLtt7ATCWBx4YnQxPr4HoWsZ8KjCpVJfFfnibC9\/laYMYSUt3YnZD2c9Jahyqn3KSURrOc7QoBqDkpVe\/q9NKNfJLywczUaUtiAKZlPV4xnFa+SD9wkYHeExFCmER4ZPHiRrLuJI7Z4imNhw+glrPx1lWAqYRKr+uF3MHJHc7YrS8p1T0+AKmGTAN+oQAZwcDdhU8hqLY6BtNmma\/PExcfVWmUx01lsQnsRuYZaM9vHfNMiQDFLBIC3GyAmRPgvRRR8aX2F~4600130~3682628; Max-Age=1651427626000; Expires=Mon, 28 Dec 54353 06:01:21 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhWGCX2JOE-YRCsGqBuv6Favo_SKjrY6StuDz_kljiZatLD6PoXEveDS_TI0PDYo0mRlpZjaomF0rBFZH1Mb9rvGGXJejWeM73i8uES1tHXAZTW984gONgRJyXeI23-avXVnGI-C1rtxFEc1p-CR7YNrYqJsw9zhqjyQn3R7ax1LmiM84JUMmCuxJJkafzDcGUT3GPF4lzyF2LngFPMRDU7lhwRs2QhR0fwKZYTIs2P-Y\", \"expires_in\":1800, \"consented_on\":1651413226, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":707100,"millis":0.7071,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:24:41.547 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhWGCX2JOE-YRCsGqBuv6Favo_SKjrY6StuDz_kljiZatLD6PoXEveDS_TI0PDYo0mRlpZjaomF0rBFZH1Mb9rvGGXJejWeM73i8uES1tHXAZTW984gONgRJyXeI23-avXVnGI-C1rtxFEc1p-CR7YNrYqJsw9zhqjyQn3R7ax1LmiM84JUMmCuxJJkafzDcGUT3GPF4lzyF2LngFPMRDU7lhwRs2QhR0fwKZYTIs2P-Y\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413226,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":398300,"millis":0.3983,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":239100,"millis":0.2391,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":172200,"millis":0.1722,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":153900,"millis":0.1539,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:24:41.547 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhWGCX2JOE-YRCsGqBuv6Favo_SKjrY6StuDz_kljiZatLD6PoXEveDS_TI0PDYo0mRlpZjaomF0rBFZH1Mb9rvGGXJejWeM73i8uES1tHXAZTW984gONgRJyXeI23-avXVnGI-C1rtxFEc1p-CR7YNrYqJsw9zhqjyQn3R7ax1LmiM84JUMmCuxJJkafzDcGUT3GPF4lzyF2LngFPMRDU7lhwRs2QhR0fwKZYTIs2P-Y \n"},{"result":{"nanos":138400,"millis":0.1384,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":65500,"millis":0.0655,"status":"passed"},"step":{"line":31,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"line":32,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":52900,"millis":0.0529,"status":"passed"},"step":{"line":33,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":67800,"millis":0.0678,"status":"passed"},"step":{"line":34,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"line":35,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"line":36,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":510400,"millis":0.5104,"status":"passed"},"step":{"line":37,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":12399648600,"millis":12399.6486,"status":"passed"},"step":{"line":38,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:24:41.550 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhWGCX2JOE-YRCsGqBuv6Favo_SKjrY6StuDz_kljiZatLD6PoXEveDS_TI0PDYo0mRlpZjaomF0rBFZH1Mb9rvGGXJejWeM73i8uES1tHXAZTW984gONgRJyXeI23-avXVnGI-C1rtxFEc1p-CR7YNrYqJsw9zhqjyQn3R7ax1LmiM84JUMmCuxJJkafzDcGUT3GPF4lzyF2LngFPMRDU7lhwRs2QhR0fwKZYTIs2P-Y\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=BFC07A309B5AFCEB46AD703576D0AEC6~-1~YAAQLp6yUrNR8HKAAQAAPBXmfwc\/8YKINGqqMLNA6yq8QgA2InigXjNpQYk68OvnlUlbh5BrasyDR417KX8MgrhbGWCYToWhH+A6g23Ud1UfVw+z7L0xI\/USToKvikkjyLS4NsUR2NIK8LHfS8YfC9Z4h8Em4bBY95yniuPal9qkYZeFo4DUxpbUPSETZgEwR+nB1j9K\/GZsIDlF1f1qa4TOHhGfVRyPrwzds3dNKyH85rOk6IoNKpTdZH1vj5mdB8rZoTsA1qJlxpF7CQXfW8un4ymos5wAFrt45Jl2NAwlWvU2JbuVNeSEaTW4zpxBLozzNL4gOhbt1FDPWEgFmUUXiMzI1lKMoySvXyNc6J2qUw9rd7VGvYY=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=BC13A0A3B40A7C7EEDF0FBDAEE8F60EA~YAAQLp6yUrRR8HKAAQAAPBXmfw9k4\/fg3gBRJBLtt7ATCWBx4YnQxPr4HoWsZ8KjCpVJfFfnibC9\/laYMYSUt3YnZD2c9Jahyqn3KSURrOc7QoBqDkpVe\/q9NKNfJLywczUaUtiAKZlPV4xnFa+SD9wkYHeExFCmER4ZPHiRrLuJI7Z4imNhw+glrPx1lWAqYRKr+uF3MHJHc7YrS8p1T0+AKmGTAN+oQAZwcDdhU8hqLY6BtNmma\/PExcfVWmUx01lsQnsRuYZaM9vHfNMiQDFLBIC3GyAmRPgvRRR8aX2F~4600130~3682628\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:24:53.949 response time in milliseconds: 12399\n2 < 400\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: d55aedd6-747b-4b71-a0ee-9f7a201982ef\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 88017868-122c-4462-a7ba-8a3a22b69242\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n2 < X-Vcap-Request-Id: 86a5135c-7fe0-4070-5f2f-d5edcf839a77\n2 < X-Global-Transaction-ID: 126374ce626e90eb094b3c9d\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: SBRORwaXGXi5WbaK4YqLhMfPYqbKHZwmIEhH1KagBPpReGJ%2F4N1mH%2FzZqEnQ9iMDQTfD9f1vfjbdhbXWFm5XjVRelPsAHRONMajQgJMEqDBXL7IO3oM8af%2FraStfVWfQTTDMyQorjwJNjjOZJ%2F3o%2BkgF24Y61In6HLdEM%2BcZh0jDR0c%2F1AWWXK4E1KGOVn3wKWWG2K4QsDIBr9j39KEcX9J7di2Zxx%2BdgiSnPjXeTPtpl%2BTR8LtRIF8drM9Doj3gETJBU5ShS7dvY2Yog6v%2Bg3b9h2PZ7UiI5PeZg4dF5jen1Rce64298SFrCnrslrUH05YRqqP1LRZsWUNFhUICsj8qicrD6qbUmXbdft9F2af4NH6SWRlROv1wp4ENLR%2F7f03WAWVvj3NZxx%2B853fqmBaaEQiX4yNgoTsB%2BZCxKf5ihKiyLAfJA6nqgXLumRWxegQuWrQYGuONU6G5z6oGcQ%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 84\n2 < Date: Sun, 01 May 2022 13:53:59 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414439000; Expires=Tue, 28 Jul 54353 14:58:13 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"type\":\"invalid\",\"code\":\"invalidRequest\",\"details\":\"Missing or invalid parameters\"}\n\n"},{"result":{"nanos":8300,"millis":0.0083,"status":"passed"},"step":{"line":39,"prefix":"Then","index":8,"text":"status 400"}},{"result":{"nanos":528900,"millis":0.5289,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:24:53.950 [print] {\n  \"type\": \"invalid\",\n  \"code\": \"invalidRequest\",\n  \"details\": \"Missing or invalid parameters\"\n}\n \n"},{"result":{"nanos":794400,"millis":0.7944,"status":"passed"},"step":{"line":41,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":697800,"millis":0.6978,"status":"passed"},"step":{"line":42,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":358100,"millis":0.3581,"status":"passed"},"step":{"line":43,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"executorName":"main","line":30,"name":"Verify the LinkageAPI with invalid lastFourDigitsCardNumber in body parameters","description":"","durationMillis":12888.7119,"startTime":1651413281062,"failed":false,"refId":"[2:30]","endTime":1651413293952,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":95300,"millis":0.0953,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":69500,"millis":0.0695,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":63600,"millis":0.0636,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":59100,"millis":0.0591,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":949532500,"millis":949.5325,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:24:53.956 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:24:54.904 response time in milliseconds: 948\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 2b769208626e90f7e821ffef\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e90f7-1405539c\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.205.100.34,169.175.61.96,153.40.245.129\n1 < dmz-global-txn-id: 2b769208626e90f7e821ffef\n1 < X-Archived-Client-IP: 23.205.100.34,23.205.100.34,169.175.61.96\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:54:00 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414440000; Expires=Tue, 28 Jul 54353 15:14:54 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=C3A16831EE546224A2D6C95788C2F42D~-1~YAAQLp6yUshR8HKAAQAAYEnmfwd0Vc9yXvXI4o1oux0ozSQ8LHL\/bTR4A1n1ueLfwu68XIs2cpg9DTfxqFAgXPfZLjCVtZ4k1S9D38AbAoUoKPmOQ\/DERpZCd12VHsmCi3D17KCsWX\/mp8\/4fA0F3DYSDr9C5BsYKAVLi\/h60J1s6\/lFWe0qsyB6U05Cl\/bkJ+oREdygGp4BvdsejZeSji7TziD2cXaNPz8xCP9PDogNrD1JTpG+sn942BsvfALk8DZE7yhQCaZcr6SrYsuyDcHLSqvzGk9vnpCfa4M8jICyuHrPCiprAsO2mnXkQDvn3dy0aKJFuZxGc95g6Vjs0UV8GCZo\/HKAL7Ma\/3rVBMo0ENTtaZpzi3I=~-1~-1~-1; Max-Age=1682949240000; Expires=Mon, 13 Nov 55352 17:54:54 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=E222704E3E5AC8F6899B8BFCD365DBA8~YAAQLp6yUslR8HKAAQAAYEnmfw+vaZGdGkaVaQ6D2loHHXygqis1WIZ5i1uPnO+Uxvj7OmqcnCkbcYK\/zblqfCXEpyX1\/WBCckzVvDrhl\/EEMjaOgE5+AzcNF25caDdMfnzHn1YYyNjnutG+zaHL86UWvOqNY3egoR5D8mRq0hcqkyND4I1jRHsgxZPm\/rjxUvrrBiFyQgL+9tW4BBq35Z8ajiMDLXvy\/0nFA7fXHruN1+GoSySLMnqFw2PQ+e+Z1aFZcGPr\/9IkUPZ4iiXDllu\/PPg0wOnOqbZ4M8TptUC1~4535088~3162425; Max-Age=1651427639000; Expires=Mon, 28 Dec 54353 09:38:14 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhMs4-DcRCOoaxwJ4hod0boCWwiBXfi00YgWr8TcmfIs3mNCk6p5CphoNqN2sl6gdFyfgTg136nYEnhlskoqDFzSKiyQdFbgrM1IGzyDrdyK7mYbGEch9hJbmTS_Q8V-u31WhYRpPaNuGzg-1750DWPwX9NU5rPB_HtL5Vi7BEI4RLv7OwylKd5S97AbxxVI9auMYs6yzcXvR5gc5SvevbLlv_pd73sRTniXrlzcF62u8\", \"expires_in\":1800, \"consented_on\":1651413240, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":9200,"millis":0.0092,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":457500,"millis":0.4575,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:24:54.905 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhMs4-DcRCOoaxwJ4hod0boCWwiBXfi00YgWr8TcmfIs3mNCk6p5CphoNqN2sl6gdFyfgTg136nYEnhlskoqDFzSKiyQdFbgrM1IGzyDrdyK7mYbGEch9hJbmTS_Q8V-u31WhYRpPaNuGzg-1750DWPwX9NU5rPB_HtL5Vi7BEI4RLv7OwylKd5S97AbxxVI9auMYs6yzcXvR5gc5SvevbLlv_pd73sRTniXrlzcF62u8\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413240,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":387700,"millis":0.3877,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":267800,"millis":0.2678,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":192700,"millis":0.1927,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":252200,"millis":0.2522,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:24:54.907 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhMs4-DcRCOoaxwJ4hod0boCWwiBXfi00YgWr8TcmfIs3mNCk6p5CphoNqN2sl6gdFyfgTg136nYEnhlskoqDFzSKiyQdFbgrM1IGzyDrdyK7mYbGEch9hJbmTS_Q8V-u31WhYRpPaNuGzg-1750DWPwX9NU5rPB_HtL5Vi7BEI4RLv7OwylKd5S97AbxxVI9auMYs6yzcXvR5gc5SvevbLlv_pd73sRTniXrlzcF62u8 \n"},{"result":{"nanos":161800,"millis":0.1618,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":75700,"millis":0.0757,"status":"passed"},"step":{"line":46,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"line":47,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":57700,"millis":0.0577,"status":"passed"},"step":{"line":48,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":1227900,"millis":1.2279,"status":"passed"},"step":{"line":49,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":77600,"millis":0.0776,"status":"passed"},"step":{"line":50,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"line":51,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":459600,"millis":0.4596,"status":"passed"},"step":{"line":52,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":21175650400,"millis":21175.6504,"status":"passed"},"step":{"line":53,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:24:54.911 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhMs4-DcRCOoaxwJ4hod0boCWwiBXfi00YgWr8TcmfIs3mNCk6p5CphoNqN2sl6gdFyfgTg136nYEnhlskoqDFzSKiyQdFbgrM1IGzyDrdyK7mYbGEch9hJbmTS_Q8V-u31WhYRpPaNuGzg-1750DWPwX9NU5rPB_HtL5Vi7BEI4RLv7OwylKd5S97AbxxVI9auMYs6yzcXvR5gc5SvevbLlv_pd73sRTniXrlzcF62u8\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=C3A16831EE546224A2D6C95788C2F42D~-1~YAAQLp6yUshR8HKAAQAAYEnmfwd0Vc9yXvXI4o1oux0ozSQ8LHL\/bTR4A1n1ueLfwu68XIs2cpg9DTfxqFAgXPfZLjCVtZ4k1S9D38AbAoUoKPmOQ\/DERpZCd12VHsmCi3D17KCsWX\/mp8\/4fA0F3DYSDr9C5BsYKAVLi\/h60J1s6\/lFWe0qsyB6U05Cl\/bkJ+oREdygGp4BvdsejZeSji7TziD2cXaNPz8xCP9PDogNrD1JTpG+sn942BsvfALk8DZE7yhQCaZcr6SrYsuyDcHLSqvzGk9vnpCfa4M8jICyuHrPCiprAsO2mnXkQDvn3dy0aKJFuZxGc95g6Vjs0UV8GCZo\/HKAL7Ma\/3rVBMo0ENTtaZpzi3I=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=E222704E3E5AC8F6899B8BFCD365DBA8~YAAQLp6yUslR8HKAAQAAYEnmfw+vaZGdGkaVaQ6D2loHHXygqis1WIZ5i1uPnO+Uxvj7OmqcnCkbcYK\/zblqfCXEpyX1\/WBCckzVvDrhl\/EEMjaOgE5+AzcNF25caDdMfnzHn1YYyNjnutG+zaHL86UWvOqNY3egoR5D8mRq0hcqkyND4I1jRHsgxZPm\/rjxUvrrBiFyQgL+9tW4BBq35Z8ajiMDLXvy\/0nFA7fXHruN1+GoSySLMnqFw2PQ+e+Z1aFZcGPr\/9IkUPZ4iiXDllu\/PPg0wOnOqbZ4M8TptUC1~4535088~3162425\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:25:16.084 response time in milliseconds: 21173\n2 < 502\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: text\/plain\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: fbf26084-b619-49f5-b3c9-4a2909ab744d\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Cf-Routererror: endpoint_failure (EOF)\n2 < X-Vcap-Request-Id: a9168437-5ed4-4c98-7b09-be75d72ba408\n2 < X-Global-Transaction-ID: 126374ce626e90f8708fd91f\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: l3TbPwkHDJ%2FmU4KasOXgXM%2FOaVk%2FadsR%2F6jdeICLQVF9ZVr3m8pshbOL3l%2B2WNudBW%2B%2BYe5KTvuWkll%2FUnCEDafsJYD8GMh1UVlkhnE%2FSX%2BO85Jfe0b2AknuvhAVC7Y3xcVCSiCNn%2B4T7GeHavX5iczTIABvFTYwTXSeTvgWZzrDm1Uxr5m48PfxNDpSCnGJ29ZlgMXxuymWXKAas%2B8MF1s9Do9CyPBrvYQAhf2BazEt9XQ0CZGe5JVHUst6JySP3Dz%2B5%2BFDSDlFvYrbZlNYdFMZJAsfRqbqpu5fNWwLOaxUmREFpWx7Vqp3Z%2BIL4LDdeRw7f%2F4lHfl5N9q86aE8bdmfEJAkNYPodd8AsqKxO8IfWngwdrEDKukSQ8uHhgjlzBO3VZuyN1RHObKKw2SnLAOHvmF5rk8aznLO1mbphMjvVe24TZKyqYZ9mtaGjfXaL9QYL7wRFpzpRWCljk9jww%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 67\n2 < Date: Sun, 01 May 2022 13:54:21 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414461000; Expires=Tue, 28 Jul 54353 21:05:16 GMT; Domain=sandbox.apihub.citi.com; Secure\n502 Bad Gateway: Registered endpoint failed to handle the request.\n\n\n"},{"result":{"nanos":218300,"errorMessage":"status code was: 502, expected: 400, response time in milliseconds: 21173, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n502 Bad Gateway: Registered endpoint failed to handle the request.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54","millis":0.2183,"status":"failed"},"step":{"line":54,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"19:25:16.087 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54\nThen status 400\nstatus code was: 502, expected: 400, response time in milliseconds: 21173, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n502 Bad Gateway: Registered endpoint failed to handle the request.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":45,"description":"","durationMillis":22129.4676,"failed":true,"error":"status code was: 502, expected: 400, response time in milliseconds: 21173, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n502 Bad Gateway: Registered endpoint failed to handle the request.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54","executorName":"main","name":"Verify the LinkageAPI with invalid citiCardHolderPhoneNumber in body parameters","startTime":1651413293954,"refId":"[3:45]","endTime":1651413316087,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":219900,"millis":0.2199,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":102200,"millis":0.1022,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":118300,"millis":0.1183,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":133000,"millis":0.133,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":105300,"millis":0.1053,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":2610985100,"millis":2610.9851,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:25:16.092 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:25:18.701 response time in milliseconds: 2608\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 126374ce626e910f094bf2bd\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e910e-10c7be7a\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.100\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.205.100.34,169.175.115.126,169.177.209.49\n1 < dmz-global-txn-id: 126374ce626e910f094bf2bd\n1 < X-Archived-Client-IP: 23.205.100.34,23.205.100.34,169.175.115.126\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:54:23 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414463000; Expires=Tue, 28 Jul 54353 21:38:38 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=35FD70358A15793D5B374B96E9DEDA76~-1~YAAQZJ6yUoWb83KAAQAAyKTmfwfQgvww9pnPt8lBOw67phIS6YIbFDMO7+PbyGKAt7jO\/MktPdm2tMjxBqfsCfHw7kcVKaQOad2xaM9kpXdQ5EgyaHocxmT9P\/XHOayfhDkeScaL2TsMjQbDP86BpMptTxSfkAxPgXO89Da\/7LlAKwyA2nGfYCU7wCDEChkbpp2WLlXay7o3zXvWsgmDFWLY\/7q35rZyZrb8yHPYtDtBoBSVUCh7+00UgLha+La0eDAeZjiu9k4trFw9+Rv80a2Y4aLjCkqsNxblG7Q2dMtrEiox\/UJ6ADJlfOuGlEWls8JQZUctuPTQ71UcjBR6214fmbgRjzwdT14\/efcGUaAK0jhshFcrN3w=~-1~-1~-1; Max-Age=1682949263000; Expires=Tue, 14 Nov 55352 00:18:38 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=7B61D564873EDAB9CA912C85F0784CA8~YAAQZJ6yUoab83KAAQAAyKTmfw+i4tw65\/sZi+iUom7ISpmX5CRpe19qtLHUb6v4tXNpU1U\/uGQeTodGJuc08jM7yCQmyKay4sOzwT\/i16iOV9wcYaWSnZm2GAI6xQMXDxkoZ\/DAvI3zEd5YX4W0r0+6H6q8xYqIie6tNvQdGaEABbydL2y6+IB2vgHtKy\/iZ+iZLhpx1UfE32lfwwz9OR3wjfuIRgJKjTnAmQWfoUGeApnEIUFvha66fcnkBVy1uRR+\/hkf\/kubdTHPLbEFo1dbQE2Y\/Xy0xa7dw6hKB4GC~3223862~3159860; Max-Age=1651427662000; Expires=Mon, 28 Dec 54353 16:01:58 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhm1zB23ikFA1QZDUii5Z4lEJDGAq9QJRsr0wv4a4Itxggw1f46oGxX-fXWMm1ipnU4gFkBJXsyyY4jvtIHD0tQx45EYpZC53SjzRC4jnD6Yw8um8ags7X5VDefaDb3P9MOnEbvZqh0v1ZhtM8ceFz08dYZDmUbJ55Aj3sPIkmtGpVIgEyss5KzUZwqY8xU2tMXzJd0CRKtzrFRZuUJO78WCnn_hhCHfz1yS2npNfrAGg\", \"expires_in\":1800, \"consented_on\":1651413263, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":853900,"millis":0.8539,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:25:18.703 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhm1zB23ikFA1QZDUii5Z4lEJDGAq9QJRsr0wv4a4Itxggw1f46oGxX-fXWMm1ipnU4gFkBJXsyyY4jvtIHD0tQx45EYpZC53SjzRC4jnD6Yw8um8ags7X5VDefaDb3P9MOnEbvZqh0v1ZhtM8ceFz08dYZDmUbJ55Aj3sPIkmtGpVIgEyss5KzUZwqY8xU2tMXzJd0CRKtzrFRZuUJO78WCnn_hhCHfz1yS2npNfrAGg\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413263,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":855300,"millis":0.8553,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":942400,"millis":0.9424,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":617500,"millis":0.6175,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":781700,"millis":0.7817,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:25:18.707 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhm1zB23ikFA1QZDUii5Z4lEJDGAq9QJRsr0wv4a4Itxggw1f46oGxX-fXWMm1ipnU4gFkBJXsyyY4jvtIHD0tQx45EYpZC53SjzRC4jnD6Yw8um8ags7X5VDefaDb3P9MOnEbvZqh0v1ZhtM8ceFz08dYZDmUbJ55Aj3sPIkmtGpVIgEyss5KzUZwqY8xU2tMXzJd0CRKtzrFRZuUJO78WCnn_hhCHfz1yS2npNfrAGg \n"},{"result":{"nanos":558800,"millis":0.5588,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":278500,"millis":0.2785,"status":"passed"},"step":{"line":61,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":252000,"millis":0.252,"status":"passed"},"step":{"line":62,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":193300,"millis":0.1933,"status":"passed"},"step":{"line":63,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":330000,"millis":0.33,"status":"passed"},"step":{"line":64,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":288900,"millis":0.2889,"status":"passed"},"step":{"line":65,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":289100,"millis":0.2891,"status":"passed"},"step":{"line":66,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":1040000,"millis":1.04,"status":"passed"},"step":{"line":67,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"abcdefghiij\"}'"}},{"result":{"nanos":1265340400,"millis":1265.3404,"status":"passed"},"step":{"line":68,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:25:18.716 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhm1zB23ikFA1QZDUii5Z4lEJDGAq9QJRsr0wv4a4Itxggw1f46oGxX-fXWMm1ipnU4gFkBJXsyyY4jvtIHD0tQx45EYpZC53SjzRC4jnD6Yw8um8ags7X5VDefaDb3P9MOnEbvZqh0v1ZhtM8ceFz08dYZDmUbJ55Aj3sPIkmtGpVIgEyss5KzUZwqY8xU2tMXzJd0CRKtzrFRZuUJO78WCnn_hhCHfz1yS2npNfrAGg\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=35FD70358A15793D5B374B96E9DEDA76~-1~YAAQZJ6yUoWb83KAAQAAyKTmfwfQgvww9pnPt8lBOw67phIS6YIbFDMO7+PbyGKAt7jO\/MktPdm2tMjxBqfsCfHw7kcVKaQOad2xaM9kpXdQ5EgyaHocxmT9P\/XHOayfhDkeScaL2TsMjQbDP86BpMptTxSfkAxPgXO89Da\/7LlAKwyA2nGfYCU7wCDEChkbpp2WLlXay7o3zXvWsgmDFWLY\/7q35rZyZrb8yHPYtDtBoBSVUCh7+00UgLha+La0eDAeZjiu9k4trFw9+Rv80a2Y4aLjCkqsNxblG7Q2dMtrEiox\/UJ6ADJlfOuGlEWls8JQZUctuPTQ71UcjBR6214fmbgRjzwdT14\/efcGUaAK0jhshFcrN3w=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=7B61D564873EDAB9CA912C85F0784CA8~YAAQZJ6yUoab83KAAQAAyKTmfw+i4tw65\/sZi+iUom7ISpmX5CRpe19qtLHUb6v4tXNpU1U\/uGQeTodGJuc08jM7yCQmyKay4sOzwT\/i16iOV9wcYaWSnZm2GAI6xQMXDxkoZ\/DAvI3zEd5YX4W0r0+6H6q8xYqIie6tNvQdGaEABbydL2y6+IB2vgHtKy\/iZ+iZLhpx1UfE32lfwwz9OR3wjfuIRgJKjTnAmQWfoUGeApnEIUFvha66fcnkBVy1uRR+\/hkf\/kubdTHPLbEFo1dbQE2Y\/Xy0xa7dw6hKB4GC~3223862~3159860\n2 > Content-Length: 122\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"abcdefghiij\"}\n\n19:25:19.978 response time in milliseconds: 1262\n2 < 503\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: text\/plain\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: d4eb0ee7-94c8-49d5-b032-30806a2d5c64\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n2 < X-Cf-Routererror: endpoint_failure (x509: certificate is not valid for any names, but wanted to match cdca4e2f-14a6-4275-4620-e545)\n2 < X-Vcap-Request-Id: 216a15d8-2655-4d3e-5a09-77b3494d94bb\n2 < X-Global-Transaction-ID: 6e68aa42626e91107cbad04d\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: Wy8eTfVpO%2FBL8KISBcx3jYnuuo4O2HddQeCTAHMnEbgLzgM%2BlAtAA5SCmWS7el1bNyFTNBIDXjB0bJ8BRiaLG4exHzfwhsSPG1gD7MYmazDNMNpo4xsjXwXohMQI2kESes7Gyh4%2BaH%2FWa3UIRNu3Ma6DGYTWSJ%2BIORquPIlsY%2B%2FQX0XO2bXcrY67ovfVUyL01bFgh4aD9gM3Tgx36tAPKnpzunPj%2FMbU8ivEU13sDg1gYYjTESlTT%2FWQgd8Vh9I5P2cUc2dmxVLD%2BeYt5ksQEPtd6ZG51YFNhXZEX0BLFpTDRmYeuS22dGav7lwRKn0seN2ZIjJ1edkzZz5nO9eMMWlwPVRb5C7%2F8%2B%2FO6Y4f6g7QeFDb9tmS0AE8ni%2BYlPJQi5nyHLlxIA0n%2FKmtrHbvIs1ptATI6ziPfXX%2FglW7j%2FlaiIMcAhG7%2FffO27M63cUJNAxdNp%2FPGnZXbr8jNWM3ag%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Date: Sun, 01 May 2022 13:54:25 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414465000; Expires=Tue, 28 Jul 54353 22:11:59 GMT; Domain=sandbox.apihub.citi.com; Secure\n503 Service Unavailable\n\n\n"},{"result":{"nanos":32700,"errorMessage":"status code was: 503, expected: 400, response time in milliseconds: 1262, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n503 Service Unavailable\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","millis":0.0327,"status":"failed"},"step":{"line":69,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"19:25:19.979 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\nThen status 400\nstatus code was: 503, expected: 400, response time in milliseconds: 1262, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n503 Service Unavailable\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":70,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":71,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":72,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":73,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":60,"description":"","durationMillis":3884.3344,"failed":true,"error":"status code was: 503, expected: 400, response time in milliseconds: 1262, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n503 Service Unavailable\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","executorName":"main","name":"Verify the LinkageAPI with invalid merchantCustomerReferenceId in body parameters","startTime":1651413316090,"refId":"[4:60]","endTime":1651413319979,"exampleIndex":-1}],"callDepth":0,"name":"API level unit testing for linkage service","description":"","resultDate":"2022-05-01 07:25:19 pm","durationMillis":41343.0541,"passedCount":2}