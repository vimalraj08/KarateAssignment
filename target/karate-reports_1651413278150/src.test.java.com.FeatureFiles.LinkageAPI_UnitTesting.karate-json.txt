{"failedCount":1,"prefixedPath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","packageQualifiedName":"src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting","loopIndex":-1,"relativePath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":53606400,"millis":53.6064,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":576200,"millis":0.5762,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":436100,"millis":0.4361,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":251400,"millis":0.2514,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":224100,"millis":0.2241,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":987428100,"millis":987.4281,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:23:39.973 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:23:40.690 response time in milliseconds: 712\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 2b769208626e90ad1b4ba48c\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e90ad-14034828\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.205.100.34,169.175.61.96,153.40.245.129\n1 < dmz-global-txn-id: 2b769208626e90ad1b4ba48c\n1 < X-Archived-Client-IP: 23.205.100.34,23.205.100.34,169.175.61.96\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:52:45 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414365000; Expires=Mon, 27 Jul 54353 18:23:40 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=A3297C99924AB3E9E4B100E97B9C79BD~-1~YAAQLp6yUktR8HKAAQAAaiflfwdDUNL+8dUKupxaEAnbIWQtK\/yYFFRYLtMTW1qyYY5DZF7qHQC4Iwbao3NH16Cv\/aM9Lvut+0i8q4FlbE23zeW8edNED5yMDnPQ+Z6mR83nkq8fncaaPolro7adax4O3YnTVqThRErREmXwtJ1yMpxgfBvhQJAapakTCaAPY9o8lqDcjTP3+hfRQhCGhfoHWvLIpHajKmiUA3HK\/dH0zX\/kSU7rFCy\/gniRRG4yHWXy+gV4XDj0JrA7Q4phudmJPjCk4sHx8e4MHU3u6YgMPpfGpyAVP1LEgL\/Vp3IUquwXazAM5nELbg+3eLDa8FPq3dPzLEx+pl3RcmVktENn4qpsCPVpZRw=~-1~-1~-1; Max-Age=1682949165000; Expires=Sun, 12 Nov 55352 21:03:40 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=5086880851E782FC29798D8C235A2820~YAAQLp6yUkxR8HKAAQAAaiflfw85Z7YXdW3u4B2FaQd5HodCm2lqxd5WV4sC2PnsL9wMnPGDLIOBScha3EOs0xRbWbmgfURFW42GV+c3MBaQI0kaJT92aotlIRS00qBZ7quqiZq2EBqUwA0zcIEOfetMN7vCMUpNJ8p\/k50wTXzU0vwgl\/wT8Zd+FSEB7lHbtUUa9kV79XgiVsBvNp6tMf8A9UMTdUleHchkTlJ+zOwEeSEfgDwgkkHl36aJdHihWHMBBATWuVguERTHUy7GJeEYnqc1lQ\/UxMlyXv0BcK+Q~3491383~4601651; Max-Age=1651427565000; Expires=Sun, 27 Dec 54353 13:03:40 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhYuvKxg6AO7nbrFzNXE7qej-KGX4o3VLyFlm_FMM6ObckJBRzPQ-JNs7vHwnyfTMqrsZI_7rbHmzsi9cTFSRc-pv74AsEq58kNs6fqzZhqrytdmJngJmZSixJnTBMseD7zEsy1Plenq_nGTuyhDfM8kMh1fGO23CChwL79xewVXuLZ1lukoMeQrE90k_eltijXMe3WK4h5VbpyLigb3RFMa3pxTL8M-AH6XONoSm58HA\", \"expires_in\":1800, \"consented_on\":1651413165, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":43692500,"millis":43.6925,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:23:40.752 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhYuvKxg6AO7nbrFzNXE7qej-KGX4o3VLyFlm_FMM6ObckJBRzPQ-JNs7vHwnyfTMqrsZI_7rbHmzsi9cTFSRc-pv74AsEq58kNs6fqzZhqrytdmJngJmZSixJnTBMseD7zEsy1Plenq_nGTuyhDfM8kMh1fGO23CChwL79xewVXuLZ1lukoMeQrE90k_eltijXMe3WK4h5VbpyLigb3RFMa3pxTL8M-AH6XONoSm58HA\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413165,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":18447900,"millis":18.4479,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":1626800,"millis":1.6268,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":906900,"millis":0.9069,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":569300,"millis":0.5693,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:23:40.775 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhYuvKxg6AO7nbrFzNXE7qej-KGX4o3VLyFlm_FMM6ObckJBRzPQ-JNs7vHwnyfTMqrsZI_7rbHmzsi9cTFSRc-pv74AsEq58kNs6fqzZhqrytdmJngJmZSixJnTBMseD7zEsy1Plenq_nGTuyhDfM8kMh1fGO23CChwL79xewVXuLZ1lukoMeQrE90k_eltijXMe3WK4h5VbpyLigb3RFMa3pxTL8M-AH6XONoSm58HA \n"},{"result":{"nanos":7096800,"millis":7.0968,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":304900,"millis":0.3049,"status":"passed"},"step":{"line":19,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":177000,"millis":0.177,"status":"passed"},"step":{"line":20,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":140100,"millis":0.1401,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":213300,"millis":0.2133,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":103700,"millis":0.1037,"status":"passed"},"step":{"line":23,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":220300,"millis":0.2203,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":204100,"millis":0.2041,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":1362688500,"millis":1362.6885,"status":"passed"},"step":{"line":26,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:23:40.786 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhYuvKxg6AO7nbrFzNXE7qej-KGX4o3VLyFlm_FMM6ObckJBRzPQ-JNs7vHwnyfTMqrsZI_7rbHmzsi9cTFSRc-pv74AsEq58kNs6fqzZhqrytdmJngJmZSixJnTBMseD7zEsy1Plenq_nGTuyhDfM8kMh1fGO23CChwL79xewVXuLZ1lukoMeQrE90k_eltijXMe3WK4h5VbpyLigb3RFMa3pxTL8M-AH6XONoSm58HA\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=A3297C99924AB3E9E4B100E97B9C79BD~-1~YAAQLp6yUktR8HKAAQAAaiflfwdDUNL+8dUKupxaEAnbIWQtK\/yYFFRYLtMTW1qyYY5DZF7qHQC4Iwbao3NH16Cv\/aM9Lvut+0i8q4FlbE23zeW8edNED5yMDnPQ+Z6mR83nkq8fncaaPolro7adax4O3YnTVqThRErREmXwtJ1yMpxgfBvhQJAapakTCaAPY9o8lqDcjTP3+hfRQhCGhfoHWvLIpHajKmiUA3HK\/dH0zX\/kSU7rFCy\/gniRRG4yHWXy+gV4XDj0JrA7Q4phudmJPjCk4sHx8e4MHU3u6YgMPpfGpyAVP1LEgL\/Vp3IUquwXazAM5nELbg+3eLDa8FPq3dPzLEx+pl3RcmVktENn4qpsCPVpZRw=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=5086880851E782FC29798D8C235A2820~YAAQLp6yUkxR8HKAAQAAaiflfw85Z7YXdW3u4B2FaQd5HodCm2lqxd5WV4sC2PnsL9wMnPGDLIOBScha3EOs0xRbWbmgfURFW42GV+c3MBaQI0kaJT92aotlIRS00qBZ7quqiZq2EBqUwA0zcIEOfetMN7vCMUpNJ8p\/k50wTXzU0vwgl\/wT8Zd+FSEB7lHbtUUa9kV79XgiVsBvNp6tMf8A9UMTdUleHchkTlJ+zOwEeSEfgDwgkkHl36aJdHihWHMBBATWuVguERTHUy7GJeEYnqc1lQ\/UxMlyXv0BcK+Q~3491383~4601651\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:23:42.147 response time in milliseconds: 1361\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 84174220-0001-48f7-b170-997bc314d54d\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 26500aec-feed-427c-8a40-2baa9d019494\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Vcap-Request-Id: 4eed39f0-9ef7-4ac0-6be8-5a8a3050a393\n2 < X-Global-Transaction-ID: 126374ce626e90ae7088cb0f\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: 7qno7CQEFJHS4ESE5%2F6jyq1WDAqmZ7sSyabxc0gIPYLxQHWuZ2%2BVwV%2FETjXMQANxcgD3H1DAd84R%2FKfHLcHZM%2BFEAH%2B7Fmpts%2FZwMBr%2Fyhl9%2B9RJJ2gAuSwQ39X%2By9a%2BWXpsESikGKcBxrO3WstPUYhd2y4y7ezhYUMABysQvQffiCAxthV0HhDzqzMrPPl%2FQKhOwYGOi7EFGXA05iVmAjNH0BZ%2BEbrvMwNln7w2yNGQWDtAJqLuFYw4c%2B1yQbyyYc5G91Y1vns1pPGB58HbTRdht378%2F2DJs76xZGAHlSiLBZe7QaLIwOqoFKhU9DfAhQuaqGdgtRV%2FTjb6h%2Bel%2FNV0aVf%2FY8Sp8MKiFk2Ztya8ADqF2rdS0GxLACoGP7I8O2Esdhf20DPkzXQh0voj0kQavAgOhtpCNmP5%2F8t%2BKmuNO5u%2FD%2Foc8jypeSWUfU%2BSbHAOhvjocz%2Bk2vxSUE8HTA%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 13:52:47 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414367000; Expires=Mon, 27 Jul 54353 18:57:02 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":27,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":465400,"millis":0.4654,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"match response.rewardLinkCode != null"}}],"executorName":"main","line":18,"name":"Verify the LinkageAPI with all mandatory body parameters","description":"","durationMillis":2479.4048,"startTime":1651413219658,"failed":false,"refId":"[1:18]","endTime":1651413222148,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":123800,"millis":0.1238,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":265000,"millis":0.265,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":265600,"millis":0.2656,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":175600,"millis":0.1756,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":177500,"millis":0.1775,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":512324000,"millis":512.324,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:23:42.153 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:23:42.663 response time in milliseconds: 510\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 2b769208626e90afe821ad1f\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e90af-140358f0\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.205.100.34,169.175.61.96,153.40.245.129\n1 < dmz-global-txn-id: 2b769208626e90afe821ad1f\n1 < X-Archived-Client-IP: 23.205.100.34,23.205.100.34,169.175.61.96\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:52:47 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414367000; Expires=Mon, 27 Jul 54353 18:57:02 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=555E128A902475C69E2E22EA2E9A3CC0~-1~YAAQLp6yUlZR8HKAAQAAPi\/lfwfyciP90bvaDubBB4DxsMqEO4D+jD4+U4JJ\/ZgjmdTCgxVARNOX0aXeKYEeO9LP6tAjXSVcVFLXxOmNjSpRkRI0E7pFo7an\/q6SyEK2IbMZD53bPQVXc\/A60\/WqmFRve3NdjLczMiCewagp8iUorSlPKwNGWJOcXtS\/JhDvMZ5\/7r71iijoIwyxV\/lJ\/86ci+G57C8jIfpiBo9NoytviGnKxvf7EL+taJXRPAP3JbbuZXrk5P4qjMY5WJeZjiIINTeP3ucDSav16RrqDH6vTM8kN98X0H4v3Xhus+ICNcO3ylhyL2y1bMpvNxBUjndukt+dCI6Hp2RD8Mu7vjw2jZMMpvXdEZ4=~-1~-1~-1; Max-Age=1682949167000; Expires=Sun, 12 Nov 55352 21:37:02 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=3BC3FCCD723C9FE204328863723B5906~YAAQLp6yUldR8HKAAQAAPi\/lfw+Vzggfwv\/KEVk8ZSJMUtn3L4IeKMt86+W6bEAF1F3H7aOMP0iJMbGsA3Jc2JQajCbzPEU+\/R3BfQJOa4YUyIGvu6RooqnEhE59tVXFPvXsE+H3\/1luOg5D474CXHS7tsRFjVigmxBpsRx12w2XWy+F3TvygSzFKsv71wNq37OgFfTxVDOwGqwlUTcI0AyrYBOhjz5AOYe7Hd+pz9aoJqbQ50YShFh7mDV4CHhmmgyTJ9yriU3jbxShORp7rydMhDVZB\/GrHlRM\/hps5CQZ~4343107~3356466; Max-Age=1651427567000; Expires=Sun, 27 Dec 54353 13:37:02 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhqxJCHYRB9o5DIuGidhQCWssQxWuAi1uRJ059NQgAgcMYf5zf_kADJ1iMfmJOQOqVi1c_G2b3hF8_hZTFvQTtbrP7wqEqZLKOc8GtBCCa9RDSDfo8-VFKdUlMyi8fX7nGysIOQOqM1T4WnSk-hedI5rWFu_PZY0DGecOyqs_lCRH8U5N9EROxVLxw6QMmP_tV0a_ZTw9VHATi7zwJ_5IH2TcnbL1UGc_e6_dLzBlabOA\", \"expires_in\":1800, \"consented_on\":1651413167, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":9200,"millis":0.0092,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":455900,"millis":0.4559,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:23:42.665 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhqxJCHYRB9o5DIuGidhQCWssQxWuAi1uRJ059NQgAgcMYf5zf_kADJ1iMfmJOQOqVi1c_G2b3hF8_hZTFvQTtbrP7wqEqZLKOc8GtBCCa9RDSDfo8-VFKdUlMyi8fX7nGysIOQOqM1T4WnSk-hedI5rWFu_PZY0DGecOyqs_lCRH8U5N9EROxVLxw6QMmP_tV0a_ZTw9VHATi7zwJ_5IH2TcnbL1UGc_e6_dLzBlabOA\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413167,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":465300,"millis":0.4653,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":220300,"millis":0.2203,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":142900,"millis":0.1429,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":179700,"millis":0.1797,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:23:42.666 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhqxJCHYRB9o5DIuGidhQCWssQxWuAi1uRJ059NQgAgcMYf5zf_kADJ1iMfmJOQOqVi1c_G2b3hF8_hZTFvQTtbrP7wqEqZLKOc8GtBCCa9RDSDfo8-VFKdUlMyi8fX7nGysIOQOqM1T4WnSk-hedI5rWFu_PZY0DGecOyqs_lCRH8U5N9EROxVLxw6QMmP_tV0a_ZTw9VHATi7zwJ_5IH2TcnbL1UGc_e6_dLzBlabOA \n"},{"result":{"nanos":123500,"millis":0.1235,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":63800,"millis":0.0638,"status":"passed"},"step":{"line":31,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":41900,"millis":0.0419,"status":"passed"},"step":{"line":32,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":51700,"millis":0.0517,"status":"passed"},"step":{"line":33,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":65300,"millis":0.0653,"status":"passed"},"step":{"line":34,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":63000,"millis":0.063,"status":"passed"},"step":{"line":35,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":64100,"millis":0.0641,"status":"passed"},"step":{"line":36,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":284100,"millis":0.2841,"status":"passed"},"step":{"line":37,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":6337049600,"millis":6337.0496,"status":"passed"},"step":{"line":38,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:23:42.668 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhqxJCHYRB9o5DIuGidhQCWssQxWuAi1uRJ059NQgAgcMYf5zf_kADJ1iMfmJOQOqVi1c_G2b3hF8_hZTFvQTtbrP7wqEqZLKOc8GtBCCa9RDSDfo8-VFKdUlMyi8fX7nGysIOQOqM1T4WnSk-hedI5rWFu_PZY0DGecOyqs_lCRH8U5N9EROxVLxw6QMmP_tV0a_ZTw9VHATi7zwJ_5IH2TcnbL1UGc_e6_dLzBlabOA\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=555E128A902475C69E2E22EA2E9A3CC0~-1~YAAQLp6yUlZR8HKAAQAAPi\/lfwfyciP90bvaDubBB4DxsMqEO4D+jD4+U4JJ\/ZgjmdTCgxVARNOX0aXeKYEeO9LP6tAjXSVcVFLXxOmNjSpRkRI0E7pFo7an\/q6SyEK2IbMZD53bPQVXc\/A60\/WqmFRve3NdjLczMiCewagp8iUorSlPKwNGWJOcXtS\/JhDvMZ5\/7r71iijoIwyxV\/lJ\/86ci+G57C8jIfpiBo9NoytviGnKxvf7EL+taJXRPAP3JbbuZXrk5P4qjMY5WJeZjiIINTeP3ucDSav16RrqDH6vTM8kN98X0H4v3Xhus+ICNcO3ylhyL2y1bMpvNxBUjndukt+dCI6Hp2RD8Mu7vjw2jZMMpvXdEZ4=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=3BC3FCCD723C9FE204328863723B5906~YAAQLp6yUldR8HKAAQAAPi\/lfw+Vzggfwv\/KEVk8ZSJMUtn3L4IeKMt86+W6bEAF1F3H7aOMP0iJMbGsA3Jc2JQajCbzPEU+\/R3BfQJOa4YUyIGvu6RooqnEhE59tVXFPvXsE+H3\/1luOg5D474CXHS7tsRFjVigmxBpsRx12w2XWy+F3TvygSzFKsv71wNq37OgFfTxVDOwGqwlUTcI0AyrYBOhjz5AOYe7Hd+pz9aoJqbQ50YShFh7mDV4CHhmmgyTJ9yriU3jbxShORp7rydMhDVZB\/GrHlRM\/hps5CQZ~4343107~3356466\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:23:49.004 response time in milliseconds: 6336\n2 < 400\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 4fbe8b92-ada0-4bd8-a1eb-087bf54db288\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 05b43ded-736c-41df-8411-709fc4b0a223\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n2 < X-Vcap-Request-Id: 32299d61-7393-4322-61d0-2cc836e56bf0\n2 < X-Global-Transaction-ID: 126374ce626e90b0094a096d\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: dvbvV1SXihry9tBu7Sea2DDNGKVvAgMbQpSaRCmGLIp5IlP71s5K8wDelQP0SnFLGgf6Z1ngX%2B%2BnydQqApme0P0qi1qNBh1hhZUUPe4M1ygpaXJT3%2FtUELoXG%2FhVQA8TmwaXdRnuJOF0HJn84KGcJMDYm%2BOhRpm9HAHf3%2FP2L%2B8JblixGoFjbOKuTds9kHO9XK%2Fw%2FIaiUTl7I3OjXm9XvhoJI13Y0dZGwsui56wuDKBFoNNLTNVKQ%2FXUCVj%2B7k0Vkyvcz1u3l0C1TL1CKdu7OBLTwCjhAmvueV3p6bQrgfZokMtT%2BjHAbF5PRZAdF9UDwpcJMnr2pJ56VJi8iqpMNTRjCwr9%2BTsVIRuM5KTP1pn3MSh%2BeB9tlo1ZbmNYMt%2Fk%2Fe772OHEdFTyNPIDspWU%2FQF9qyk%2FNuuOEitghIwqrIHIiJ7k4tFImM76K9jbgjMkWRH7%2FmedQBWn5azLiakrAw%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 84\n2 < Date: Sun, 01 May 2022 13:52:54 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414374000; Expires=Mon, 27 Jul 54353 20:53:49 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"type\":\"invalid\",\"code\":\"invalidRequest\",\"details\":\"Missing or invalid parameters\"}\n\n"},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":39,"prefix":"Then","index":8,"text":"status 400"}},{"result":{"nanos":307600,"millis":0.3076,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:23:49.005 [print] {\n  \"type\": \"invalid\",\n  \"code\": \"invalidRequest\",\n  \"details\": \"Missing or invalid parameters\"\n}\n \n"},{"result":{"nanos":467200,"millis":0.4672,"status":"passed"},"step":{"line":41,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":544200,"millis":0.5442,"status":"passed"},"step":{"line":42,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":327600,"millis":0.3276,"status":"passed"},"step":{"line":43,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"executorName":"main","line":30,"name":"Verify the LinkageAPI with invalid lastFourDigitsCardNumber in body parameters","description":"","durationMillis":6854.2635,"startTime":1651413222151,"failed":false,"refId":"[2:30]","endTime":1651413229006,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":86700,"millis":0.0867,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":65700,"millis":0.0657,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":67700,"millis":0.0677,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":59000,"millis":0.059,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":562315300,"millis":562.3153,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:23:49.010 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:23:49.571 response time in milliseconds: 560\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 98b6a370626e90b6817c643d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e90b6-14038d8c\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.47.59.18,169.175.115.119,169.177.209.51\n1 < dmz-global-txn-id: 98b6a370626e90b6817c643d\n1 < X-Archived-Client-IP: 23.47.59.18,23.47.59.18,169.175.115.119\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:52:54 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414374000; Expires=Mon, 27 Jul 54353 20:53:49 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=71B9F60AA144197A9E43AD0F17DAA65E~-1~YAAQLp6yUm9R8HKAAQAANErlfwe96mvK\/lhv2mlXKzuwpKQtfd+jzPO6aeRkB3SBDCBQKc9ByORYPnN4FZCDqzOyUdfEe6ruz07VSzW5YfUNub9\/iWFJSpjDn7vtGHN2+RS7pVLuIIJilQonQ14hC2fbV+A7p9MPffRAxYMFv5zvC0JsrcQvQ+6\/ewgLkEeaWPadGSQZdzJe5ud\/oB2FFcFwxtMEt9uXuCH5YNfMoUewpgDwvdr4IJvD60Su7M4xOYuaDo0zOMj1IHuqhYPlDGgzNEfpCyYhGPTHMMhWZpjVdNuwlUiGxQuXu4whXjhb1O3oCO5629ZaBjv\/vK+xjnxcoX2AXAgaUocqwGmfteOplK3Bt9K7NBQ=~-1~-1~-1; Max-Age=1682949174000; Expires=Sun, 12 Nov 55352 23:33:49 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=F823F3A771BB4A4C74E79EB01BBC399C~YAAQLp6yUnBR8HKAAQAANErlfw83cP9FkSBtDuVuG6caRka7U74q4MhVbunbIuOqeJ8ucrWPz+c2Ry6TGRJg9+xTBz1DUhifNjuVOpkoQdda3rZwDg94NFrpXvbONo8bxG64YqNVqlBFC6YvFgkGgVOMuH84BkPiw5JN9ge8IjRRoyywyNFmeaUkHEtYh2fQRNTgdCJTOyT+D6L2YaTiexQTGSqzyW1rCQRWlXNl+UW85dtap45SPr2gJnsmvWGRHFtKURY1HIlFNIu8OIfhAcMWbKDQ4KT7fKZifkt81u+3~3552582~3488070; Max-Age=1651427574000; Expires=Sun, 27 Dec 54353 15:33:49 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhFk8gr1PMcgRNaD0Nsnn_jajAoQYIiPtcAmQDBO9S9j27vUH-YwHPQj-Pzu4v0E6v_dzGSrIkSeM01J3et_7BjtGDW3H0u_N5v2isy11cXupMHfQfcDqhihjaN7RaQvuhzWWv3VRWmf5s2-rI7ueoLVLe_SThHRNpdNWDK92N2m12dB6VTM6Y9-weOKP_5MvDbJcRVbX8EbOXeSht-p5iPZJcswweIITnovs0wSjVHDs\", \"expires_in\":1800, \"consented_on\":1651413174, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":921100,"millis":0.9211,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:23:49.573 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhFk8gr1PMcgRNaD0Nsnn_jajAoQYIiPtcAmQDBO9S9j27vUH-YwHPQj-Pzu4v0E6v_dzGSrIkSeM01J3et_7BjtGDW3H0u_N5v2isy11cXupMHfQfcDqhihjaN7RaQvuhzWWv3VRWmf5s2-rI7ueoLVLe_SThHRNpdNWDK92N2m12dB6VTM6Y9-weOKP_5MvDbJcRVbX8EbOXeSht-p5iPZJcswweIITnovs0wSjVHDs\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413174,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":730900,"millis":0.7309,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":593300,"millis":0.5933,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":359200,"millis":0.3592,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":532900,"millis":0.5329,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:23:49.575 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhFk8gr1PMcgRNaD0Nsnn_jajAoQYIiPtcAmQDBO9S9j27vUH-YwHPQj-Pzu4v0E6v_dzGSrIkSeM01J3et_7BjtGDW3H0u_N5v2isy11cXupMHfQfcDqhihjaN7RaQvuhzWWv3VRWmf5s2-rI7ueoLVLe_SThHRNpdNWDK92N2m12dB6VTM6Y9-weOKP_5MvDbJcRVbX8EbOXeSht-p5iPZJcswweIITnovs0wSjVHDs \n"},{"result":{"nanos":390100,"millis":0.3901,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":195100,"millis":0.1951,"status":"passed"},"step":{"line":46,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":134400,"millis":0.1344,"status":"passed"},"step":{"line":47,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":122000,"millis":0.122,"status":"passed"},"step":{"line":48,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":843900,"millis":0.8439,"status":"passed"},"step":{"line":49,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":227000,"millis":0.227,"status":"passed"},"step":{"line":50,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":191600,"millis":0.1916,"status":"passed"},"step":{"line":51,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":703900,"millis":0.7039,"status":"passed"},"step":{"line":52,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":4712697100,"millis":4712.6971,"status":"passed"},"step":{"line":53,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:23:49.581 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhFk8gr1PMcgRNaD0Nsnn_jajAoQYIiPtcAmQDBO9S9j27vUH-YwHPQj-Pzu4v0E6v_dzGSrIkSeM01J3et_7BjtGDW3H0u_N5v2isy11cXupMHfQfcDqhihjaN7RaQvuhzWWv3VRWmf5s2-rI7ueoLVLe_SThHRNpdNWDK92N2m12dB6VTM6Y9-weOKP_5MvDbJcRVbX8EbOXeSht-p5iPZJcswweIITnovs0wSjVHDs\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=71B9F60AA144197A9E43AD0F17DAA65E~-1~YAAQLp6yUm9R8HKAAQAANErlfwe96mvK\/lhv2mlXKzuwpKQtfd+jzPO6aeRkB3SBDCBQKc9ByORYPnN4FZCDqzOyUdfEe6ruz07VSzW5YfUNub9\/iWFJSpjDn7vtGHN2+RS7pVLuIIJilQonQ14hC2fbV+A7p9MPffRAxYMFv5zvC0JsrcQvQ+6\/ewgLkEeaWPadGSQZdzJe5ud\/oB2FFcFwxtMEt9uXuCH5YNfMoUewpgDwvdr4IJvD60Su7M4xOYuaDo0zOMj1IHuqhYPlDGgzNEfpCyYhGPTHMMhWZpjVdNuwlUiGxQuXu4whXjhb1O3oCO5629ZaBjv\/vK+xjnxcoX2AXAgaUocqwGmfteOplK3Bt9K7NBQ=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=F823F3A771BB4A4C74E79EB01BBC399C~YAAQLp6yUnBR8HKAAQAANErlfw83cP9FkSBtDuVuG6caRka7U74q4MhVbunbIuOqeJ8ucrWPz+c2Ry6TGRJg9+xTBz1DUhifNjuVOpkoQdda3rZwDg94NFrpXvbONo8bxG64YqNVqlBFC6YvFgkGgVOMuH84BkPiw5JN9ge8IjRRoyywyNFmeaUkHEtYh2fQRNTgdCJTOyT+D6L2YaTiexQTGSqzyW1rCQRWlXNl+UW85dtap45SPr2gJnsmvWGRHFtKURY1HIlFNIu8OIfhAcMWbKDQ4KT7fKZifkt81u+3~3552582~3488070\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:23:54.291 response time in milliseconds: 4709\n2 < 400\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 67f70817-4b52-4423-bd05-71633df9d661\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 502468ac-7d87-4a74-a038-6cf443750dca\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n2 < X-Vcap-Request-Id: 9c185744-14fc-4ef0-75ee-6f8e40d5d64c\n2 < X-Global-Transaction-ID: 98b6a370626e90b7817c6d0d\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: iV5VUjvwROmNplfnRjXRiDDqpkZxgIhldu0sgRUrfIsQrwcHCoB5vB4xB5fI1D8V4mB1q3SBmh9tUkKg8zq8x0tE1y2F40gpM46uVD%2F2OtBnX1gqtG1pUOp%2B29UrIOPuXHjdpV5DQ04NJSh4udhPNXYVl28WqDHwEVxtxcUM2dmFk7D79KamA2l3IYvCWe4x2wp2gGdHBmlVWbuVQ6PVKburCns3suUw2oj0lINEZY%2FlSBlf6tSeTntKfJOFWj9sVjsjqqpgiD1%2Fxp%2F4c0HhjQ9ZJBbyIl0Nyd8bP2r8GGKj3WGHGlS2NwXl8pQv6W3fbq%2FE1NHeh6GJJ3XAV%2B%2Bxnxts1U3o3x%2FRlh95ORzl5VUBstfcApEPlFIP3xZ70aLYMg6AtXM0x2RyLuXAQQ%2Faf936jMTsHkJWN7UinI5p6UdgFvJXXc0RhZRLYVusKxwq4Z7HMxaYEPnjwJA1JqtJmQ%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 84\n2 < Date: Sun, 01 May 2022 13:52:59 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414379000; Expires=Mon, 27 Jul 54353 22:17:14 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"type\":\"invalid\",\"code\":\"invalidRequest\",\"details\":\"Missing or invalid parameters\"}\n\n"},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":54,"prefix":"Then","index":8,"text":"status 400"}},{"result":{"nanos":673100,"millis":0.6731,"status":"passed"},"step":{"line":55,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:23:54.292 [print] {\n  \"type\": \"invalid\",\n  \"code\": \"invalidRequest\",\n  \"details\": \"Missing or invalid parameters\"\n}\n \n"},{"result":{"nanos":809800,"millis":0.8098,"status":"passed"},"step":{"line":56,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":496300,"millis":0.4963,"status":"passed"},"step":{"line":57,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":424400,"millis":0.4244,"status":"passed"},"step":{"line":58,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"executorName":"main","line":45,"name":"Verify the LinkageAPI with invalid citiCardHolderPhoneNumber in body parameters","description":"","durationMillis":5283.7165,"startTime":1651413229009,"failed":false,"refId":"[3:45]","endTime":1651413234294,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":134800,"millis":0.1348,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":74100,"millis":0.0741,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":65600,"millis":0.0656,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":60300,"millis":0.0603,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":563762700,"millis":563.7627,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:23:54.299 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:23:54.862 response time in milliseconds: 563\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 98b6a370626e90bb8178eb6d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e90bb-1403b551\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.64.120.195,169.175.115.119,169.177.209.49\n1 < dmz-global-txn-id: 98b6a370626e90bb8178eb6d\n1 < X-Archived-Client-IP: 23.64.120.195,23.64.120.195,169.175.115.119\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:53:00 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414380000; Expires=Mon, 27 Jul 54353 22:33:54 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=93978A7A129E7A426A1BA77FF6463512~-1~YAAQLp6yUodR8HKAAQAA3F7lfwe4rQTQsBK63\/i5nPOpMSo9Xv7iRiGYk+DBDkGxKLxSgZSAOl\/Hs6F5M4GSg7HMjlFohD81JSPnI5yZZbYvqALDC0KcaXGWwn09jzD1TCnDf589mjwz2L8hnAAehi3+4EbTpOF3Lj33EO+yAIs9zIe71foJu05TYSzuST51CzMCttuL+mqJwMoGIDgBCvZ0cvcvBLubIrPg4fK+MPEozog+ux1JXftYru70GG0gqj1kYYSXPbggV+ygbRy23blHoiDFTbe+1rYQHNQrrsAIQdf9mKocnlw6qQ39eTna4I12YfRe0LNhFutr9wr+c6kXQsJeKVv5Bg8IhBetxzAYUYKNvdoEUqU=~-1~-1~-1; Max-Age=1682949180000; Expires=Mon, 13 Nov 55352 01:13:54 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=1A4D814A890B3930922BECA802876A35~YAAQLp6yUohR8HKAAQAA3F7lfw\/w6WH9k\/eZyYX3MMbiEt2JYP4Wqe5e8Rp5X7szeWFWSPe7lvlaZAPyVFvICUX7Mof1Hb1vIIPwQS8hf12VmFn6S4QGhrwBxTTJgGI3+tIVGtglYp0flUAVX1iJHKoMuE9eixeO0YglzFg7BItAgXQRa1tyfGPP8yU71LtkolJ\/9QMud6X8N4yjKTFpleoEZSGivJLfzd72bkHmCFBJaDSkqzc1AzvPvaD4Nq+n4S4yuBJ8z4MQKMtWsD39NyF9ClSPjgo2J1OKoWe8YveP~3360325~3425843; Max-Age=1651427579000; Expires=Sun, 27 Dec 54353 16:57:14 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhUIJqe0KKNHbUyzHmH3otte06uS_fEG3lW__T7id1JqcAM_GZLazw6taEWUYX2xyO9XhSlNFNMikUJo8j326JyVMRyby4oIXpn8mXj-zKocJXFIssxIxUljfiA-23d3anm4YIqXUW2MU2yyNEcvT8lLfSi3KK3G7dNazOREprDT0UMGtoMVayTxpkLVXQx0C-YkvsCc2_nXFvq_33Wts5LPsbXzc2uxx9G46PUnZw8w4\", \"expires_in\":1800, \"consented_on\":1651413179, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":354100,"millis":0.3541,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:23:54.863 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhUIJqe0KKNHbUyzHmH3otte06uS_fEG3lW__T7id1JqcAM_GZLazw6taEWUYX2xyO9XhSlNFNMikUJo8j326JyVMRyby4oIXpn8mXj-zKocJXFIssxIxUljfiA-23d3anm4YIqXUW2MU2yyNEcvT8lLfSi3KK3G7dNazOREprDT0UMGtoMVayTxpkLVXQx0C-YkvsCc2_nXFvq_33Wts5LPsbXzc2uxx9G46PUnZw8w4\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413179,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":525900,"millis":0.5259,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":219900,"millis":0.2199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":129700,"millis":0.1297,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":160500,"millis":0.1605,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:23:54.864 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhUIJqe0KKNHbUyzHmH3otte06uS_fEG3lW__T7id1JqcAM_GZLazw6taEWUYX2xyO9XhSlNFNMikUJo8j326JyVMRyby4oIXpn8mXj-zKocJXFIssxIxUljfiA-23d3anm4YIqXUW2MU2yyNEcvT8lLfSi3KK3G7dNazOREprDT0UMGtoMVayTxpkLVXQx0C-YkvsCc2_nXFvq_33Wts5LPsbXzc2uxx9G46PUnZw8w4 \n"},{"result":{"nanos":158400,"millis":0.1584,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":73000,"millis":0.073,"status":"passed"},"step":{"line":61,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":62000,"millis":0.062,"status":"passed"},"step":{"line":62,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":89500,"millis":0.0895,"status":"passed"},"step":{"line":63,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":81900,"millis":0.0819,"status":"passed"},"step":{"line":64,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":80400,"millis":0.0804,"status":"passed"},"step":{"line":65,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":99400,"millis":0.0994,"status":"passed"},"step":{"line":66,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":382800,"millis":0.3828,"status":"passed"},"step":{"line":67,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"1231231231231\"}'"}},{"result":{"nanos":1833772400,"millis":1833.7724,"status":"passed"},"step":{"line":68,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:23:54.867 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhUIJqe0KKNHbUyzHmH3otte06uS_fEG3lW__T7id1JqcAM_GZLazw6taEWUYX2xyO9XhSlNFNMikUJo8j326JyVMRyby4oIXpn8mXj-zKocJXFIssxIxUljfiA-23d3anm4YIqXUW2MU2yyNEcvT8lLfSi3KK3G7dNazOREprDT0UMGtoMVayTxpkLVXQx0C-YkvsCc2_nXFvq_33Wts5LPsbXzc2uxx9G46PUnZw8w4\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=93978A7A129E7A426A1BA77FF6463512~-1~YAAQLp6yUodR8HKAAQAA3F7lfwe4rQTQsBK63\/i5nPOpMSo9Xv7iRiGYk+DBDkGxKLxSgZSAOl\/Hs6F5M4GSg7HMjlFohD81JSPnI5yZZbYvqALDC0KcaXGWwn09jzD1TCnDf589mjwz2L8hnAAehi3+4EbTpOF3Lj33EO+yAIs9zIe71foJu05TYSzuST51CzMCttuL+mqJwMoGIDgBCvZ0cvcvBLubIrPg4fK+MPEozog+ux1JXftYru70GG0gqj1kYYSXPbggV+ygbRy23blHoiDFTbe+1rYQHNQrrsAIQdf9mKocnlw6qQ39eTna4I12YfRe0LNhFutr9wr+c6kXQsJeKVv5Bg8IhBetxzAYUYKNvdoEUqU=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=1A4D814A890B3930922BECA802876A35~YAAQLp6yUohR8HKAAQAA3F7lfw\/w6WH9k\/eZyYX3MMbiEt2JYP4Wqe5e8Rp5X7szeWFWSPe7lvlaZAPyVFvICUX7Mof1Hb1vIIPwQS8hf12VmFn6S4QGhrwBxTTJgGI3+tIVGtglYp0flUAVX1iJHKoMuE9eixeO0YglzFg7BItAgXQRa1tyfGPP8yU71LtkolJ\/9QMud6X8N4yjKTFpleoEZSGivJLfzd72bkHmCFBJaDSkqzc1AzvPvaD4Nq+n4S4yuBJ8z4MQKMtWsD39NyF9ClSPjgo2J1OKoWe8YveP~3360325~3425843\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"1231231231231\"}\n\n19:23:56.698 response time in milliseconds: 1831\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: be1ceeef-bf95-4e98-862c-03a98a97d80f\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 3e3c9482-92b4-4cc4-be35-bb8b869621f2\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n2 < X-Vcap-Request-Id: e92bb20f-d2f2-4e41-600d-a164e655cb05\n2 < X-Global-Transaction-ID: 126374ce626e90bc708d4f1f\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: Nki3aAZYnA302dBjopHA8U7f7XOub5IsfBqIJH0zeq7i4yFmELKvIzrZuWbFoCs0Ma%2BWBcBrMsaOIZtxSRS8SFmOGza9VEnv3%2FH8FPVLyju7dode2PQxHxoiTpOLj%2FVsstAe5Y0vnfNDx6olyIq946rVPfPpwvwhXu%2BTdc5tpYKtep1aPOzuDqBA2R6E77J5oAlnj9oiZT1NFbYos8rxWrIA3NrFzLmHE6cUqSvgvoIUEISrOo%2BIVYa%2BF8v%2FUnCrQ768xuZuo9IJxu4im03USKtzcEyQjzDbjImaAeBE1oAz9u720LRm107rvLXSIHrYhDcoL7vzMJDsY14YmpMoXdGkNTt0pDmG2Y7xz9kC9VV4awxUziGtiv6O6efnMgA59sYoQWNqcEucCdlXCmUDPlYkExqXEwvdNla%2Brw6v%2BeznC6yHcXBvNtYGNxesPrKmFARCFdEROG96RRI7UfIbAg%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 13:53:01 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414381000; Expires=Mon, 27 Jul 54353 22:50:36 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":163700,"errorMessage":"status code was: 200, expected: 400, response time in milliseconds: 1831, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","millis":0.1637,"status":"failed"},"step":{"line":69,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"19:23:56.700 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\nThen status 400\nstatus code was: 200, expected: 400, response time in milliseconds: 1831, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":70,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":71,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":72,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":73,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":60,"description":"","durationMillis":2400.5154,"failed":true,"error":"status code was: 200, expected: 400, response time in milliseconds: 1831, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","executorName":"main","name":"Verify the LinkageAPI with invalid merchantCustomerReferenceId in body parameters","startTime":1651413234298,"refId":"[4:60]","endTime":1651413236700,"exampleIndex":-1}],"callDepth":0,"name":"API level unit testing for linkage service","description":"","resultDate":"2022-05-01 07:23:56 pm","durationMillis":17017.9002,"passedCount":3}