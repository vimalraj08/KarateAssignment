<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="res/bootstrap.min.css" type="text/css"/>
    <link rel="stylesheet" href="res/karate-report.css" type="text/css"/>
    <link rel="shortcut icon" href="favicon.ico"/>
    <script type="text/javascript" src="res/jquery.min.js"></script>
    <script type="text/javascript" src="res/jquery.tablesorter.min.js"></script>
    <script type="text/javascript" src="res/bootstrap.min.js"></script>
    <script type="text/javascript" src="res/karate-report.js"></script>
    <script>
!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
posthog.init('phc_pb7428bpWvS2BLY4EwJ6tS1Y8IlVclo5LPTSmSbm5n8',{
  api_host:'https://app.posthog.com',
  persistence:'localStorage',
  autocapture:false,
  capture_pageview:false,
  api_transport:'sendBeacon',
  loaded: function(posthog) { 
    posthog.identify("c8c6bda7-fbeb-485b-81e9-131a5c732596",{name:"vimalrajv"});
    posthog.capture("report_feature",{karate_version:"1.2.0.RC6",karate_meta:null});
  }
});  
</script>
  
    <title>src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting</title>  
  </head>
  <body>   
    <div id="root-container">
      <div id="leftnav">
                
        <div>
  <div class="nav-logo">
    <a href="karate-summary.html">
      <img src="karate-logo.svg" alt="Karate"/>
    </a>
    <div class="nav-count">
      <div id="nav-pass" class="bg-success">3</div>
      <div id="nav-fail" class="bg-danger">1</div>
    </div>
  </div>
  <div id="nav-type">
    <div>Scenarios</div>
  </div>         
  <div id="nav-date">
    <div>2022-05-01 07:23:56 pm</div>
  </div>        
</div>

        <div class="nav-container">
          <div class="nav-item passed">
            <a href="#[1:18]"><span>[1:18]</span> <span>Verify the LinkageAPI with all mandatory body parameters</span></a>
          </div>
          <div class="nav-item passed">
            <a href="#[2:30]"><span>[2:30]</span> <span>Verify the LinkageAPI with invalid lastFourDigitsCardNumber in body parameters</span></a>
          </div>
          <div class="nav-item passed">
            <a href="#[3:45]"><span>[3:45]</span> <span>Verify the LinkageAPI with invalid citiCardHolderPhoneNumber in body parameters</span></a>
          </div>
          <div class="nav-item failed">
            <a href="#[4:60]"><span>[4:60]</span> <span>Verify the LinkageAPI with invalid merchantCustomerReferenceId in body parameters</span></a>
          </div>
        </div>
      </div>
      <div id="content">
        <div class="page-heading alert alert-primary">
          <a href="karate-summary.html">Summary</a><span class="feature-label">|</span>
          <a href="karate-tags.html">Tags</a><span class="feature-label">|</span>
          <span class="feature-label">Feature:</span>
          <span class="feature-path">src/test/java/com.FeatureFiles/LinkageAPI_UnitTesting.feature</span><span class="feature-label">|</span>
          <span class="feature-name">API level unit testing for linkage service</span>
          <span class="feature-description"></span>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[1:18]">
            <div class="heading-container">
              <div class="scenario-tags">
                
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[1:18]</span>
                <span class="scenario-name">Verify the LinkageAPI with all mandatory body parameters</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time passed">
              <span>ms:</span>&nbsp;<span>2479</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[1:18]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.4">
      <div class="step-ref bg-step">4</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">54</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.5">
      <div class="step-ref bg-step">5</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/clientCredentials/oauth2/token/hk/gcb&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = &#39;Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/x-www-form-urlencoded&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;grant_type=client_credentials&amp;scope=/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">987</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.9">19:23:39.973 request:
1 &gt; POST https://sandbox.apihub.citi.com/gcb/api/clientCredentials/oauth2/token/hk/gcb
1 &gt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &gt; Content-Type: application/x-www-form-urlencoded; charset=UTF-8
1 &gt; Content-Length: 40
1 &gt; Host: sandbox.apihub.citi.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
1 &gt; Accept-Encoding: gzip,deflate
grant_type=client_credentials&amp;scope=/api

19:23:40.690 response time in milliseconds: 712
1 &lt; 200
1 &lt; X-Backside-Transport: OK OK,OK OK,OK OK
1 &lt; Content-Type: application/json
1 &lt; Content-Type: application/json
1 &lt; X-Global-Transaction-ID: 2b769208626e90ad1b4ba48c
1 &lt; X-Akamai-True-Client-IP: 85.154.175.224
1 &lt; Pragma: no-cache
1 &lt; X-DataStream-Session-Id: a11f57161-626e90ad-14034828
1 &lt; X_AK_SHAPE_AGGREGATOR_IP: FALSE
1 &lt; X-Akamai-CONFIG-LOG-DETAIL: true
1 &lt; Akamai-Origin-Hop: 2
1 &lt; X-Forwarded-For: 85.154.175.224, 82.178.158.46
1 &lt; Cache-Control: no-cache, max-age=0
1 &lt; X-Client-IP: 23.205.100.34,169.175.61.96,153.40.245.129
1 &lt; dmz-global-txn-id: 2b769208626e90ad1b4ba48c
1 &lt; X-Archived-Client-IP: 23.205.100.34,23.205.100.34,169.175.61.96
1 &lt; countryCode: HK
1 &lt; businessCode: GCB
1 &lt; scope: /api
1 &lt; channelId: SSA
1 &lt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
1 &lt; client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY
1 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Origin: 
1 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
1 &lt; X-RateLimit-Limit: name=rate-limit-1,60;
1 &lt; X-RateLimit-Remaining: name=rate-limit-1,59;
1 &lt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &lt; X-Akamai-CITISITE: GTDC
1 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Credentials: true
1 &lt; Content-Length: 393
1 &lt; Date: Sun, 01 May 2022 13:52:45 GMT
1 &lt; Connection: keep-alive
1 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414365000; Expires=Mon, 27 Jul 54353 18:23:40 GMT; Domain=sandbox.apihub.citi.com; Secure
1 &lt; Set-Cookie: _abck=A3297C99924AB3E9E4B100E97B9C79BD~-1~YAAQLp6yUktR8HKAAQAAaiflfwdDUNL+8dUKupxaEAnbIWQtK/yYFFRYLtMTW1qyYY5DZF7qHQC4Iwbao3NH16Cv/aM9Lvut+0i8q4FlbE23zeW8edNED5yMDnPQ+Z6mR83nkq8fncaaPolro7adax4O3YnTVqThRErREmXwtJ1yMpxgfBvhQJAapakTCaAPY9o8lqDcjTP3+hfRQhCGhfoHWvLIpHajKmiUA3HK/dH0zX/kSU7rFCy/gniRRG4yHWXy+gV4XDj0JrA7Q4phudmJPjCk4sHx8e4MHU3u6YgMPpfGpyAVP1LEgL/Vp3IUquwXazAM5nELbg+3eLDa8FPq3dPzLEx+pl3RcmVktENn4qpsCPVpZRw=~-1~-1~-1; Max-Age=1682949165000; Expires=Sun, 12 Nov 55352 21:03:40 GMT; Domain=citi.com; Secure
1 &lt; Set-Cookie: bm_sz=5086880851E782FC29798D8C235A2820~YAAQLp6yUkxR8HKAAQAAaiflfw85Z7YXdW3u4B2FaQd5HodCm2lqxd5WV4sC2PnsL9wMnPGDLIOBScha3EOs0xRbWbmgfURFW42GV+c3MBaQI0kaJT92aotlIRS00qBZ7quqiZq2EBqUwA0zcIEOfetMN7vCMUpNJ8p/k50wTXzU0vwgl/wT8Zd+FSEB7lHbtUUa9kV79XgiVsBvNp6tMf8A9UMTdUleHchkTlJ+zOwEeSEfgDwgkkHl36aJdHihWHMBBATWuVguERTHUy7GJeEYnqc1lQ/UxMlyXv0BcK+Q~3491383~4601651; Max-Age=1651427565000; Expires=Sun, 27 Dec 54353 13:03:40 GMT; Domain=citi.com
{ &quot;token_type&quot;:&quot;Bearer&quot;, &quot;access_token&quot;:&quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhYuvKxg6AO7nbrFzNXE7qej-KGX4o3VLyFlm_FMM6ObckJBRzPQ-JNs7vHwnyfTMqrsZI_7rbHmzsi9cTFSRc-pv74AsEq58kNs6fqzZhqrytdmJngJmZSixJnTBMseD7zEsy1Plenq_nGTuyhDfM8kMh1fGO23CChwL79xewVXuLZ1lukoMeQrE90k_eltijXMe3WK4h5VbpyLigb3RFMa3pxTL8M-AH6XONoSm58HA&quot;, &quot;expires_in&quot;:1800, &quot;consented_on&quot;:1651413165, &quot;scope&quot;:&quot;/api&quot; }

</div>   

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.11">
      <div class="step-ref bg-step">11</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell passed">44</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.11">19:23:40.752 [print] {
  &quot;token_type&quot;: &quot;Bearer&quot;,
  &quot;access_token&quot;: &quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhYuvKxg6AO7nbrFzNXE7qej-KGX4o3VLyFlm_FMM6ObckJBRzPQ-JNs7vHwnyfTMqrsZI_7rbHmzsi9cTFSRc-pv74AsEq58kNs6fqzZhqrytdmJngJmZSixJnTBMseD7zEsy1Plenq_nGTuyhDfM8kMh1fGO23CChwL79xewVXuLZ1lukoMeQrE90k_eltijXMe3WK4h5VbpyLigb3RFMa3pxTL8M-AH6XONoSm58HA&quot;,
  &quot;expires_in&quot;: 1800,
  &quot;consented_on&quot;: 1651413165,
  &quot;scope&quot;: &quot;/api&quot;
}
 
</div>   

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.12">
      <div class="step-ref bg-step">12</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.token_type == &#39;Bearer&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">18</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.13">
      <div class="step-ref bg-step">13</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.access_token != null</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.14">
      <div class="step-ref bg-step">14</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def accessToken = response.access_token</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.15">
      <div class="step-ref bg-step">15</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print &#39;AccessToken&#39;, accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.15">19:23:40.775 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhYuvKxg6AO7nbrFzNXE7qej-KGX4o3VLyFlm_FMM6ObckJBRzPQ-JNs7vHwnyfTMqrsZI_7rbHmzsi9cTFSRc-pv74AsEq58kNs6fqzZhqrytdmJngJmZSixJnTBMseD7zEsy1Plenq_nGTuyhDfM8kMh1fGO23CChwL79xewVXuLZ1lukoMeQrE90k_eltijXMe3WK4h5VbpyLigb3RFMa3pxTL8M-AH6XONoSm58HA 
</div>   

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.16">
      <div class="step-ref bg-step">16</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def Auth = &#39;Bearer &#39;+accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">7</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.19">
      <div class="step-ref passed">19</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.20">
      <div class="step-ref passed">20</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/v1/apac/rewards/linkage&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.21">
      <div class="step-ref passed">21</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = Auth</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.22">
      <div class="step-ref passed">22</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Accept = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.23">
      <div class="step-ref passed">23</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.24">
      <div class="step-ref passed">24</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header client_id = &#39;5ad84ff6-2ef9-402d-9cba-d12bfcb41faa&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.25">
      <div class="step-ref passed">25</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.26">
      <div class="step-ref passed">26</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">1363</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.26">19:23:40.786 request:
2 &gt; POST https://sandbox.apihub.citi.com/gcb/api/v1/apac/rewards/linkage
2 &gt; Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhYuvKxg6AO7nbrFzNXE7qej-KGX4o3VLyFlm_FMM6ObckJBRzPQ-JNs7vHwnyfTMqrsZI_7rbHmzsi9cTFSRc-pv74AsEq58kNs6fqzZhqrytdmJngJmZSixJnTBMseD7zEsy1Plenq_nGTuyhDfM8kMh1fGO23CChwL79xewVXuLZ1lukoMeQrE90k_eltijXMe3WK4h5VbpyLigb3RFMa3pxTL8M-AH6XONoSm58HA
2 &gt; Accept: application/json
2 &gt; Content-Type: application/json; charset=UTF-8
2 &gt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
2 &gt; Cookie: _abck=A3297C99924AB3E9E4B100E97B9C79BD~-1~YAAQLp6yUktR8HKAAQAAaiflfwdDUNL+8dUKupxaEAnbIWQtK/yYFFRYLtMTW1qyYY5DZF7qHQC4Iwbao3NH16Cv/aM9Lvut+0i8q4FlbE23zeW8edNED5yMDnPQ+Z6mR83nkq8fncaaPolro7adax4O3YnTVqThRErREmXwtJ1yMpxgfBvhQJAapakTCaAPY9o8lqDcjTP3+hfRQhCGhfoHWvLIpHajKmiUA3HK/dH0zX/kSU7rFCy/gniRRG4yHWXy+gV4XDj0JrA7Q4phudmJPjCk4sHx8e4MHU3u6YgMPpfGpyAVP1LEgL/Vp3IUquwXazAM5nELbg+3eLDa8FPq3dPzLEx+pl3RcmVktENn4qpsCPVpZRw=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=5086880851E782FC29798D8C235A2820~YAAQLp6yUkxR8HKAAQAAaiflfw85Z7YXdW3u4B2FaQd5HodCm2lqxd5WV4sC2PnsL9wMnPGDLIOBScha3EOs0xRbWbmgfURFW42GV+c3MBaQI0kaJT92aotlIRS00qBZ7quqiZq2EBqUwA0zcIEOfetMN7vCMUpNJ8p/k50wTXzU0vwgl/wT8Zd+FSEB7lHbtUUa9kV79XgiVsBvNp6tMf8A9UMTdUleHchkTlJ+zOwEeSEfgDwgkkHl36aJdHihWHMBBATWuVguERTHUy7GJeEYnqc1lQ/UxMlyXv0BcK+Q~3491383~4601651
2 &gt; Content-Length: 124
2 &gt; Host: sandbox.apihub.citi.com
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
2 &gt; Accept-Encoding: gzip,deflate
{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}

19:23:42.147 response time in milliseconds: 1361
2 &lt; 200
2 &lt; X-Backside-Transport: OK OK,OK OK,OK OK
2 &lt; Content-Type: application/json
2 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
2 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Max-Age: 2147483647
2 &lt; Cache-Control: no-cache, no-store
2 &lt; Citiuuid: 84174220-0001-48f7-b170-997bc314d54d
2 &lt; Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
2 &lt; Expires: -1
2 &lt; Pragma: no-cache
2 &lt; Uuid: 26500aec-feed-427c-8a40-2baa9d019494
2 &lt; X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2
2 &lt; X-Vcap-Request-Id: 4eed39f0-9ef7-4ac0-6be8-5a8a3050a393
2 &lt; X-Global-Transaction-ID: 126374ce626e90ae7088cb0f
2 &lt; Access-Control-Allow-Origin: 
2 &lt; Access-Control-Allow-Credentials: true
2 &lt; mfaCode: 7qno7CQEFJHS4ESE5%2F6jyq1WDAqmZ7sSyabxc0gIPYLxQHWuZ2%2BVwV%2FETjXMQANxcgD3H1DAd84R%2FKfHLcHZM%2BFEAH%2B7Fmpts%2FZwMBr%2Fyhl9%2B9RJJ2gAuSwQ39X%2By9a%2BWXpsESikGKcBxrO3WstPUYhd2y4y7ezhYUMABysQvQffiCAxthV0HhDzqzMrPPl%2FQKhOwYGOi7EFGXA05iVmAjNH0BZ%2BEbrvMwNln7w2yNGQWDtAJqLuFYw4c%2B1yQbyyYc5G91Y1vns1pPGB58HbTRdht378%2F2DJs76xZGAHlSiLBZe7QaLIwOqoFKhU9DfAhQuaqGdgtRV%2FTjb6h%2Bel%2FNV0aVf%2FY8Sp8MKiFk2Ztya8ADqF2rdS0GxLACoGP7I8O2Esdhf20DPkzXQh0voj0kQavAgOhtpCNmP5%2F8t%2BKmuNO5u%2FD%2Foc8jypeSWUfU%2BSbHAOhvjocz%2Bk2vxSUE8HTA%3D%3D
2 &lt; X-Akamai-CITISITE: GTDC
2 &lt; Content-Length: 40
2 &lt; Date: Sun, 01 May 2022 13:52:47 GMT
2 &lt; Connection: keep-alive
2 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414367000; Expires=Mon, 27 Jul 54353 18:57:02 GMT; Domain=sandbox.apihub.citi.com; Secure
{&quot;rewardLinkCode&quot;:&quot;4703012696960006061&quot;}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.27">
      <div class="step-ref passed">27</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.28">
      <div class="step-ref passed">28</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.rewardLinkCode != null</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[2:30]">
            <div class="heading-container">
              <div class="scenario-tags">
                
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[2:30]</span>
                <span class="scenario-name">Verify the LinkageAPI with invalid lastFourDigitsCardNumber in body parameters</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time passed">
              <span>ms:</span>&nbsp;<span>6854</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[2:30]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.4">
      <div class="step-ref bg-step">4</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.5">
      <div class="step-ref bg-step">5</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/clientCredentials/oauth2/token/hk/gcb&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = &#39;Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/x-www-form-urlencoded&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;grant_type=client_credentials&amp;scope=/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">512</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.9">19:23:42.153 request:
1 &gt; POST https://sandbox.apihub.citi.com/gcb/api/clientCredentials/oauth2/token/hk/gcb
1 &gt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &gt; Content-Type: application/x-www-form-urlencoded; charset=UTF-8
1 &gt; Content-Length: 40
1 &gt; Host: sandbox.apihub.citi.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
1 &gt; Accept-Encoding: gzip,deflate
grant_type=client_credentials&amp;scope=/api

19:23:42.663 response time in milliseconds: 510
1 &lt; 200
1 &lt; X-Backside-Transport: OK OK,OK OK,OK OK
1 &lt; Content-Type: application/json
1 &lt; Content-Type: application/json
1 &lt; X-Global-Transaction-ID: 2b769208626e90afe821ad1f
1 &lt; X-Akamai-True-Client-IP: 85.154.175.224
1 &lt; Pragma: no-cache
1 &lt; X-DataStream-Session-Id: a11f57161-626e90af-140358f0
1 &lt; X_AK_SHAPE_AGGREGATOR_IP: FALSE
1 &lt; X-Akamai-CONFIG-LOG-DETAIL: true
1 &lt; Akamai-Origin-Hop: 2
1 &lt; X-Forwarded-For: 85.154.175.224, 82.178.158.46
1 &lt; Cache-Control: no-cache, max-age=0
1 &lt; X-Client-IP: 23.205.100.34,169.175.61.96,153.40.245.129
1 &lt; dmz-global-txn-id: 2b769208626e90afe821ad1f
1 &lt; X-Archived-Client-IP: 23.205.100.34,23.205.100.34,169.175.61.96
1 &lt; countryCode: HK
1 &lt; businessCode: GCB
1 &lt; scope: /api
1 &lt; channelId: SSA
1 &lt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
1 &lt; client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY
1 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Origin: 
1 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
1 &lt; X-RateLimit-Limit: name=rate-limit-1,60;
1 &lt; X-RateLimit-Remaining: name=rate-limit-1,58;
1 &lt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &lt; X-Akamai-CITISITE: GTDC
1 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Credentials: true
1 &lt; Content-Length: 393
1 &lt; Date: Sun, 01 May 2022 13:52:47 GMT
1 &lt; Connection: keep-alive
1 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414367000; Expires=Mon, 27 Jul 54353 18:57:02 GMT; Domain=sandbox.apihub.citi.com; Secure
1 &lt; Set-Cookie: _abck=555E128A902475C69E2E22EA2E9A3CC0~-1~YAAQLp6yUlZR8HKAAQAAPi/lfwfyciP90bvaDubBB4DxsMqEO4D+jD4+U4JJ/ZgjmdTCgxVARNOX0aXeKYEeO9LP6tAjXSVcVFLXxOmNjSpRkRI0E7pFo7an/q6SyEK2IbMZD53bPQVXc/A60/WqmFRve3NdjLczMiCewagp8iUorSlPKwNGWJOcXtS/JhDvMZ5/7r71iijoIwyxV/lJ/86ci+G57C8jIfpiBo9NoytviGnKxvf7EL+taJXRPAP3JbbuZXrk5P4qjMY5WJeZjiIINTeP3ucDSav16RrqDH6vTM8kN98X0H4v3Xhus+ICNcO3ylhyL2y1bMpvNxBUjndukt+dCI6Hp2RD8Mu7vjw2jZMMpvXdEZ4=~-1~-1~-1; Max-Age=1682949167000; Expires=Sun, 12 Nov 55352 21:37:02 GMT; Domain=citi.com; Secure
1 &lt; Set-Cookie: bm_sz=3BC3FCCD723C9FE204328863723B5906~YAAQLp6yUldR8HKAAQAAPi/lfw+Vzggfwv/KEVk8ZSJMUtn3L4IeKMt86+W6bEAF1F3H7aOMP0iJMbGsA3Jc2JQajCbzPEU+/R3BfQJOa4YUyIGvu6RooqnEhE59tVXFPvXsE+H3/1luOg5D474CXHS7tsRFjVigmxBpsRx12w2XWy+F3TvygSzFKsv71wNq37OgFfTxVDOwGqwlUTcI0AyrYBOhjz5AOYe7Hd+pz9aoJqbQ50YShFh7mDV4CHhmmgyTJ9yriU3jbxShORp7rydMhDVZB/GrHlRM/hps5CQZ~4343107~3356466; Max-Age=1651427567000; Expires=Sun, 27 Dec 54353 13:37:02 GMT; Domain=citi.com
{ &quot;token_type&quot;:&quot;Bearer&quot;, &quot;access_token&quot;:&quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhqxJCHYRB9o5DIuGidhQCWssQxWuAi1uRJ059NQgAgcMYf5zf_kADJ1iMfmJOQOqVi1c_G2b3hF8_hZTFvQTtbrP7wqEqZLKOc8GtBCCa9RDSDfo8-VFKdUlMyi8fX7nGysIOQOqM1T4WnSk-hedI5rWFu_PZY0DGecOyqs_lCRH8U5N9EROxVLxw6QMmP_tV0a_ZTw9VHATi7zwJ_5IH2TcnbL1UGc_e6_dLzBlabOA&quot;, &quot;expires_in&quot;:1800, &quot;consented_on&quot;:1651413167, &quot;scope&quot;:&quot;/api&quot; }

</div>   

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.11">
      <div class="step-ref bg-step">11</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.11">19:23:42.665 [print] {
  &quot;token_type&quot;: &quot;Bearer&quot;,
  &quot;access_token&quot;: &quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhqxJCHYRB9o5DIuGidhQCWssQxWuAi1uRJ059NQgAgcMYf5zf_kADJ1iMfmJOQOqVi1c_G2b3hF8_hZTFvQTtbrP7wqEqZLKOc8GtBCCa9RDSDfo8-VFKdUlMyi8fX7nGysIOQOqM1T4WnSk-hedI5rWFu_PZY0DGecOyqs_lCRH8U5N9EROxVLxw6QMmP_tV0a_ZTw9VHATi7zwJ_5IH2TcnbL1UGc_e6_dLzBlabOA&quot;,
  &quot;expires_in&quot;: 1800,
  &quot;consented_on&quot;: 1651413167,
  &quot;scope&quot;: &quot;/api&quot;
}
 
</div>   

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.12">
      <div class="step-ref bg-step">12</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.token_type == &#39;Bearer&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.13">
      <div class="step-ref bg-step">13</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.access_token != null</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.14">
      <div class="step-ref bg-step">14</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def accessToken = response.access_token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.15">
      <div class="step-ref bg-step">15</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print &#39;AccessToken&#39;, accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.15">19:23:42.666 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhqxJCHYRB9o5DIuGidhQCWssQxWuAi1uRJ059NQgAgcMYf5zf_kADJ1iMfmJOQOqVi1c_G2b3hF8_hZTFvQTtbrP7wqEqZLKOc8GtBCCa9RDSDfo8-VFKdUlMyi8fX7nGysIOQOqM1T4WnSk-hedI5rWFu_PZY0DGecOyqs_lCRH8U5N9EROxVLxw6QMmP_tV0a_ZTw9VHATi7zwJ_5IH2TcnbL1UGc_e6_dLzBlabOA 
</div>   

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.16">
      <div class="step-ref bg-step">16</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def Auth = &#39;Bearer &#39;+accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.31">
      <div class="step-ref passed">31</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.32">
      <div class="step-ref passed">32</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/v1/apac/rewards/linkage&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.33">
      <div class="step-ref passed">33</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = Auth</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.34">
      <div class="step-ref passed">34</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Accept = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.35">
      <div class="step-ref passed">35</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.36">
      <div class="step-ref passed">36</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header client_id = &#39;5ad84ff6-2ef9-402d-9cba-d12bfcb41faa&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.37">
      <div class="step-ref passed">37</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;{&quot;lastFourDigitsCardNumber&quot;: &quot;1234&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.38">
      <div class="step-ref passed">38</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">6337</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.38">19:23:42.668 request:
2 &gt; POST https://sandbox.apihub.citi.com/gcb/api/v1/apac/rewards/linkage
2 &gt; Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhqxJCHYRB9o5DIuGidhQCWssQxWuAi1uRJ059NQgAgcMYf5zf_kADJ1iMfmJOQOqVi1c_G2b3hF8_hZTFvQTtbrP7wqEqZLKOc8GtBCCa9RDSDfo8-VFKdUlMyi8fX7nGysIOQOqM1T4WnSk-hedI5rWFu_PZY0DGecOyqs_lCRH8U5N9EROxVLxw6QMmP_tV0a_ZTw9VHATi7zwJ_5IH2TcnbL1UGc_e6_dLzBlabOA
2 &gt; Accept: application/json
2 &gt; Content-Type: application/json; charset=UTF-8
2 &gt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
2 &gt; Cookie: _abck=555E128A902475C69E2E22EA2E9A3CC0~-1~YAAQLp6yUlZR8HKAAQAAPi/lfwfyciP90bvaDubBB4DxsMqEO4D+jD4+U4JJ/ZgjmdTCgxVARNOX0aXeKYEeO9LP6tAjXSVcVFLXxOmNjSpRkRI0E7pFo7an/q6SyEK2IbMZD53bPQVXc/A60/WqmFRve3NdjLczMiCewagp8iUorSlPKwNGWJOcXtS/JhDvMZ5/7r71iijoIwyxV/lJ/86ci+G57C8jIfpiBo9NoytviGnKxvf7EL+taJXRPAP3JbbuZXrk5P4qjMY5WJeZjiIINTeP3ucDSav16RrqDH6vTM8kN98X0H4v3Xhus+ICNcO3ylhyL2y1bMpvNxBUjndukt+dCI6Hp2RD8Mu7vjw2jZMMpvXdEZ4=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=3BC3FCCD723C9FE204328863723B5906~YAAQLp6yUldR8HKAAQAAPi/lfw+Vzggfwv/KEVk8ZSJMUtn3L4IeKMt86+W6bEAF1F3H7aOMP0iJMbGsA3Jc2JQajCbzPEU+/R3BfQJOa4YUyIGvu6RooqnEhE59tVXFPvXsE+H3/1luOg5D474CXHS7tsRFjVigmxBpsRx12w2XWy+F3TvygSzFKsv71wNq37OgFfTxVDOwGqwlUTcI0AyrYBOhjz5AOYe7Hd+pz9aoJqbQ50YShFh7mDV4CHhmmgyTJ9yriU3jbxShORp7rydMhDVZB/GrHlRM/hps5CQZ~4343107~3356466
2 &gt; Content-Length: 124
2 &gt; Host: sandbox.apihub.citi.com
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
2 &gt; Accept-Encoding: gzip,deflate
{&quot;lastFourDigitsCardNumber&quot;: &quot;1234&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}

19:23:49.004 response time in milliseconds: 6336
2 &lt; 400
2 &lt; X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL
2 &lt; Content-Type: application/json
2 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
2 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Max-Age: 2147483647
2 &lt; Cache-Control: no-cache, no-store
2 &lt; Citiuuid: 4fbe8b92-ada0-4bd8-a1eb-087bf54db288
2 &lt; Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
2 &lt; Expires: -1
2 &lt; Pragma: no-cache
2 &lt; Uuid: 05b43ded-736c-41df-8411-709fc4b0a223
2 &lt; X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0
2 &lt; X-Vcap-Request-Id: 32299d61-7393-4322-61d0-2cc836e56bf0
2 &lt; X-Global-Transaction-ID: 126374ce626e90b0094a096d
2 &lt; Access-Control-Allow-Origin: 
2 &lt; Access-Control-Allow-Credentials: true
2 &lt; mfaCode: dvbvV1SXihry9tBu7Sea2DDNGKVvAgMbQpSaRCmGLIp5IlP71s5K8wDelQP0SnFLGgf6Z1ngX%2B%2BnydQqApme0P0qi1qNBh1hhZUUPe4M1ygpaXJT3%2FtUELoXG%2FhVQA8TmwaXdRnuJOF0HJn84KGcJMDYm%2BOhRpm9HAHf3%2FP2L%2B8JblixGoFjbOKuTds9kHO9XK%2Fw%2FIaiUTl7I3OjXm9XvhoJI13Y0dZGwsui56wuDKBFoNNLTNVKQ%2FXUCVj%2B7k0Vkyvcz1u3l0C1TL1CKdu7OBLTwCjhAmvueV3p6bQrgfZokMtT%2BjHAbF5PRZAdF9UDwpcJMnr2pJ56VJi8iqpMNTRjCwr9%2BTsVIRuM5KTP1pn3MSh%2BeB9tlo1ZbmNYMt%2Fk%2Fe772OHEdFTyNPIDspWU%2FQF9qyk%2FNuuOEitghIwqrIHIiJ7k4tFImM76K9jbgjMkWRH7%2FmedQBWn5azLiakrAw%3D%3D
2 &lt; X-Akamai-CITISITE: GTDC
2 &lt; Content-Length: 84
2 &lt; Date: Sun, 01 May 2022 13:52:54 GMT
2 &lt; Connection: close
2 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414374000; Expires=Mon, 27 Jul 54353 20:53:49 GMT; Domain=sandbox.apihub.citi.com; Secure
{&quot;type&quot;:&quot;invalid&quot;,&quot;code&quot;:&quot;invalidRequest&quot;,&quot;details&quot;:&quot;Missing or invalid parameters&quot;}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.39">
      <div class="step-ref passed">39</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 400</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.40">
      <div class="step-ref passed">40</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.40">19:23:49.005 [print] {
  &quot;type&quot;: &quot;invalid&quot;,
  &quot;code&quot;: &quot;invalidRequest&quot;,
  &quot;details&quot;: &quot;Missing or invalid parameters&quot;
}
 
</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.41">
      <div class="step-ref passed">41</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.type == &#39;invalid&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.42">
      <div class="step-ref passed">42</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.code == &#39;invalidRequest&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.43">
      <div class="step-ref passed">43</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.details == &#39;Missing or invalid parameters&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[3:45]">
            <div class="heading-container">
              <div class="scenario-tags">
                
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[3:45]</span>
                <span class="scenario-name">Verify the LinkageAPI with invalid citiCardHolderPhoneNumber in body parameters</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time passed">
              <span>ms:</span>&nbsp;<span>5284</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[3:45]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.4">
      <div class="step-ref bg-step">4</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.5">
      <div class="step-ref bg-step">5</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/clientCredentials/oauth2/token/hk/gcb&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = &#39;Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/x-www-form-urlencoded&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;grant_type=client_credentials&amp;scope=/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">562</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.9">19:23:49.010 request:
1 &gt; POST https://sandbox.apihub.citi.com/gcb/api/clientCredentials/oauth2/token/hk/gcb
1 &gt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &gt; Content-Type: application/x-www-form-urlencoded; charset=UTF-8
1 &gt; Content-Length: 40
1 &gt; Host: sandbox.apihub.citi.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
1 &gt; Accept-Encoding: gzip,deflate
grant_type=client_credentials&amp;scope=/api

19:23:49.571 response time in milliseconds: 560
1 &lt; 200
1 &lt; X-Backside-Transport: OK OK,OK OK,OK OK
1 &lt; Content-Type: application/json
1 &lt; Content-Type: application/json
1 &lt; X-Global-Transaction-ID: 98b6a370626e90b6817c643d
1 &lt; X-Akamai-True-Client-IP: 85.154.175.224
1 &lt; Pragma: no-cache
1 &lt; X-DataStream-Session-Id: a11f57161-626e90b6-14038d8c
1 &lt; X_AK_SHAPE_AGGREGATOR_IP: FALSE
1 &lt; X-Akamai-CONFIG-LOG-DETAIL: true
1 &lt; Akamai-Origin-Hop: 2
1 &lt; X-Forwarded-For: 85.154.175.224, 82.178.158.46
1 &lt; Cache-Control: no-cache, max-age=0
1 &lt; X-Client-IP: 23.47.59.18,169.175.115.119,169.177.209.51
1 &lt; dmz-global-txn-id: 98b6a370626e90b6817c643d
1 &lt; X-Archived-Client-IP: 23.47.59.18,23.47.59.18,169.175.115.119
1 &lt; countryCode: HK
1 &lt; businessCode: GCB
1 &lt; scope: /api
1 &lt; channelId: SSA
1 &lt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
1 &lt; client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY
1 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Origin: 
1 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
1 &lt; X-RateLimit-Limit: name=rate-limit-1,60;
1 &lt; X-RateLimit-Remaining: name=rate-limit-1,59;
1 &lt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &lt; X-Akamai-CITISITE: GTDC
1 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Credentials: true
1 &lt; Content-Length: 393
1 &lt; Date: Sun, 01 May 2022 13:52:54 GMT
1 &lt; Connection: keep-alive
1 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414374000; Expires=Mon, 27 Jul 54353 20:53:49 GMT; Domain=sandbox.apihub.citi.com; Secure
1 &lt; Set-Cookie: _abck=71B9F60AA144197A9E43AD0F17DAA65E~-1~YAAQLp6yUm9R8HKAAQAANErlfwe96mvK/lhv2mlXKzuwpKQtfd+jzPO6aeRkB3SBDCBQKc9ByORYPnN4FZCDqzOyUdfEe6ruz07VSzW5YfUNub9/iWFJSpjDn7vtGHN2+RS7pVLuIIJilQonQ14hC2fbV+A7p9MPffRAxYMFv5zvC0JsrcQvQ+6/ewgLkEeaWPadGSQZdzJe5ud/oB2FFcFwxtMEt9uXuCH5YNfMoUewpgDwvdr4IJvD60Su7M4xOYuaDo0zOMj1IHuqhYPlDGgzNEfpCyYhGPTHMMhWZpjVdNuwlUiGxQuXu4whXjhb1O3oCO5629ZaBjv/vK+xjnxcoX2AXAgaUocqwGmfteOplK3Bt9K7NBQ=~-1~-1~-1; Max-Age=1682949174000; Expires=Sun, 12 Nov 55352 23:33:49 GMT; Domain=citi.com; Secure
1 &lt; Set-Cookie: bm_sz=F823F3A771BB4A4C74E79EB01BBC399C~YAAQLp6yUnBR8HKAAQAANErlfw83cP9FkSBtDuVuG6caRka7U74q4MhVbunbIuOqeJ8ucrWPz+c2Ry6TGRJg9+xTBz1DUhifNjuVOpkoQdda3rZwDg94NFrpXvbONo8bxG64YqNVqlBFC6YvFgkGgVOMuH84BkPiw5JN9ge8IjRRoyywyNFmeaUkHEtYh2fQRNTgdCJTOyT+D6L2YaTiexQTGSqzyW1rCQRWlXNl+UW85dtap45SPr2gJnsmvWGRHFtKURY1HIlFNIu8OIfhAcMWbKDQ4KT7fKZifkt81u+3~3552582~3488070; Max-Age=1651427574000; Expires=Sun, 27 Dec 54353 15:33:49 GMT; Domain=citi.com
{ &quot;token_type&quot;:&quot;Bearer&quot;, &quot;access_token&quot;:&quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhFk8gr1PMcgRNaD0Nsnn_jajAoQYIiPtcAmQDBO9S9j27vUH-YwHPQj-Pzu4v0E6v_dzGSrIkSeM01J3et_7BjtGDW3H0u_N5v2isy11cXupMHfQfcDqhihjaN7RaQvuhzWWv3VRWmf5s2-rI7ueoLVLe_SThHRNpdNWDK92N2m12dB6VTM6Y9-weOKP_5MvDbJcRVbX8EbOXeSht-p5iPZJcswweIITnovs0wSjVHDs&quot;, &quot;expires_in&quot;:1800, &quot;consented_on&quot;:1651413174, &quot;scope&quot;:&quot;/api&quot; }

</div>   

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.11">
      <div class="step-ref bg-step">11</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.11">19:23:49.573 [print] {
  &quot;token_type&quot;: &quot;Bearer&quot;,
  &quot;access_token&quot;: &quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhFk8gr1PMcgRNaD0Nsnn_jajAoQYIiPtcAmQDBO9S9j27vUH-YwHPQj-Pzu4v0E6v_dzGSrIkSeM01J3et_7BjtGDW3H0u_N5v2isy11cXupMHfQfcDqhihjaN7RaQvuhzWWv3VRWmf5s2-rI7ueoLVLe_SThHRNpdNWDK92N2m12dB6VTM6Y9-weOKP_5MvDbJcRVbX8EbOXeSht-p5iPZJcswweIITnovs0wSjVHDs&quot;,
  &quot;expires_in&quot;: 1800,
  &quot;consented_on&quot;: 1651413174,
  &quot;scope&quot;: &quot;/api&quot;
}
 
</div>   

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.12">
      <div class="step-ref bg-step">12</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.token_type == &#39;Bearer&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.13">
      <div class="step-ref bg-step">13</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.access_token != null</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.14">
      <div class="step-ref bg-step">14</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def accessToken = response.access_token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.15">
      <div class="step-ref bg-step">15</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print &#39;AccessToken&#39;, accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.15">19:23:49.575 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhFk8gr1PMcgRNaD0Nsnn_jajAoQYIiPtcAmQDBO9S9j27vUH-YwHPQj-Pzu4v0E6v_dzGSrIkSeM01J3et_7BjtGDW3H0u_N5v2isy11cXupMHfQfcDqhihjaN7RaQvuhzWWv3VRWmf5s2-rI7ueoLVLe_SThHRNpdNWDK92N2m12dB6VTM6Y9-weOKP_5MvDbJcRVbX8EbOXeSht-p5iPZJcswweIITnovs0wSjVHDs 
</div>   

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.16">
      <div class="step-ref bg-step">16</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def Auth = &#39;Bearer &#39;+accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.46">
      <div class="step-ref passed">46</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.47">
      <div class="step-ref passed">47</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/v1/apac/rewards/linkage&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.48">
      <div class="step-ref passed">48</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = Auth</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.49">
      <div class="step-ref passed">49</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Accept = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.50">
      <div class="step-ref passed">50</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.51">
      <div class="step-ref passed">51</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header client_id = &#39;5ad84ff6-2ef9-402d-9cba-d12bfcb41faa&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.52">
      <div class="step-ref passed">52</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;1111111111&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.53">
      <div class="step-ref passed">53</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">4713</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.53">19:23:49.581 request:
2 &gt; POST https://sandbox.apihub.citi.com/gcb/api/v1/apac/rewards/linkage
2 &gt; Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhFk8gr1PMcgRNaD0Nsnn_jajAoQYIiPtcAmQDBO9S9j27vUH-YwHPQj-Pzu4v0E6v_dzGSrIkSeM01J3et_7BjtGDW3H0u_N5v2isy11cXupMHfQfcDqhihjaN7RaQvuhzWWv3VRWmf5s2-rI7ueoLVLe_SThHRNpdNWDK92N2m12dB6VTM6Y9-weOKP_5MvDbJcRVbX8EbOXeSht-p5iPZJcswweIITnovs0wSjVHDs
2 &gt; Accept: application/json
2 &gt; Content-Type: application/json; charset=UTF-8
2 &gt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
2 &gt; Cookie: _abck=71B9F60AA144197A9E43AD0F17DAA65E~-1~YAAQLp6yUm9R8HKAAQAANErlfwe96mvK/lhv2mlXKzuwpKQtfd+jzPO6aeRkB3SBDCBQKc9ByORYPnN4FZCDqzOyUdfEe6ruz07VSzW5YfUNub9/iWFJSpjDn7vtGHN2+RS7pVLuIIJilQonQ14hC2fbV+A7p9MPffRAxYMFv5zvC0JsrcQvQ+6/ewgLkEeaWPadGSQZdzJe5ud/oB2FFcFwxtMEt9uXuCH5YNfMoUewpgDwvdr4IJvD60Su7M4xOYuaDo0zOMj1IHuqhYPlDGgzNEfpCyYhGPTHMMhWZpjVdNuwlUiGxQuXu4whXjhb1O3oCO5629ZaBjv/vK+xjnxcoX2AXAgaUocqwGmfteOplK3Bt9K7NBQ=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=F823F3A771BB4A4C74E79EB01BBC399C~YAAQLp6yUnBR8HKAAQAANErlfw83cP9FkSBtDuVuG6caRka7U74q4MhVbunbIuOqeJ8ucrWPz+c2Ry6TGRJg9+xTBz1DUhifNjuVOpkoQdda3rZwDg94NFrpXvbONo8bxG64YqNVqlBFC6YvFgkGgVOMuH84BkPiw5JN9ge8IjRRoyywyNFmeaUkHEtYh2fQRNTgdCJTOyT+D6L2YaTiexQTGSqzyW1rCQRWlXNl+UW85dtap45SPr2gJnsmvWGRHFtKURY1HIlFNIu8OIfhAcMWbKDQ4KT7fKZifkt81u+3~3552582~3488070
2 &gt; Content-Length: 124
2 &gt; Host: sandbox.apihub.citi.com
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
2 &gt; Accept-Encoding: gzip,deflate
{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;1111111111&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}

19:23:54.291 response time in milliseconds: 4709
2 &lt; 400
2 &lt; X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL
2 &lt; Content-Type: application/json
2 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
2 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Max-Age: 2147483647
2 &lt; Cache-Control: no-cache, no-store
2 &lt; Citiuuid: 67f70817-4b52-4423-bd05-71633df9d661
2 &lt; Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
2 &lt; Expires: -1
2 &lt; Pragma: no-cache
2 &lt; Uuid: 502468ac-7d87-4a74-a038-6cf443750dca
2 &lt; X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1
2 &lt; X-Vcap-Request-Id: 9c185744-14fc-4ef0-75ee-6f8e40d5d64c
2 &lt; X-Global-Transaction-ID: 98b6a370626e90b7817c6d0d
2 &lt; Access-Control-Allow-Origin: 
2 &lt; Access-Control-Allow-Credentials: true
2 &lt; mfaCode: iV5VUjvwROmNplfnRjXRiDDqpkZxgIhldu0sgRUrfIsQrwcHCoB5vB4xB5fI1D8V4mB1q3SBmh9tUkKg8zq8x0tE1y2F40gpM46uVD%2F2OtBnX1gqtG1pUOp%2B29UrIOPuXHjdpV5DQ04NJSh4udhPNXYVl28WqDHwEVxtxcUM2dmFk7D79KamA2l3IYvCWe4x2wp2gGdHBmlVWbuVQ6PVKburCns3suUw2oj0lINEZY%2FlSBlf6tSeTntKfJOFWj9sVjsjqqpgiD1%2Fxp%2F4c0HhjQ9ZJBbyIl0Nyd8bP2r8GGKj3WGHGlS2NwXl8pQv6W3fbq%2FE1NHeh6GJJ3XAV%2B%2Bxnxts1U3o3x%2FRlh95ORzl5VUBstfcApEPlFIP3xZ70aLYMg6AtXM0x2RyLuXAQQ%2Faf936jMTsHkJWN7UinI5p6UdgFvJXXc0RhZRLYVusKxwq4Z7HMxaYEPnjwJA1JqtJmQ%3D%3D
2 &lt; X-Akamai-CITISITE: GTDC
2 &lt; Content-Length: 84
2 &lt; Date: Sun, 01 May 2022 13:52:59 GMT
2 &lt; Connection: close
2 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414379000; Expires=Mon, 27 Jul 54353 22:17:14 GMT; Domain=sandbox.apihub.citi.com; Secure
{&quot;type&quot;:&quot;invalid&quot;,&quot;code&quot;:&quot;invalidRequest&quot;,&quot;details&quot;:&quot;Missing or invalid parameters&quot;}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.54">
      <div class="step-ref passed">54</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 400</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.55">
      <div class="step-ref passed">55</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.55">19:23:54.292 [print] {
  &quot;type&quot;: &quot;invalid&quot;,
  &quot;code&quot;: &quot;invalidRequest&quot;,
  &quot;details&quot;: &quot;Missing or invalid parameters&quot;
}
 
</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.56">
      <div class="step-ref passed">56</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.type == &#39;invalid&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.57">
      <div class="step-ref passed">57</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.code == &#39;invalidRequest&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.58">
      <div class="step-ref passed">58</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.details == &#39;Missing or invalid parameters&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[4:60]">
            <div class="heading-container">
              <div class="scenario-tags">
                
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[4:60]</span>
                <span class="scenario-name">Verify the LinkageAPI with invalid merchantCustomerReferenceId in body parameters</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time failed">
              <span>ms:</span>&nbsp;<span>2401</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[4:60]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.4">
      <div class="step-ref bg-step">4</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.5">
      <div class="step-ref bg-step">5</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/clientCredentials/oauth2/token/hk/gcb&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = &#39;Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/x-www-form-urlencoded&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;grant_type=client_credentials&amp;scope=/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">564</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.9">19:23:54.299 request:
1 &gt; POST https://sandbox.apihub.citi.com/gcb/api/clientCredentials/oauth2/token/hk/gcb
1 &gt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &gt; Content-Type: application/x-www-form-urlencoded; charset=UTF-8
1 &gt; Content-Length: 40
1 &gt; Host: sandbox.apihub.citi.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
1 &gt; Accept-Encoding: gzip,deflate
grant_type=client_credentials&amp;scope=/api

19:23:54.862 response time in milliseconds: 563
1 &lt; 200
1 &lt; X-Backside-Transport: OK OK,OK OK,OK OK
1 &lt; Content-Type: application/json
1 &lt; Content-Type: application/json
1 &lt; X-Global-Transaction-ID: 98b6a370626e90bb8178eb6d
1 &lt; X-Akamai-True-Client-IP: 85.154.175.224
1 &lt; Pragma: no-cache
1 &lt; X-DataStream-Session-Id: a11f57161-626e90bb-1403b551
1 &lt; X_AK_SHAPE_AGGREGATOR_IP: FALSE
1 &lt; X-Akamai-CONFIG-LOG-DETAIL: true
1 &lt; Akamai-Origin-Hop: 2
1 &lt; X-Forwarded-For: 85.154.175.224, 82.178.158.46
1 &lt; Cache-Control: no-cache, max-age=0
1 &lt; X-Client-IP: 23.64.120.195,169.175.115.119,169.177.209.49
1 &lt; dmz-global-txn-id: 98b6a370626e90bb8178eb6d
1 &lt; X-Archived-Client-IP: 23.64.120.195,23.64.120.195,169.175.115.119
1 &lt; countryCode: HK
1 &lt; businessCode: GCB
1 &lt; scope: /api
1 &lt; channelId: SSA
1 &lt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
1 &lt; client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY
1 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Origin: 
1 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
1 &lt; X-RateLimit-Limit: name=rate-limit-1,60;
1 &lt; X-RateLimit-Remaining: name=rate-limit-1,58;
1 &lt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &lt; X-Akamai-CITISITE: GTDC
1 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Credentials: true
1 &lt; Content-Length: 393
1 &lt; Date: Sun, 01 May 2022 13:53:00 GMT
1 &lt; Connection: keep-alive
1 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414380000; Expires=Mon, 27 Jul 54353 22:33:54 GMT; Domain=sandbox.apihub.citi.com; Secure
1 &lt; Set-Cookie: _abck=93978A7A129E7A426A1BA77FF6463512~-1~YAAQLp6yUodR8HKAAQAA3F7lfwe4rQTQsBK63/i5nPOpMSo9Xv7iRiGYk+DBDkGxKLxSgZSAOl/Hs6F5M4GSg7HMjlFohD81JSPnI5yZZbYvqALDC0KcaXGWwn09jzD1TCnDf589mjwz2L8hnAAehi3+4EbTpOF3Lj33EO+yAIs9zIe71foJu05TYSzuST51CzMCttuL+mqJwMoGIDgBCvZ0cvcvBLubIrPg4fK+MPEozog+ux1JXftYru70GG0gqj1kYYSXPbggV+ygbRy23blHoiDFTbe+1rYQHNQrrsAIQdf9mKocnlw6qQ39eTna4I12YfRe0LNhFutr9wr+c6kXQsJeKVv5Bg8IhBetxzAYUYKNvdoEUqU=~-1~-1~-1; Max-Age=1682949180000; Expires=Mon, 13 Nov 55352 01:13:54 GMT; Domain=citi.com; Secure
1 &lt; Set-Cookie: bm_sz=1A4D814A890B3930922BECA802876A35~YAAQLp6yUohR8HKAAQAA3F7lfw/w6WH9k/eZyYX3MMbiEt2JYP4Wqe5e8Rp5X7szeWFWSPe7lvlaZAPyVFvICUX7Mof1Hb1vIIPwQS8hf12VmFn6S4QGhrwBxTTJgGI3+tIVGtglYp0flUAVX1iJHKoMuE9eixeO0YglzFg7BItAgXQRa1tyfGPP8yU71LtkolJ/9QMud6X8N4yjKTFpleoEZSGivJLfzd72bkHmCFBJaDSkqzc1AzvPvaD4Nq+n4S4yuBJ8z4MQKMtWsD39NyF9ClSPjgo2J1OKoWe8YveP~3360325~3425843; Max-Age=1651427579000; Expires=Sun, 27 Dec 54353 16:57:14 GMT; Domain=citi.com
{ &quot;token_type&quot;:&quot;Bearer&quot;, &quot;access_token&quot;:&quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhUIJqe0KKNHbUyzHmH3otte06uS_fEG3lW__T7id1JqcAM_GZLazw6taEWUYX2xyO9XhSlNFNMikUJo8j326JyVMRyby4oIXpn8mXj-zKocJXFIssxIxUljfiA-23d3anm4YIqXUW2MU2yyNEcvT8lLfSi3KK3G7dNazOREprDT0UMGtoMVayTxpkLVXQx0C-YkvsCc2_nXFvq_33Wts5LPsbXzc2uxx9G46PUnZw8w4&quot;, &quot;expires_in&quot;:1800, &quot;consented_on&quot;:1651413179, &quot;scope&quot;:&quot;/api&quot; }

</div>   

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.11">
      <div class="step-ref bg-step">11</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.11">19:23:54.863 [print] {
  &quot;token_type&quot;: &quot;Bearer&quot;,
  &quot;access_token&quot;: &quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhUIJqe0KKNHbUyzHmH3otte06uS_fEG3lW__T7id1JqcAM_GZLazw6taEWUYX2xyO9XhSlNFNMikUJo8j326JyVMRyby4oIXpn8mXj-zKocJXFIssxIxUljfiA-23d3anm4YIqXUW2MU2yyNEcvT8lLfSi3KK3G7dNazOREprDT0UMGtoMVayTxpkLVXQx0C-YkvsCc2_nXFvq_33Wts5LPsbXzc2uxx9G46PUnZw8w4&quot;,
  &quot;expires_in&quot;: 1800,
  &quot;consented_on&quot;: 1651413179,
  &quot;scope&quot;: &quot;/api&quot;
}
 
</div>   

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.12">
      <div class="step-ref bg-step">12</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.token_type == &#39;Bearer&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.13">
      <div class="step-ref bg-step">13</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.access_token != null</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.14">
      <div class="step-ref bg-step">14</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def accessToken = response.access_token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.15">
      <div class="step-ref bg-step">15</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print &#39;AccessToken&#39;, accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.15">19:23:54.864 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhUIJqe0KKNHbUyzHmH3otte06uS_fEG3lW__T7id1JqcAM_GZLazw6taEWUYX2xyO9XhSlNFNMikUJo8j326JyVMRyby4oIXpn8mXj-zKocJXFIssxIxUljfiA-23d3anm4YIqXUW2MU2yyNEcvT8lLfSi3KK3G7dNazOREprDT0UMGtoMVayTxpkLVXQx0C-YkvsCc2_nXFvq_33Wts5LPsbXzc2uxx9G46PUnZw8w4 
</div>   

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.16">
      <div class="step-ref bg-step">16</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def Auth = &#39;Bearer &#39;+accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.61">
      <div class="step-ref passed">61</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.62">
      <div class="step-ref passed">62</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/v1/apac/rewards/linkage&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.63">
      <div class="step-ref passed">63</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = Auth</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.64">
      <div class="step-ref passed">64</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Accept = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.65">
      <div class="step-ref passed">65</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.66">
      <div class="step-ref passed">66</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header client_id = &#39;5ad84ff6-2ef9-402d-9cba-d12bfcb41faa&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.67">
      <div class="step-ref passed">67</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;1231231231231&quot;}&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.68">
      <div class="step-ref passed">68</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">1834</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.68">19:23:54.867 request:
2 &gt; POST https://sandbox.apihub.citi.com/gcb/api/v1/apac/rewards/linkage
2 &gt; Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhUIJqe0KKNHbUyzHmH3otte06uS_fEG3lW__T7id1JqcAM_GZLazw6taEWUYX2xyO9XhSlNFNMikUJo8j326JyVMRyby4oIXpn8mXj-zKocJXFIssxIxUljfiA-23d3anm4YIqXUW2MU2yyNEcvT8lLfSi3KK3G7dNazOREprDT0UMGtoMVayTxpkLVXQx0C-YkvsCc2_nXFvq_33Wts5LPsbXzc2uxx9G46PUnZw8w4
2 &gt; Accept: application/json
2 &gt; Content-Type: application/json; charset=UTF-8
2 &gt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
2 &gt; Cookie: _abck=93978A7A129E7A426A1BA77FF6463512~-1~YAAQLp6yUodR8HKAAQAA3F7lfwe4rQTQsBK63/i5nPOpMSo9Xv7iRiGYk+DBDkGxKLxSgZSAOl/Hs6F5M4GSg7HMjlFohD81JSPnI5yZZbYvqALDC0KcaXGWwn09jzD1TCnDf589mjwz2L8hnAAehi3+4EbTpOF3Lj33EO+yAIs9zIe71foJu05TYSzuST51CzMCttuL+mqJwMoGIDgBCvZ0cvcvBLubIrPg4fK+MPEozog+ux1JXftYru70GG0gqj1kYYSXPbggV+ygbRy23blHoiDFTbe+1rYQHNQrrsAIQdf9mKocnlw6qQ39eTna4I12YfRe0LNhFutr9wr+c6kXQsJeKVv5Bg8IhBetxzAYUYKNvdoEUqU=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=1A4D814A890B3930922BECA802876A35~YAAQLp6yUohR8HKAAQAA3F7lfw/w6WH9k/eZyYX3MMbiEt2JYP4Wqe5e8Rp5X7szeWFWSPe7lvlaZAPyVFvICUX7Mof1Hb1vIIPwQS8hf12VmFn6S4QGhrwBxTTJgGI3+tIVGtglYp0flUAVX1iJHKoMuE9eixeO0YglzFg7BItAgXQRa1tyfGPP8yU71LtkolJ/9QMud6X8N4yjKTFpleoEZSGivJLfzd72bkHmCFBJaDSkqzc1AzvPvaD4Nq+n4S4yuBJ8z4MQKMtWsD39NyF9ClSPjgo2J1OKoWe8YveP~3360325~3425843
2 &gt; Content-Length: 124
2 &gt; Host: sandbox.apihub.citi.com
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
2 &gt; Accept-Encoding: gzip,deflate
{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;1231231231231&quot;}

19:23:56.698 response time in milliseconds: 1831
2 &lt; 200
2 &lt; X-Backside-Transport: OK OK,OK OK,OK OK
2 &lt; Content-Type: application/json
2 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
2 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Max-Age: 2147483647
2 &lt; Cache-Control: no-cache, no-store
2 &lt; Citiuuid: be1ceeef-bf95-4e98-862c-03a98a97d80f
2 &lt; Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
2 &lt; Expires: -1
2 &lt; Pragma: no-cache
2 &lt; Uuid: 3e3c9482-92b4-4cc4-be35-bb8b869621f2
2 &lt; X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0
2 &lt; X-Vcap-Request-Id: e92bb20f-d2f2-4e41-600d-a164e655cb05
2 &lt; X-Global-Transaction-ID: 126374ce626e90bc708d4f1f
2 &lt; Access-Control-Allow-Origin: 
2 &lt; Access-Control-Allow-Credentials: true
2 &lt; mfaCode: Nki3aAZYnA302dBjopHA8U7f7XOub5IsfBqIJH0zeq7i4yFmELKvIzrZuWbFoCs0Ma%2BWBcBrMsaOIZtxSRS8SFmOGza9VEnv3%2FH8FPVLyju7dode2PQxHxoiTpOLj%2FVsstAe5Y0vnfNDx6olyIq946rVPfPpwvwhXu%2BTdc5tpYKtep1aPOzuDqBA2R6E77J5oAlnj9oiZT1NFbYos8rxWrIA3NrFzLmHE6cUqSvgvoIUEISrOo%2BIVYa%2BF8v%2FUnCrQ768xuZuo9IJxu4im03USKtzcEyQjzDbjImaAeBE1oAz9u720LRm107rvLXSIHrYhDcoL7vzMJDsY14YmpMoXdGkNTt0pDmG2Y7xz9kC9VV4awxUziGtiv6O6efnMgA59sYoQWNqcEucCdlXCmUDPlYkExqXEwvdNla%2Brw6v%2BeznC6yHcXBvNtYGNxesPrKmFARCFdEROG96RRI7UfIbAg%3D%3D
2 &lt; X-Akamai-CITISITE: GTDC
2 &lt; Content-Length: 40
2 &lt; Date: Sun, 01 May 2022 13:53:01 GMT
2 &lt; Connection: keep-alive
2 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414381000; Expires=Mon, 27 Jul 54353 22:50:36 GMT; Domain=sandbox.apihub.citi.com; Secure
{&quot;rewardLinkCode&quot;:&quot;4703012696960006061&quot;}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.69">
      <div class="step-ref failed">69</div>
      
      <div class="step-cell failed">
        <span>Then</span>&nbsp;<span>status 400</span>
      </div>
    </div>
    <div class="time-cell failed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.69">19:23:56.700 src/test/java/com.FeatureFiles/LinkageAPI_UnitTesting.feature:69
Then status 400
status code was: 200, expected: 400, response time in milliseconds: 1831, url: https://sandbox.apihub.citi.com/gcb/api/v1/apac/rewards/linkage, response: 
{&quot;rewardLinkCode&quot;:&quot;4703012696960006061&quot;}
src/test/java/com.FeatureFiles/LinkageAPI_UnitTesting.feature:69
</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.70">
      <div class="step-ref skipped">70</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.71">
      <div class="step-ref skipped">71</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>match response.type == &#39;invalid&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.72">
      <div class="step-ref skipped">72</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>match response.code == &#39;invalidRequest&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.73">
      <div class="step-ref skipped">73</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>match response.details == &#39;Missing or invalid parameters&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
      </div>
    </div>
  </body>
</html>

