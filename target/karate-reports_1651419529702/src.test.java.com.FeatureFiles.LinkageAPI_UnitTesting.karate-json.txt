{"failedCount":1,"prefixedPath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","packageQualifiedName":"src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting","loopIndex":-1,"relativePath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":58891300,"millis":58.8913,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":534100,"millis":0.5341,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":436700,"millis":0.4367,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":372100,"millis":0.3721,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":327800,"millis":0.3278,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":1546067600,"millis":1546.0676,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:44:17.104 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:44:18.370 response time in milliseconds: 1259\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: ddade3ba626e95838507b90d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e9582-142464ab\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.205.102.68,169.175.61.93,169.177.209.51\n1 < dmz-global-txn-id: ddade3ba626e95838507b90d\n1 < X-Archived-Client-IP: 23.205.102.68,23.205.102.68,169.175.61.93\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:13:23 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415603000; Expires=Tue, 11 Aug 54353 02:37:38 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=4D92362F1937124B5D8E84C54374B487~-1~YAAQLp6yUrhY8HKAAQAAEAr4fwf+\/D\/IfUPXzBnwyMR8uw6530EceRGYbgZ9f7b\/clfIq9+DQ3Nw7wyd9gfFZBp8ok6Uy+rJZjPusXcycLG6nY1sBaqmMx\/Ss9YqT8yy7ejMdC6d0lG5YwkEB17+tO0wHIS9EJ8hFMMZtU04mS6FzAs2A\/JsNpTW7Tgb6c9SGEuXwwubQ\/EGQ7xaComysTVRL9u3zMbPeceUUDqR77lal3C9CQzE4Wkn8WPQK3LRDBLGKvXDy+va+pBCPXZc8NcZ3ieg3wz8JMi0OiBLa3\/\/zQggzWzTqKWd94F1lVhEaHLySWCiaL8lMN3rxgoUuO9MwT\/uuqBSxbvikhG0Cenh48O7l1W0gPQ=~-1~-1~-1; Max-Age=1682950403000; Expires=Mon, 27 Nov 55352 05:17:38 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=0CB37934E0BE5B746092BD9DD4F915D7~YAAQLp6yUrlY8HKAAQAAEAr4fw99ub0p5AKuEh0+mFR0Quh7JCht7HN9aYGU+sFd8QYCRhqvElpIEchQR1UEOA5tNi4KZ45qKzA8zMFbxXTUbZT2S6yHvMDQnEmmHbliN+9xBeFlMOeOR+ZwU5+oOFtytTYLJbrA3xSOwJZLPDeu6XTupBdTrY1sx6LZo0ziDtii1ZJhYj3Ll9D6sYkMZBAvuE9+xuun1qqjBg7MAJqnTz4PXke2kRnflZcS4qV\/5DFiQKjrB2QhacuW+7\/+xvy3\/6JjNVj7F01ZZJtFHFTV~4599877~3747891; Max-Age=1651428802000; Expires=Sun, 10 Jan 54354 21:00:58 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhyOH4BhqsumbJL1P76NZ_3CvK_4wF3B8jJG8FiIUpdNUcBcWOSQHk4kZyHA_AVk_Xr8STsiaJNSaijkwRX5NinvnZujq7UHjmJpZt2zkKIXl0ChGHJ9TM17CK07X9HC3ETRQH1d_ouzaifhgsZcmD1Wai11Ta6GyPdSfHp3oEca3oCn9uZeFc993R6VWAZdINxglUesZigoPbR2mJTx56Tc-NqwA3agaKxCi6B8YgXg8\", \"expires_in\":1800, \"consented_on\":1651414403, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":21000,"millis":0.021,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":54544100,"millis":54.5441,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:44:18.450 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhyOH4BhqsumbJL1P76NZ_3CvK_4wF3B8jJG8FiIUpdNUcBcWOSQHk4kZyHA_AVk_Xr8STsiaJNSaijkwRX5NinvnZujq7UHjmJpZt2zkKIXl0ChGHJ9TM17CK07X9HC3ETRQH1d_ouzaifhgsZcmD1Wai11Ta6GyPdSfHp3oEca3oCn9uZeFc993R6VWAZdINxglUesZigoPbR2mJTx56Tc-NqwA3agaKxCi6B8YgXg8\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414403,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":21671700,"millis":21.6717,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":1672400,"millis":1.6724,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":887900,"millis":0.8879,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":589400,"millis":0.5894,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:44:18.475 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhyOH4BhqsumbJL1P76NZ_3CvK_4wF3B8jJG8FiIUpdNUcBcWOSQHk4kZyHA_AVk_Xr8STsiaJNSaijkwRX5NinvnZujq7UHjmJpZt2zkKIXl0ChGHJ9TM17CK07X9HC3ETRQH1d_ouzaifhgsZcmD1Wai11Ta6GyPdSfHp3oEca3oCn9uZeFc993R6VWAZdINxglUesZigoPbR2mJTx56Tc-NqwA3agaKxCi6B8YgXg8 \n"},{"result":{"nanos":5009300,"millis":5.0093,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":236600,"millis":0.2366,"status":"passed"},"step":{"line":19,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":157100,"millis":0.1571,"status":"passed"},"step":{"line":20,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":201600,"millis":0.2016,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":231300,"millis":0.2313,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":120100,"millis":0.1201,"status":"passed"},"step":{"line":23,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":170600,"millis":0.1706,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":190800,"millis":0.1908,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":2171725800,"millis":2171.7258,"status":"passed"},"step":{"line":26,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:44:18.484 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhyOH4BhqsumbJL1P76NZ_3CvK_4wF3B8jJG8FiIUpdNUcBcWOSQHk4kZyHA_AVk_Xr8STsiaJNSaijkwRX5NinvnZujq7UHjmJpZt2zkKIXl0ChGHJ9TM17CK07X9HC3ETRQH1d_ouzaifhgsZcmD1Wai11Ta6GyPdSfHp3oEca3oCn9uZeFc993R6VWAZdINxglUesZigoPbR2mJTx56Tc-NqwA3agaKxCi6B8YgXg8\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=4D92362F1937124B5D8E84C54374B487~-1~YAAQLp6yUrhY8HKAAQAAEAr4fwf+\/D\/IfUPXzBnwyMR8uw6530EceRGYbgZ9f7b\/clfIq9+DQ3Nw7wyd9gfFZBp8ok6Uy+rJZjPusXcycLG6nY1sBaqmMx\/Ss9YqT8yy7ejMdC6d0lG5YwkEB17+tO0wHIS9EJ8hFMMZtU04mS6FzAs2A\/JsNpTW7Tgb6c9SGEuXwwubQ\/EGQ7xaComysTVRL9u3zMbPeceUUDqR77lal3C9CQzE4Wkn8WPQK3LRDBLGKvXDy+va+pBCPXZc8NcZ3ieg3wz8JMi0OiBLa3\/\/zQggzWzTqKWd94F1lVhEaHLySWCiaL8lMN3rxgoUuO9MwT\/uuqBSxbvikhG0Cenh48O7l1W0gPQ=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=0CB37934E0BE5B746092BD9DD4F915D7~YAAQLp6yUrlY8HKAAQAAEAr4fw99ub0p5AKuEh0+mFR0Quh7JCht7HN9aYGU+sFd8QYCRhqvElpIEchQR1UEOA5tNi4KZ45qKzA8zMFbxXTUbZT2S6yHvMDQnEmmHbliN+9xBeFlMOeOR+ZwU5+oOFtytTYLJbrA3xSOwJZLPDeu6XTupBdTrY1sx6LZo0ziDtii1ZJhYj3Ll9D6sYkMZBAvuE9+xuun1qqjBg7MAJqnTz4PXke2kRnflZcS4qV\/5DFiQKjrB2QhacuW+7\/+xvy3\/6JjNVj7F01ZZJtFHFTV~4599877~3747891\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:44:20.653 response time in milliseconds: 2169\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 2da757c4-9072-4b44-8fb0-067ac7e14a12\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 2d446bdf-3ee4-42f8-bace-3588282cc8de\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Vcap-Request-Id: 8d888d72-7c02-440d-4494-464268f60939\n2 < X-Global-Transaction-ID: 98b6a370626e958400f76c7f\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: fWuNGPyNTRqwI7pqCQybQHA0JIORoWi58BT73s1fseG7fi9dydMz%2FfAtE%2BRBEHynixrKdfKe4ncpl802u%2BcK2xy5CyNXnNUT0JQYSrWjAmsg2X40qUPiYxyHRJ1SKgym77eyBrLiQFE3ztGr2pX%2B%2Bq9dmmxqsRfqTHuqsfBzGEWCUtLZ%2Fc34sXE%2Bl68jCNB9%2FZvxzfrveM7NhPYnH3%2BBe8BLC2VWGOPKV%2BezU9K5lEkjHH6qZRKKauoc4YO9jJ3gpYrLNxo0%2BKyKAiPfT8oFJOG5bm91YtJT7x57ZYzjBRW13GReJhB%2B5P051xfSGIm%2FA%2BWbzOJs6p%2FzVKXVI%2BAIRFw70NgkQjzpfeGvLp4LX8FC6XXf5PoDeQc7p352h2A%2Bg31gL%2FX53cKhOVtMeI2TsT806Ujb48CTSUHdjwLqJxYrg9dryiiHaqQOS19SCtQbOieMfkEAOEhTR1fmDaIm6Q%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Vary: Accept-Encoding\n2 < Date: Sun, 01 May 2022 14:13:25 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415605000; Expires=Tue, 11 Aug 54353 03:11:00 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":27,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":571000,"millis":0.571,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"match response.rewardLinkCode != null"}}],"executorName":"main","line":18,"name":"Verify the LinkageAPI with all mandatory body parameters","description":"","durationMillis":3864.642,"startTime":1651414456777,"failed":false,"refId":"[1:18]","endTime":1651414460655,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":113700,"millis":0.1137,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":249400,"millis":0.2494,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":242100,"millis":0.2421,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":180700,"millis":0.1807,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":165700,"millis":0.1657,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":430021200,"millis":430.0212,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:44:20.660 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:44:21.088 response time in milliseconds: 427\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 98b6a370626e958681a8ee5d\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 1\n1 < X-Forwarded-For: 85.154.175.224\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < Cache-Control: no-cache, max-age=0\n1 < X-DataStream-Session-Id: a11f57161-626e9585-14247a1b\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Client-IP: 82.178.158.46,169.175.115.119,153.40.245.129\n1 < dmz-global-txn-id: 98b6a370626e958681a8ee5d\n1 < X-Archived-Client-IP: 82.178.158.46,82.178.158.46,169.175.115.119\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Vary: Accept-Encoding\n1 < Date: Sun, 01 May 2022 14:13:26 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415606000; Expires=Tue, 11 Aug 54353 03:27:41 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=02583ACB8ABA551A1043E20D487331B1~-1~YAAQLp6yUr1Y8HKAAQAAwxT4fwdUL9Yps9W3Hch3kTFe6PQJC99U9Xibz00UfjwsItxbMtDTGpx5X7z1CGNnS+HBkpYxei2+796pgxCT4CmuiYuctP3khm10HRzO55PMUt+t1KTc5gP18eYn2a8Wur0IwOgZAK2QxxHHY+12E88+YYmz9ZBJwmSVK+nfZ9+HMGLtrbwgx53kbEClLqSGluWYi1VeFe7Ahl9mqPEVv7D9cS8t9xQtcoTPYXTSxTw4L\/NxiuyYSwmEZW13YVGim\/a1LgHvPO3lKl8MjvOxhWNBrHd0oE4gDrCQU67ffgBWv8FJx5WClFNxQebz82K2CZeSUjlG7+YnGv2MSGbs8eXm+LQclDlcnok=~-1~-1~-1; Max-Age=1682950406000; Expires=Mon, 27 Nov 55352 06:07:41 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=7690114E8DFBF549F0E9549409982607~YAAQLp6yUr5Y8HKAAQAAwxT4fw97pA4npyruVThRjy1C8eL8cUHqRLHiZWhTdxzipu59Rl4D3WhJKZTmcSUTDa+CIB6l9V8wqRB2N9Q6TrihZ5rvCEVYlvwy9JoaRpfhcxliMgPuytZ3tG0dF5dQT0JwY2GtM\/LGBAYGrRwTED8NOaWNM7ZxhYemEnoyj9vPO7HdjXNOo6hyRQYjCaxwnojDDcwUsYqu\/de9cnDTSOln4tZ74vaM5v94RpJ6daY6u4caH28RrnRn+J5bOD+wlM4lrUvwUIm52DISiv9o50vs~4407603~3354930; Max-Age=1651428805000; Expires=Sun, 10 Jan 54354 21:51:01 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh_nm5hCNzYIRX6Hs_V8PEWsG-lOXrUH5sODHL3eY8IF64fo6muUjgsycO6brHXJdZxJi7Ty0u7iO5UtUeU7ntljjtvChK5FSDXjtK0yFpVQ2zpzWnanReA3mEMmikGs9kbJEwDhQp3JA3IJP_4AyUNgPB_jqN1y5xt_Xtg8Mj0IETI28YoDw2V3uLRFvEYLkeVoVXVozjxfpGPlc-6v1PM6ukvLCsY4kKAPAAmN0jFIo\", \"expires_in\":1800, \"consented_on\":1651414406, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":60900,"millis":0.0609,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":923700,"millis":0.9237,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:44:21.091 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh_nm5hCNzYIRX6Hs_V8PEWsG-lOXrUH5sODHL3eY8IF64fo6muUjgsycO6brHXJdZxJi7Ty0u7iO5UtUeU7ntljjtvChK5FSDXjtK0yFpVQ2zpzWnanReA3mEMmikGs9kbJEwDhQp3JA3IJP_4AyUNgPB_jqN1y5xt_Xtg8Mj0IETI28YoDw2V3uLRFvEYLkeVoVXVozjxfpGPlc-6v1PM6ukvLCsY4kKAPAAmN0jFIo\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414406,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":556400,"millis":0.5564,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":251500,"millis":0.2515,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":274400,"millis":0.2744,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":313800,"millis":0.3138,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:44:21.093 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh_nm5hCNzYIRX6Hs_V8PEWsG-lOXrUH5sODHL3eY8IF64fo6muUjgsycO6brHXJdZxJi7Ty0u7iO5UtUeU7ntljjtvChK5FSDXjtK0yFpVQ2zpzWnanReA3mEMmikGs9kbJEwDhQp3JA3IJP_4AyUNgPB_jqN1y5xt_Xtg8Mj0IETI28YoDw2V3uLRFvEYLkeVoVXVozjxfpGPlc-6v1PM6ukvLCsY4kKAPAAmN0jFIo \n"},{"result":{"nanos":183900,"millis":0.1839,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":101500,"millis":0.1015,"status":"passed"},"step":{"line":31,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":65600,"millis":0.0656,"status":"passed"},"step":{"line":32,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":94000,"millis":0.094,"status":"passed"},"step":{"line":33,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":78700,"millis":0.0787,"status":"passed"},"step":{"line":34,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":71900,"millis":0.0719,"status":"passed"},"step":{"line":35,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":103000,"millis":0.103,"status":"passed"},"step":{"line":36,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":673300,"millis":0.6733,"status":"passed"},"step":{"line":37,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":6690296700,"millis":6690.2967,"status":"passed"},"step":{"line":38,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:44:21.096 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh_nm5hCNzYIRX6Hs_V8PEWsG-lOXrUH5sODHL3eY8IF64fo6muUjgsycO6brHXJdZxJi7Ty0u7iO5UtUeU7ntljjtvChK5FSDXjtK0yFpVQ2zpzWnanReA3mEMmikGs9kbJEwDhQp3JA3IJP_4AyUNgPB_jqN1y5xt_Xtg8Mj0IETI28YoDw2V3uLRFvEYLkeVoVXVozjxfpGPlc-6v1PM6ukvLCsY4kKAPAAmN0jFIo\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=02583ACB8ABA551A1043E20D487331B1~-1~YAAQLp6yUr1Y8HKAAQAAwxT4fwdUL9Yps9W3Hch3kTFe6PQJC99U9Xibz00UfjwsItxbMtDTGpx5X7z1CGNnS+HBkpYxei2+796pgxCT4CmuiYuctP3khm10HRzO55PMUt+t1KTc5gP18eYn2a8Wur0IwOgZAK2QxxHHY+12E88+YYmz9ZBJwmSVK+nfZ9+HMGLtrbwgx53kbEClLqSGluWYi1VeFe7Ahl9mqPEVv7D9cS8t9xQtcoTPYXTSxTw4L\/NxiuyYSwmEZW13YVGim\/a1LgHvPO3lKl8MjvOxhWNBrHd0oE4gDrCQU67ffgBWv8FJx5WClFNxQebz82K2CZeSUjlG7+YnGv2MSGbs8eXm+LQclDlcnok=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=7690114E8DFBF549F0E9549409982607~YAAQLp6yUr5Y8HKAAQAAwxT4fw97pA4npyruVThRjy1C8eL8cUHqRLHiZWhTdxzipu59Rl4D3WhJKZTmcSUTDa+CIB6l9V8wqRB2N9Q6TrihZ5rvCEVYlvwy9JoaRpfhcxliMgPuytZ3tG0dF5dQT0JwY2GtM\/LGBAYGrRwTED8NOaWNM7ZxhYemEnoyj9vPO7HdjXNOo6hyRQYjCaxwnojDDcwUsYqu\/de9cnDTSOln4tZ74vaM5v94RpJ6daY6u4caH28RrnRn+J5bOD+wlM4lrUvwUIm52DISiv9o50vs~4407603~3354930\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:44:27.784 response time in milliseconds: 6687\n2 < 400\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 9010775e-016b-486e-acca-897fe01a3e31\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: b230f205-1d69-4d3b-8fa3-0bf52107097a\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n2 < X-Vcap-Request-Id: bb112e18-ce8e-4a34-5199-9afb292520d3\n2 < X-Global-Transaction-ID: 98b6a370626e958681a8f12d\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: HviE11yqndPz0WZU4DvpxKEJBWhO3I%2BvUTfc%2BnhKkMzNCmMwHvNcRc1JNT6U9VRTSv%2F%2FxTAJdSm6X%2FPRzU%2B3l%2Flqon%2Fc30K203KUxInIKuiJLmx7nRZSB0nmdNqAIkGVlETVF0KsUyx41d3U4Miim6uNrlOMRh19Z5YVayWiDe6J5UNqPJ32BDFbMdYzDo0te5kFCWF91qUneNt0gMkIePSfQdQXl6dszpdQIg%2BaBUFBI2SOksmMo4CY9sOcDir4ZFuOV8bDvri66%2B0WmmB79bSl1WYu5zDD7Cnj6F6wn5VAA9YWinsZgjhnlTo18kdahH37y5jNQE4zCVP1Nno96gWIfPn9v0GLa8q0S7e4PQ%2B9LUdK4s8lfTZXhhhnuQgIAqvquQV5K%2FOy%2FJsRoUhQTNWvCn1icYzOKdV8q%2BLM1kgo%2FmBdH1hsJx8lzjhfPXwqp6be80y%2FTBW7RRsQooSdPg%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Date: Sun, 01 May 2022 14:13:33 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415613000; Expires=Tue, 11 Aug 54353 05:24:27 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"type\":\"invalid\",\"code\":\"invalidRequest\",\"details\":\"Missing or invalid parameters\"}\n\n"},{"result":{"nanos":21200,"millis":0.0212,"status":"passed"},"step":{"line":39,"prefix":"Then","index":8,"text":"status 400"}},{"result":{"nanos":1191300,"millis":1.1913,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:44:27.787 [print] {\n  \"type\": \"invalid\",\n  \"code\": \"invalidRequest\",\n  \"details\": \"Missing or invalid parameters\"\n}\n \n"},{"result":{"nanos":1628200,"millis":1.6282,"status":"passed"},"step":{"line":41,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":675900,"millis":0.6759,"status":"passed"},"step":{"line":42,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":657400,"millis":0.6574,"status":"passed"},"step":{"line":43,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"executorName":"main","line":30,"name":"Verify the LinkageAPI with invalid lastFourDigitsCardNumber in body parameters","description":"","durationMillis":7129.1961,"startTime":1651414460658,"failed":false,"refId":"[2:30]","endTime":1651414467790,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":142300,"millis":0.1423,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":83900,"millis":0.0839,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":141400,"millis":0.1414,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":127200,"millis":0.1272,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":112000,"millis":0.112,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":482297900,"millis":482.2979,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:44:27.796 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:44:28.275 response time in milliseconds: 478\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 14744989626e958d266954cf\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e958d-1424ac52\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.47.59.12,169.175.61.90,153.40.245.129\n1 < dmz-global-txn-id: 14744989626e958d266954cf\n1 < X-Archived-Client-IP: 23.47.59.12,23.47.59.12,169.175.61.90\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:13:33 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415613000; Expires=Tue, 11 Aug 54353 05:24:28 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=6F1AFB03815830150C6D376367A93611~-1~YAAQLp6yUtBY8HKAAQAA3DD4fwfkxgVHNVJ1141DKJkbw9ZfzCYj8J\/FPZFN2aGInAnHikp9DruFxWibFV75MThuBNnHOiOcLZ+\/krBqtOT2BO\/WC9VE2TzJSIPvPzGVoA7dmanKe2EV7cK+9GYGYeFnnCufB9or6W8CiSKhJwyK8E5ycogtb3tDhFTsqymEunjOZ9ILM4Io7wptSlcQe5BfbiNkgDIEnXdEay\/RX8MgfJCxYfAj73QL69RuxkFXEyXlKIMMUIy2VNZppLP3XGTox8K98m8lAbQjIBf0vVb+0VGXaOSy1LrYpR6HFlI8a\/HTtrulJkWQruNBh9wKNNscKD1x13GcreOia9Rm2J7yx3f1GbQ9ff0=~-1~-1~-1; Max-Age=1682950413000; Expires=Mon, 27 Nov 55352 08:04:28 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=8321F411DB9F11D5D48AB1A59B6CE8F7~YAAQLp6yUtFY8HKAAQAA3DD4fw9p6XXJ1RIxc0RpcCEPUSXQtmpmQqm3DqAllAgPa6TLBG+hXrMR8Kgs7RpvsyiRjP3q+pLYZUrZu8Yxwb6phaUElZdnfQ\/ykEW8asMMUeF9q8IYmmrnE0dYr\/TyM3D24pLMBpzBLMRwLt6mrP5aEW7k0iNUfyREvpLt5TW\/zioacPEq1dr4RgJvZe9Vq\/O1K+gZczQCZe66vZnOawBFRYFq+p2Ajn7u+EG1rrv2V3OVQQ0hT3uYLbses6Ng6wfq2\/QJpqUmB92R9Yc\/WZWr~4405553~3486518; Max-Age=1651428813000; Expires=Mon, 11 Jan 54354 00:04:28 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhL3HBq9xYEqt7oKItvG1TtyNoWum6PqU3qRoGozxnyTgQS3k1eKdIS4veulhvXppxgccs8Wx9bjfHuySZ3iDmB-j9_TE-dkLHz_yx1LGASVocgFiqwWO8s0Vq6n3mzMCl_cGddw_4f98SERUb9cvPvWeUd-UWTK4n3ELG-SOHl1t8uNadsvJ35lPj_N5KaDbbAbByxZFo-hcChr2DFe6P87McSsR_BfjNVmGAb5lur6c\", \"expires_in\":1800, \"consented_on\":1651414413, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":1260000,"millis":1.26,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:44:28.278 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhL3HBq9xYEqt7oKItvG1TtyNoWum6PqU3qRoGozxnyTgQS3k1eKdIS4veulhvXppxgccs8Wx9bjfHuySZ3iDmB-j9_TE-dkLHz_yx1LGASVocgFiqwWO8s0Vq6n3mzMCl_cGddw_4f98SERUb9cvPvWeUd-UWTK4n3ELG-SOHl1t8uNadsvJ35lPj_N5KaDbbAbByxZFo-hcChr2DFe6P87McSsR_BfjNVmGAb5lur6c\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414413,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":1089200,"millis":1.0892,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":884500,"millis":0.8845,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":539700,"millis":0.5397,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":669700,"millis":0.6697,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:44:28.282 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhL3HBq9xYEqt7oKItvG1TtyNoWum6PqU3qRoGozxnyTgQS3k1eKdIS4veulhvXppxgccs8Wx9bjfHuySZ3iDmB-j9_TE-dkLHz_yx1LGASVocgFiqwWO8s0Vq6n3mzMCl_cGddw_4f98SERUb9cvPvWeUd-UWTK4n3ELG-SOHl1t8uNadsvJ35lPj_N5KaDbbAbByxZFo-hcChr2DFe6P87McSsR_BfjNVmGAb5lur6c \n"},{"result":{"nanos":417000,"millis":0.417,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":198300,"millis":0.1983,"status":"passed"},"step":{"line":46,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":139600,"millis":0.1396,"status":"passed"},"step":{"line":47,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":137700,"millis":0.1377,"status":"passed"},"step":{"line":48,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":912700,"millis":0.9127,"status":"passed"},"step":{"line":49,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":272400,"millis":0.2724,"status":"passed"},"step":{"line":50,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":260600,"millis":0.2606,"status":"passed"},"step":{"line":51,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":974600,"millis":0.9746,"status":"passed"},"step":{"line":52,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":4681765400,"millis":4681.7654,"status":"passed"},"step":{"line":53,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:44:28.289 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhL3HBq9xYEqt7oKItvG1TtyNoWum6PqU3qRoGozxnyTgQS3k1eKdIS4veulhvXppxgccs8Wx9bjfHuySZ3iDmB-j9_TE-dkLHz_yx1LGASVocgFiqwWO8s0Vq6n3mzMCl_cGddw_4f98SERUb9cvPvWeUd-UWTK4n3ELG-SOHl1t8uNadsvJ35lPj_N5KaDbbAbByxZFo-hcChr2DFe6P87McSsR_BfjNVmGAb5lur6c\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=6F1AFB03815830150C6D376367A93611~-1~YAAQLp6yUtBY8HKAAQAA3DD4fwfkxgVHNVJ1141DKJkbw9ZfzCYj8J\/FPZFN2aGInAnHikp9DruFxWibFV75MThuBNnHOiOcLZ+\/krBqtOT2BO\/WC9VE2TzJSIPvPzGVoA7dmanKe2EV7cK+9GYGYeFnnCufB9or6W8CiSKhJwyK8E5ycogtb3tDhFTsqymEunjOZ9ILM4Io7wptSlcQe5BfbiNkgDIEnXdEay\/RX8MgfJCxYfAj73QL69RuxkFXEyXlKIMMUIy2VNZppLP3XGTox8K98m8lAbQjIBf0vVb+0VGXaOSy1LrYpR6HFlI8a\/HTtrulJkWQruNBh9wKNNscKD1x13GcreOia9Rm2J7yx3f1GbQ9ff0=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=8321F411DB9F11D5D48AB1A59B6CE8F7~YAAQLp6yUtFY8HKAAQAA3DD4fw9p6XXJ1RIxc0RpcCEPUSXQtmpmQqm3DqAllAgPa6TLBG+hXrMR8Kgs7RpvsyiRjP3q+pLYZUrZu8Yxwb6phaUElZdnfQ\/ykEW8asMMUeF9q8IYmmrnE0dYr\/TyM3D24pLMBpzBLMRwLt6mrP5aEW7k0iNUfyREvpLt5TW\/zioacPEq1dr4RgJvZe9Vq\/O1K+gZczQCZe66vZnOawBFRYFq+p2Ajn7u+EG1rrv2V3OVQQ0hT3uYLbses6Ng6wfq2\/QJpqUmB92R9Yc\/WZWr~4405553~3486518\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:44:32.968 response time in milliseconds: 4678\n2 < 400\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: df53199d-6591-48f5-935d-a83cc5104e1c\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: b06397f5-ec8e-408d-aeb7-beafb4f129b0\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n2 < X-Vcap-Request-Id: 97d432c8-a168-4ec1-4d59-367eb95db860\n2 < X-Global-Transaction-ID: 98b6a370626e958d00f7ff1f\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: 3Oiv51cxiLRJJgvpslAI7YnVFjFI1Y4ivV4LlkizIgkyPleXrKhNWvxM3BF2xOKocNAJJyOlPMa2HbplM2bBFWdE9R9NM5dnNqqwjUnpqyEMXSV418lfgJs7q6cVwYKu978%2FwbSS%2FQLodvIGmhiad5lkkQhMY1tSJheMk2mOL1p0Wi6KlEIhgkIpUnE74YzsWXmmSgISXRqjao%2Fz0GmBmX9l0L9344nyEzvtdNc%2BUgzsgHbRBA6Fy2krQ6ybGR%2Fm55lbCQwOom%2Ffq3skWyKOBkacl7B4obOdboj3pEr%2Bc5evs9ZiAV6XTZqtHOXb94BUgVXNTXYbLeCERQNnPRWrvo1fyu3OZOTOIUrbp%2BDuwHANc4tIQQ9ChvhCcyqYWMqsWLl9QWpXaMlJFMWQjBAlnVfR%2FSC3KscLSygesAZtq7LCnpeR5r1uYEkv2u6R8R9UMc5acUGdk7Y%2B%2BVautG7VBA%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Date: Sun, 01 May 2022 14:13:38 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415618000; Expires=Tue, 11 Aug 54353 06:47:52 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"type\":\"invalid\",\"code\":\"invalidRequest\",\"details\":\"Missing or invalid parameters\"}\n\n"},{"result":{"nanos":10700,"millis":0.0107,"status":"passed"},"step":{"line":54,"prefix":"Then","index":8,"text":"status 400"}},{"result":{"nanos":604900,"millis":0.6049,"status":"passed"},"step":{"line":55,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:44:32.969 [print] {\n  \"type\": \"invalid\",\n  \"code\": \"invalidRequest\",\n  \"details\": \"Missing or invalid parameters\"\n}\n \n"},{"result":{"nanos":345800,"millis":0.3458,"status":"passed"},"step":{"line":56,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":830700,"millis":0.8307,"status":"passed"},"step":{"line":57,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":639800,"millis":0.6398,"status":"passed"},"step":{"line":58,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"executorName":"main","line":45,"name":"Verify the LinkageAPI with invalid citiCardHolderPhoneNumber in body parameters","description":"","durationMillis":5174.8806,"startTime":1651414467794,"failed":false,"refId":"[3:45]","endTime":1651414472971,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":248100,"millis":0.2481,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":146200,"millis":0.1462,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":187600,"millis":0.1876,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":183300,"millis":0.1833,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":135500,"millis":0.1355,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":456376400,"millis":456.3764,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:44:32.981 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:44:33.434 response time in milliseconds: 453\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: ddade3ba626e95925407e195\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e9592-1424d294\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.64.120.195,169.175.61.93,153.40.245.130\n1 < dmz-global-txn-id: ddade3ba626e95925407e195\n1 < X-Archived-Client-IP: 23.64.120.195,23.64.120.195,169.175.61.93\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,57;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:13:38 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415618000; Expires=Tue, 11 Aug 54353 06:47:53 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=E8E7D642F2E5EAF182F1E359DC7CC37E~-1~YAAQLp6yUtRY8HKAAQAACUX4fwe78NKtJLXhHVPhH+AVamsCeI+KnW1DeXfgJeUBxsynf5QikXC1fXWK0mDKMx1WQde3lkUwhhKpw7qZ4X2MdARgkMIAuJpKrElojTS9WOIWkdssmorwF7IgoDhszujHEjZC2E3NBbepCX2pyIdBnCFW4JNXd99UTNJ\/TluRWRIVxRsK1ccra890fh99uXM2n9qMGTOwwZ4Su9Uqn2g5v\/glIs\/ltLYPuOb9unDZO3mRPei7XlZR\/EFKY9HY3e1wmFZbnZDJSpGO2VOfx19fG6lwEoTCoKgxeIJjbCdrwGyDTxzXKzzHN6HqEyzASQiAkCkY6u2LqLwh12Ihl5uj4g+HYJYZJlo=~-1~-1~-1; Max-Age=1682950418000; Expires=Mon, 27 Nov 55352 09:27:53 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=37D81C348AD25582050D1FB304A285D4~YAAQLp6yUtVY8HKAAQAACUX4fw+kW4t2Yi44AXe6e6Bs4f5SG6toEaih4sOBk0xfodH5BQCFalKFeFnJwvwtJgVpOkll6FV462qjYep4fTbLGPMUGBS+raMKSFjFzXEeTB8e7pt\/UJYVjHrqNiA79bTD5X+2hcd8NvnNJH0cXQLb7ENhgETqm89uaOwu3c45XtdOVada2rRzQiLRqO1Hanrq3Jik5xf+UVwtJC8\/r5rwslFcnwZFWvlkWqi8eBOU+BbvGjcxKihe79dtn9kY3I9Q9Apf+VmG7mlXXyqkHk\/8~4601925~4536624; Max-Age=1651428818000; Expires=Mon, 11 Jan 54354 01:27:53 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhR1XhlE-TKF47uOV5ofpmFAteeJ_IkAfCswCwfSZv3TIQ2tiaGJpFe0M01Rw_ripsHPykbWsdS9z4VvMOsGM0wtnFNzZ3vISMbGoHFsYluR5J2_oYi3MIPfbJr_PckWcHq_s_kBNLI9pUT4e1GULehrNCZDwlUrY8sFbRXDQH6nw-TuDTHSuz1XUZP0THFn16NDPZKsupb1cldsxY7S2qZGzpTLW1IQoTpzU8I5c4NxU\", \"expires_in\":1800, \"consented_on\":1651414418, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":980800,"millis":0.9808,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:44:33.437 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhR1XhlE-TKF47uOV5ofpmFAteeJ_IkAfCswCwfSZv3TIQ2tiaGJpFe0M01Rw_ripsHPykbWsdS9z4VvMOsGM0wtnFNzZ3vISMbGoHFsYluR5J2_oYi3MIPfbJr_PckWcHq_s_kBNLI9pUT4e1GULehrNCZDwlUrY8sFbRXDQH6nw-TuDTHSuz1XUZP0THFn16NDPZKsupb1cldsxY7S2qZGzpTLW1IQoTpzU8I5c4NxU\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414418,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":924800,"millis":0.9248,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":645500,"millis":0.6455,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":352700,"millis":0.3527,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":456200,"millis":0.4562,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:44:33.440 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhR1XhlE-TKF47uOV5ofpmFAteeJ_IkAfCswCwfSZv3TIQ2tiaGJpFe0M01Rw_ripsHPykbWsdS9z4VvMOsGM0wtnFNzZ3vISMbGoHFsYluR5J2_oYi3MIPfbJr_PckWcHq_s_kBNLI9pUT4e1GULehrNCZDwlUrY8sFbRXDQH6nw-TuDTHSuz1XUZP0THFn16NDPZKsupb1cldsxY7S2qZGzpTLW1IQoTpzU8I5c4NxU \n"},{"result":{"nanos":365900,"millis":0.3659,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":195300,"millis":0.1953,"status":"passed"},"step":{"line":61,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":123900,"millis":0.1239,"status":"passed"},"step":{"line":62,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":138500,"millis":0.1385,"status":"passed"},"step":{"line":63,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":215100,"millis":0.2151,"status":"passed"},"step":{"line":64,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":213800,"millis":0.2138,"status":"passed"},"step":{"line":65,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":228000,"millis":0.228,"status":"passed"},"step":{"line":66,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":916200,"millis":0.9162,"status":"passed"},"step":{"line":67,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"!@#$%^&*()_+\"}'"}},{"result":{"nanos":1050484100,"millis":1050.4841,"status":"passed"},"step":{"line":68,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:44:33.446 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhR1XhlE-TKF47uOV5ofpmFAteeJ_IkAfCswCwfSZv3TIQ2tiaGJpFe0M01Rw_ripsHPykbWsdS9z4VvMOsGM0wtnFNzZ3vISMbGoHFsYluR5J2_oYi3MIPfbJr_PckWcHq_s_kBNLI9pUT4e1GULehrNCZDwlUrY8sFbRXDQH6nw-TuDTHSuz1XUZP0THFn16NDPZKsupb1cldsxY7S2qZGzpTLW1IQoTpzU8I5c4NxU\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=E8E7D642F2E5EAF182F1E359DC7CC37E~-1~YAAQLp6yUtRY8HKAAQAACUX4fwe78NKtJLXhHVPhH+AVamsCeI+KnW1DeXfgJeUBxsynf5QikXC1fXWK0mDKMx1WQde3lkUwhhKpw7qZ4X2MdARgkMIAuJpKrElojTS9WOIWkdssmorwF7IgoDhszujHEjZC2E3NBbepCX2pyIdBnCFW4JNXd99UTNJ\/TluRWRIVxRsK1ccra890fh99uXM2n9qMGTOwwZ4Su9Uqn2g5v\/glIs\/ltLYPuOb9unDZO3mRPei7XlZR\/EFKY9HY3e1wmFZbnZDJSpGO2VOfx19fG6lwEoTCoKgxeIJjbCdrwGyDTxzXKzzHN6HqEyzASQiAkCkY6u2LqLwh12Ihl5uj4g+HYJYZJlo=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=37D81C348AD25582050D1FB304A285D4~YAAQLp6yUtVY8HKAAQAACUX4fw+kW4t2Yi44AXe6e6Bs4f5SG6toEaih4sOBk0xfodH5BQCFalKFeFnJwvwtJgVpOkll6FV462qjYep4fTbLGPMUGBS+raMKSFjFzXEeTB8e7pt\/UJYVjHrqNiA79bTD5X+2hcd8NvnNJH0cXQLb7ENhgETqm89uaOwu3c45XtdOVada2rRzQiLRqO1Hanrq3Jik5xf+UVwtJC8\/r5rwslFcnwZFWvlkWqi8eBOU+BbvGjcxKihe79dtn9kY3I9Q9Apf+VmG7mlXXyqkHk\/8~4601925~4536624\n2 > Content-Length: 123\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"!@#$%^&*()_+\"}\n\n19:44:34.493 response time in milliseconds: 1047\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: fd37ed04-7c38-41c3-a234-8ddad5792d46\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: c647b57f-4671-445b-8060-c308e101d06a\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n2 < X-Vcap-Request-Id: 918651e8-a474-428b-60a1-aaecd7657779\n2 < X-Global-Transaction-ID: 98b6a370626e959281a959cd\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: ZfIZ3MrY3%2FrA3oOpRglFr%2BRpbWoZmT4hKy5Uxy%2FpwIeeAOniTz3C3dXCvnJ%2F07tC7JSfy5843lUT%2FxJHH440G2pQWCZDYmOgcbQRY5exFR53mUVQhkjOjp1S0ImH7gvUPHkfhg%2FMvbDBKXnAzE5wuG3HexF61zcH3WeW9zbeF7P%2BlFahV4cvQGQ59OxqyPw7i6CPTFHJuZZ6Y%2BaCpeFutACYUBemI9KAo0JBb2Sz1JkcJkB%2FPJLm%2B2zljAAWGvGeLhk74OX0dlgu4ReM334tSsCTCxYT5T6Hdqdso%2Bp6Ahgev0iOu4meMWcWrCdR2uO%2FVPASVfS%2BhB6btmjcnmwAtnhVp1Ouw7khV%2B0mEuseX4fF4PnvyxoA5VRSH%2BEmF8NG1U32Ga6wbSl3R%2FHKKWd24cn9qe0Oz5xr0Woxs55%2BXXWqfoGuRV9ExFmdeodsIZRF%2FaFi70Ebdm6nRvaAeLbQdg%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Vary: Accept-Encoding\n2 < Date: Sun, 01 May 2022 14:13:39 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415619000; Expires=Tue, 11 Aug 54353 07:04:34 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":188000,"errorMessage":"status code was: 200, expected: 400, response time in milliseconds: 1047, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","millis":0.188,"status":"failed"},"step":{"line":69,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"19:44:34.495 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\nThen status 400\nstatus code was: 200, expected: 400, response time in milliseconds: 1047, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":70,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":71,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":72,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":73,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":60,"description":"","durationMillis":1513.7252,"failed":true,"error":"status code was: 200, expected: 400, response time in milliseconds: 1047, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","executorName":"main","name":"Verify the LinkageAPI with invalid merchantCustomerReferenceId in body parameters","startTime":1651414472978,"refId":"[4:60]","endTime":1651414474495,"exampleIndex":-1},{"sectionIndex":4,"stepResults":[{"result":{"nanos":339500,"millis":0.3395,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":148900,"millis":0.1489,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":184500,"millis":0.1845,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":185500,"millis":0.1855,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":173000,"millis":0.173,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":419733700,"millis":419.7337,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:44:34.506 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:44:34.921 response time in milliseconds: 414\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 98b6a370626e959300f8746f\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 1\n1 < X-Forwarded-For: 85.154.175.224\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < Cache-Control: no-cache, max-age=0\n1 < X-DataStream-Session-Id: a11f57161-626e9593-1424de49\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Client-IP: 82.178.158.46,169.175.115.119,153.40.245.131\n1 < dmz-global-txn-id: 98b6a370626e959300f8746f\n1 < X-Archived-Client-IP: 82.178.158.46,82.178.158.46,169.175.115.119\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,56;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Vary: Accept-Encoding\n1 < Date: Sun, 01 May 2022 14:13:40 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415620000; Expires=Tue, 11 Aug 54353 07:21:14 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=61BC76B62FCFB4E994AEB001DD18BC20~-1~YAAQLp6yUtlY8HKAAQAA10r4fwdoOW06IqCon1G\/AU6JLYiN\/ZxmJgLNW1Rsh9VmFyLJMfTyUkr9mU5fszPhAGG04+qdO9IF51q4zCcyjouVXOlSbGz1mWUFzGLYty40w3YK1hTqJDhsRQtFurK5PGseG5eUcFRB9ybKBwTKMrz+SjZsNOvHSPy0C+7qgkGOFbWyw+gsLypgfuhk0T91sifaLU7phfNUmynjyYFwIW3NDwR\/\/5o88\/ls2dKBmAWIPilZ4\/HkYqDYPRZC0Ss4PIlkGUWuQ\/VT6yA2wwdsT2QCQxyvmMI2CN5OtFybeQ6NMLZcnALNrjou4PMEUJzkC+XDZuMFrNxxZgzGM9CMQBuW0agsV1E+JLY=~-1~-1~-1; Max-Age=1682950420000; Expires=Mon, 27 Nov 55352 10:01:14 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=5A3571649900D585EF9E79978927D873~YAAQLp6yUtpY8HKAAQAA10r4fw\/NRoNgjcyRdipZ7qsX0chCZ8rdx3L2ZQrUF50V4uBpeQTQx2ydqiApMS97lvRjWZyZV1krGlbGEvZMV1P4QVSnlTCq7mFEuuRVRjgasTRydbSrwk9EUrNtXA4Tpc1+xH\/1S7A8nftYFU3yxhkgmKi3GEcDh486zhibvghcd+hO9WTFrpXT\/mKzHOhgp5mQ6nf2J7r9TtnsI7w3iC17sAyjQnz5CXEJv6IDGgYMMrfpMJMfhGwFIA8\/YBa45\/nY2UJVsAmL04ne2ICyYQ+y~3162425~3160119; Max-Age=1651428819000; Expires=Mon, 11 Jan 54354 01:44:34 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhB51DRN5sFNiHcsbYvNZEaGKX4BLsEmulYT0FsBR8n-NVryvgIn12NAWBN1Vva6FPBKK36UW7VI4nmsB2wDYAWBeWH5JYxzFGmPLhAMRMLAPZHeBilIsgsgZc6Fu_zAOYFHxW1_uIKYBqXm5kwy0NZBzqqLae3PdjesMzAAqT_HGZI7YANA2ZF6zpm8A4pZVATorRM2wAZY3hJ24NPlUY4Jr7R-85YVXW4bbbBBM9AmY\", \"expires_in\":1800, \"consented_on\":1651414420, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":1285400,"millis":1.2854,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:44:34.924 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhB51DRN5sFNiHcsbYvNZEaGKX4BLsEmulYT0FsBR8n-NVryvgIn12NAWBN1Vva6FPBKK36UW7VI4nmsB2wDYAWBeWH5JYxzFGmPLhAMRMLAPZHeBilIsgsgZc6Fu_zAOYFHxW1_uIKYBqXm5kwy0NZBzqqLae3PdjesMzAAqT_HGZI7YANA2ZF6zpm8A4pZVATorRM2wAZY3hJ24NPlUY4Jr7R-85YVXW4bbbBBM9AmY\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414420,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":1929600,"millis":1.9296,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":741900,"millis":0.7419,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":478600,"millis":0.4786,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":668500,"millis":0.6685,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:44:34.929 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhB51DRN5sFNiHcsbYvNZEaGKX4BLsEmulYT0FsBR8n-NVryvgIn12NAWBN1Vva6FPBKK36UW7VI4nmsB2wDYAWBeWH5JYxzFGmPLhAMRMLAPZHeBilIsgsgZc6Fu_zAOYFHxW1_uIKYBqXm5kwy0NZBzqqLae3PdjesMzAAqT_HGZI7YANA2ZF6zpm8A4pZVATorRM2wAZY3hJ24NPlUY4Jr7R-85YVXW4bbbBBM9AmY \n"},{"result":{"nanos":390800,"millis":0.3908,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":168800,"millis":0.1688,"status":"passed"},"step":{"line":77,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":113300,"millis":0.1133,"status":"passed"},"step":{"line":78,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":638500,"millis":0.6385,"status":"passed"},"step":{"line":79,"prefix":"And","index":2,"text":"header Authorization = 'Bearer 123456'"}},{"result":{"nanos":184700,"millis":0.1847,"status":"passed"},"step":{"line":80,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":147500,"millis":0.1475,"status":"passed"},"step":{"line":81,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":143500,"millis":0.1435,"status":"passed"},"step":{"line":82,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":151800,"millis":0.1518,"status":"passed"},"step":{"line":83,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":332952500,"millis":332.9525,"status":"passed"},"step":{"line":84,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:44:34.933 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer 123456\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=61BC76B62FCFB4E994AEB001DD18BC20~-1~YAAQLp6yUtlY8HKAAQAA10r4fwdoOW06IqCon1G\/AU6JLYiN\/ZxmJgLNW1Rsh9VmFyLJMfTyUkr9mU5fszPhAGG04+qdO9IF51q4zCcyjouVXOlSbGz1mWUFzGLYty40w3YK1hTqJDhsRQtFurK5PGseG5eUcFRB9ybKBwTKMrz+SjZsNOvHSPy0C+7qgkGOFbWyw+gsLypgfuhk0T91sifaLU7phfNUmynjyYFwIW3NDwR\/\/5o88\/ls2dKBmAWIPilZ4\/HkYqDYPRZC0Ss4PIlkGUWuQ\/VT6yA2wwdsT2QCQxyvmMI2CN5OtFybeQ6NMLZcnALNrjou4PMEUJzkC+XDZuMFrNxxZgzGM9CMQBuW0agsV1E+JLY=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=5A3571649900D585EF9E79978927D873~YAAQLp6yUtpY8HKAAQAA10r4fw\/NRoNgjcyRdipZ7qsX0chCZ8rdx3L2ZQrUF50V4uBpeQTQx2ydqiApMS97lvRjWZyZV1krGlbGEvZMV1P4QVSnlTCq7mFEuuRVRjgasTRydbSrwk9EUrNtXA4Tpc1+xH\/1S7A8nftYFU3yxhkgmKi3GEcDh486zhibvghcd+hO9WTFrpXT\/mKzHOhgp5mQ6nf2J7r9TtnsI7w3iC17sAyjQnz5CXEJv6IDGgYMMrfpMJMfhGwFIA8\/YBa45\/nY2UJVsAmL04ne2ICyYQ+y~3162425~3160119\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:44:35.264 response time in milliseconds: 330\n2 < 401\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Credentials: true\n2 < WWW-Authenticate: Bearer error=\"invalid_token\"\n2 < X-Global-Transaction-ID: 98b6a370626e959481a96a7d\n2 < X-Akamai-CITISITE: GTDC\n2 < Date: Sun, 01 May 2022 14:13:40 GMT\n2 < Transfer-Encoding: chunked\n2 < Connection: close\n2 < Connection: Transfer-Encoding\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415620000; Expires=Tue, 11 Aug 54353 07:21:15 GMT; Domain=sandbox.apihub.citi.com; Secure\n{ \"type\":\"unAuthorized\", \"code\":\"401\", \"details\":\"Authorization credentials are missing or invalid\" }\n\n"},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":85,"prefix":"Then","index":8,"text":"status 401"}},{"result":{"nanos":906600,"millis":0.9066,"status":"passed"},"step":{"line":86,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:44:35.266 [print] {\n  \"type\": \"unAuthorized\",\n  \"code\": \"401\",\n  \"details\": \"Authorization credentials are missing or invalid\"\n}\n \n"},{"result":{"nanos":1588200,"millis":1.5882,"status":"passed"},"step":{"line":87,"prefix":"And","index":10,"text":"match response.type == 'unAuthorized'"}},{"result":{"nanos":1214900,"millis":1.2149,"status":"passed"},"step":{"line":88,"prefix":"And","index":11,"text":"match response.code == '401'"}},{"result":{"nanos":969000,"millis":0.969,"status":"passed"},"step":{"line":89,"prefix":"And","index":12,"text":"match response.details == 'Authorization credentials are missing or invalid'"}}],"executorName":"main","line":75,"name":"Verify the LinkageAPI with invalid Authorization credentials in the request","description":"","durationMillis":765.48,"startTime":1651414474502,"failed":false,"refId":"[5:75]","endTime":1651414475270,"exampleIndex":-1}],"callDepth":0,"name":"API level unit testing for linkage service","description":"","resultDate":"2022-05-01 07:44:35 pm","durationMillis":18447.9239,"passedCount":4}