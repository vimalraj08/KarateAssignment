{"failedCount":1,"prefixedPath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","packageQualifiedName":"src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting","loopIndex":-1,"relativePath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":50129100,"millis":50.1291,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":661500,"millis":0.6615,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":437500,"millis":0.4375,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":242000,"millis":0.242,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":227900,"millis":0.2279,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":1753892800,"millis":1753.8928,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"18:53:13.014 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n18:53:14.499 response time in milliseconds: 1477\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 98b6a370626e898b813bee4d\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 1\n1 < X-Forwarded-For: 85.154.175.224\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < Cache-Control: no-cache, max-age=0\n1 < X-DataStream-Session-Id: a11f57161-626e898a-13d1a19f\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Client-IP: 82.178.158.46,169.175.115.119,153.40.245.130\n1 < dmz-global-txn-id: 98b6a370626e898b813bee4d\n1 < X-Archived-Client-IP: 82.178.158.46,82.178.158.46,169.175.115.119\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Vary: Accept-Encoding\n1 < Date: Sun, 01 May 2022 13:22:19 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651412539000; Expires=Mon, 06 Jul 54353 14:39:54 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=69BC80C4981ABF81CDD67147113D1179~-1~YAAQLp6yUmVC8HKAAQAA10nJfwdr5KlUvvjJY8sYl4\/BUh8tM3n3abckQVf7tYDfOIsDM88NbjnbjJPfHg6gjMPzgc4Vs3UB3BSRI4iRm8hOJ\/U9qp1\/WzE8fd9zBEnlMDqnijUE1FGIfLRuBI2CyUnefrUcnQTzbB2PAG8KoKKXXdNSOfg0Qk8HQZDGr+LtX01cyMWPVNMO9eJ4VNWGbGK9IrA7QNf6MshzHaHOZwPVyxHorQVDrIqQ4kt+Jnw7DcdLSKbhM2PO0OkHq+kAuL+RmRlQ+PZ9b\/i9ZviwiCSjb6JFtFeAeMKw6OlDhzApvf2yioP260f7Z5B4aS0B60dRvavoqQS8v7uaBOH70GbnJkvyka1ItSQ=~-1~-1~-1; Max-Age=1682947339000; Expires=Sun, 22 Oct 55352 17:19:54 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=FF20BC6DC689911C2F4F5689542B3135~YAAQLp6yUmZC8HKAAQAA10nJfw\/4GtFziiCPKK7lKFTWM1JjVCVXsZlLG0SM6Bai57sA0aQjsi5W\/nRW8RlG3x4CWfmetNKipg\/kVb2xobzkDx\/j0CTV339Q\/8NFCXYHLKrC1sn+BAISfjOLE6gl6zxs3SK+XkTQRDiGvhWEwB0SdKXX8Me3Dz3riDIQp\/vW0BnwivW5ZuOXtFm7LuN1QWEJNhIYkdoiTwVDlg9KBzwv0ddvoc9l9vOfcPo3TeYtTD+ofWmNC4RB7aKK3Wct9bKLJzMivHPqJR9STJmKxye0~4405046~4600129; Max-Age=1651425738000; Expires=Sun, 06 Dec 54353 09:03:14 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh9cuZEn81NrW7Xe56YdBp5EciA-gjynuinlmQrrCP2hkQTu_BjjtIml6lT1G1-If2kDNbdOOwpRv5HIZ3Wms3PTwbofFIu4BdjeQVuN_-O54zr9e--jp6VgkJJU9HbuCHzySqYM64SS_REBqfrGsnPE_SjBOhW5xwqqxHvue2nFvehhg6gmkM2N9xuNcFObKJDMu2ovnk7KKSlTxput_G0IZ3FDu-Twolo4QmMtpL9nc\", \"expires_in\":1800, \"consented_on\":1651411339, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":41183200,"millis":41.1832,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"18:53:14.559 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh9cuZEn81NrW7Xe56YdBp5EciA-gjynuinlmQrrCP2hkQTu_BjjtIml6lT1G1-If2kDNbdOOwpRv5HIZ3Wms3PTwbofFIu4BdjeQVuN_-O54zr9e--jp6VgkJJU9HbuCHzySqYM64SS_REBqfrGsnPE_SjBOhW5xwqqxHvue2nFvehhg6gmkM2N9xuNcFObKJDMu2ovnk7KKSlTxput_G0IZ3FDu-Twolo4QmMtpL9nc\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651411339,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":18677700,"millis":18.6777,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":2146400,"millis":2.1464,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":1033700,"millis":1.0337,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":627300,"millis":0.6273,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"18:53:14.582 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh9cuZEn81NrW7Xe56YdBp5EciA-gjynuinlmQrrCP2hkQTu_BjjtIml6lT1G1-If2kDNbdOOwpRv5HIZ3Wms3PTwbofFIu4BdjeQVuN_-O54zr9e--jp6VgkJJU9HbuCHzySqYM64SS_REBqfrGsnPE_SjBOhW5xwqqxHvue2nFvehhg6gmkM2N9xuNcFObKJDMu2ovnk7KKSlTxput_G0IZ3FDu-Twolo4QmMtpL9nc \n"},{"result":{"nanos":6873400,"millis":6.8734,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":265100,"millis":0.2651,"status":"passed"},"step":{"line":21,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":175000,"millis":0.175,"status":"passed"},"step":{"line":22,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":163700,"millis":0.1637,"status":"passed"},"step":{"line":23,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":206700,"millis":0.2067,"status":"passed"},"step":{"line":24,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":111100,"millis":0.1111,"status":"passed"},"step":{"line":25,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":208000,"millis":0.208,"status":"passed"},"step":{"line":26,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":6908200,"errorMessage":"js failed:\n>>>>\n01: requestBody\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"requestBody\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27","millis":6.9082,"status":"failed"},"step":{"line":27,"prefix":"And","index":6,"text":"request requestBody"},"stepLog":"18:53:14.597 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27\nAnd request requestBody\njs failed:\n>>>>\n01: requestBody\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"requestBody\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"When","index":7,"text":"method POST"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":29,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":30,"prefix":"And","index":9,"text":"print response"}}],"line":19,"description":"*def requestBody = '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'","durationMillis":1884.1878,"failed":true,"error":"js failed:\n>>>>\n01: requestBody\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"requestBody\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27","executorName":"main","name":"Title of your scenario","startTime":1651411392704,"refId":"[1:19]","endTime":1651411394597,"exampleIndex":-1}],"callDepth":0,"name":"API level unit testing for linkage service","description":"","resultDate":"2022-05-01 06:53:14 pm","durationMillis":1884.1878,"passedCount":0}