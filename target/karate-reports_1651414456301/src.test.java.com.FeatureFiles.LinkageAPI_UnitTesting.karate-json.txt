{"failedCount":2,"prefixedPath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","packageQualifiedName":"src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting","loopIndex":-1,"relativePath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":50662300,"millis":50.6623,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":438100,"millis":0.4381,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":437800,"millis":0.4378,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":314800,"millis":0.3148,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":230500,"millis":0.2305,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":915021200,"millis":915.0212,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:41:37.548 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:41:38.208 response time in milliseconds: 655\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 14744989626e94e3264b0aef\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e94e3-141fe136\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.47.59.18,169.175.61.90,169.177.209.51\n1 < dmz-global-txn-id: 14744989626e94e3264b0aef\n1 < X-Archived-Client-IP: 23.47.59.18,23.47.59.18,169.175.61.90\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:10:43 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415443000; Expires=Sun, 09 Aug 54353 06:08:18 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=C7F48287FE8DFCFB79F87F8ECEA9B561~-1~YAAQLp6yUsJX8HKAAQAAepj1fwcr\/QuL5YVtPouOta9KgEQ+jIC7CErg0mVaiJ47hVVmraodXPjY0x3gHsbJ47IlvEOOWePczX6sbziiLfEzoMriqsagWhtwIAhTIjhUzbh8ztyi6i7Cac5vLjQ1ptDei9Z1ooOh4bQmsSY7J+7xAb+4X98dZmOJTRA\/WdCrWckKpBU1\/32ome93zYrqjIhUMrolVVJ9tFDJpElCGl5qP5F6T+ykFAyeBLzRyVNcBO9FvPOkiKg0bCuKDbU0YC2lElIBs26qrtnzi+35YQxd\/WxlhDbq+b+HZLRw64wLZDsaNdokSKtmIDj3Wg2py9vPkIYVEoI\/78qkR6GOndnnuNXjpdoygEg=~-1~-1~-1; Max-Age=1682950243000; Expires=Sat, 25 Nov 55352 08:48:18 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=DEE9B8439DD3A6E864E3C10A53F2D7D9~YAAQLp6yUsNX8HKAAQAAepj1fw+yqcN0+0wlTKaTd5j4Uc61BLJ94vfKdiyqMP96XHlYIt7JjAPaTdfXqlt4tRva\/H4a5272hYtXRsYkzE2I\/hDm6tc5x654ior7VdTSXBQATeRb45Y8mWLh\/5MoJDMUSXQNIjVmWToU4eOOqGRboJgf09KLHU4qKmZXKVo2r\/Z3LmiGHTaD3ztjeqCagUd+SFa2xkN6SKdm2M91yP+NVymPKTx9ct12MSu3cAcCn7tTE5k5aCz291r7R2Q+0XA5MQA+3uIvwAGUTWtiZSGE~3228486~3355961; Max-Age=1651428643000; Expires=Sat, 09 Jan 54354 00:48:18 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh4rGjFsdzMoJZog1ogg-PQEOpwG7xTVsydMN5iYqeITcVNqjKKnfgziiYkUqk4TsXilp5SEJEFQgEQe7-xYPQRdgkWO5Mnb2QJND8UIfd6DtytvYCVW--zQZl5wlDLvew_BQgZJfeTGkfcOcIi3j786-boQR52yk7lRaYrPzsyWqSa6uODgKA4DnqSEPSdCgd08yrER1EeoYOFFYEgRfrv-K2xkhyB7UliFtYmktTOUU\", \"expires_in\":1800, \"consented_on\":1651414243, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":42680800,"millis":42.6808,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:41:38.269 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh4rGjFsdzMoJZog1ogg-PQEOpwG7xTVsydMN5iYqeITcVNqjKKnfgziiYkUqk4TsXilp5SEJEFQgEQe7-xYPQRdgkWO5Mnb2QJND8UIfd6DtytvYCVW--zQZl5wlDLvew_BQgZJfeTGkfcOcIi3j786-boQR52yk7lRaYrPzsyWqSa6uODgKA4DnqSEPSdCgd08yrER1EeoYOFFYEgRfrv-K2xkhyB7UliFtYmktTOUU\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414243,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":16907700,"millis":16.9077,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":1641700,"millis":1.6417,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":935400,"millis":0.9354,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":597000,"millis":0.597,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:41:38.291 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh4rGjFsdzMoJZog1ogg-PQEOpwG7xTVsydMN5iYqeITcVNqjKKnfgziiYkUqk4TsXilp5SEJEFQgEQe7-xYPQRdgkWO5Mnb2QJND8UIfd6DtytvYCVW--zQZl5wlDLvew_BQgZJfeTGkfcOcIi3j786-boQR52yk7lRaYrPzsyWqSa6uODgKA4DnqSEPSdCgd08yrER1EeoYOFFYEgRfrv-K2xkhyB7UliFtYmktTOUU \n"},{"result":{"nanos":4962400,"millis":4.9624,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":174300,"millis":0.1743,"status":"passed"},"step":{"line":19,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":255600,"millis":0.2556,"status":"passed"},"step":{"line":20,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":217600,"millis":0.2176,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":260100,"millis":0.2601,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":75800,"millis":0.0758,"status":"passed"},"step":{"line":23,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":228000,"millis":0.228,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":181800,"millis":0.1818,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":4076262600,"millis":4076.2626,"status":"passed"},"step":{"line":26,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:41:38.299 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh4rGjFsdzMoJZog1ogg-PQEOpwG7xTVsydMN5iYqeITcVNqjKKnfgziiYkUqk4TsXilp5SEJEFQgEQe7-xYPQRdgkWO5Mnb2QJND8UIfd6DtytvYCVW--zQZl5wlDLvew_BQgZJfeTGkfcOcIi3j786-boQR52yk7lRaYrPzsyWqSa6uODgKA4DnqSEPSdCgd08yrER1EeoYOFFYEgRfrv-K2xkhyB7UliFtYmktTOUU\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=C7F48287FE8DFCFB79F87F8ECEA9B561~-1~YAAQLp6yUsJX8HKAAQAAepj1fwcr\/QuL5YVtPouOta9KgEQ+jIC7CErg0mVaiJ47hVVmraodXPjY0x3gHsbJ47IlvEOOWePczX6sbziiLfEzoMriqsagWhtwIAhTIjhUzbh8ztyi6i7Cac5vLjQ1ptDei9Z1ooOh4bQmsSY7J+7xAb+4X98dZmOJTRA\/WdCrWckKpBU1\/32ome93zYrqjIhUMrolVVJ9tFDJpElCGl5qP5F6T+ykFAyeBLzRyVNcBO9FvPOkiKg0bCuKDbU0YC2lElIBs26qrtnzi+35YQxd\/WxlhDbq+b+HZLRw64wLZDsaNdokSKtmIDj3Wg2py9vPkIYVEoI\/78qkR6GOndnnuNXjpdoygEg=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=DEE9B8439DD3A6E864E3C10A53F2D7D9~YAAQLp6yUsNX8HKAAQAAepj1fw+yqcN0+0wlTKaTd5j4Uc61BLJ94vfKdiyqMP96XHlYIt7JjAPaTdfXqlt4tRva\/H4a5272hYtXRsYkzE2I\/hDm6tc5x654ior7VdTSXBQATeRb45Y8mWLh\/5MoJDMUSXQNIjVmWToU4eOOqGRboJgf09KLHU4qKmZXKVo2r\/Z3LmiGHTaD3ztjeqCagUd+SFa2xkN6SKdm2M91yP+NVymPKTx9ct12MSu3cAcCn7tTE5k5aCz291r7R2Q+0XA5MQA+3uIvwAGUTWtiZSGE~3228486~3355961\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:41:42.374 response time in milliseconds: 4075\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: ec947fc5-d38e-4b2b-b96e-9fa1bb82a65e\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: b655af60-4933-4cfa-b9f1-d2857422ca1c\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n2 < X-Vcap-Request-Id: 61d1c0c4-5f35-42a1-68d1-e05461ee63b8\n2 < X-Global-Transaction-ID: 6e68aa42626e94e3cb7a9eef\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: sI9rXvSR%2FMQzYnsjh500Glk1sLRxBF2ASi%2F24Qkspl42uzSt2gs0%2Fv20673t3sIGRwD7P4jSCEJAt9uTbdLYWQN7GoHJeoeaskbXiUmU5clCD%2B%2BRcjFtGBbOP3WeNOhzBbfsfN1noU2xjiqmFlIDz4xsMZS%2FROvIUsw8U3G6T1KXe6puahfpFyszgkX15Q5%2FDlhlL%2Fy00LLCQSaj40zyiHNsKBnNBhCIlyEdJ0Ey%2FTF1QOCFR1ulobI0R4pvWVBTZA6s6MEZ9y%2F4EQeJaaJmF2PMbYgTv2auIxXG%2FJhC7kSdtCiZgS2Up1Q3QtcvkEdw5Hlvi02cawTMpxbuDHXtlwLeH0lv%2BhuOgvojdjTVp2TcjrJy%2F3hICyKl1qBktGVQgbtASGCLiimBdxvRBj%2BVzrckzlIF2Ea1tpjEAISLyW3%2FFaKCF9UChgPUJ4Pzr5GGFcuc6Pd3UpMyr4w8HN5E2g%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 14:10:47 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415447000; Expires=Sun, 09 Aug 54353 07:15:02 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":429300,"millis":0.4293,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"match response.rewardLinkCode != null"}}],"executorName":"main","line":18,"name":"Verify the LinkageAPI with all mandatory body parameters","description":"","durationMillis":5112.9399,"startTime":1651414297251,"failed":false,"refId":"[1:18]","endTime":1651414302375,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":159800,"millis":0.1598,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":287000,"millis":0.287,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":246600,"millis":0.2466,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":193600,"millis":0.1936,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":214900,"millis":0.2149,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":456841600,"millis":456.8416,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:41:42.381 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:41:42.836 response time in milliseconds: 454\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 6e68aa42626e94e77ce0496d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e94e7-142002ce\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.221.23.115,169.175.115.121,153.40.245.129\n1 < dmz-global-txn-id: 6e68aa42626e94e77ce0496d\n1 < X-Archived-Client-IP: 23.221.23.115,23.221.23.115,169.175.115.121\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:10:48 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415448000; Expires=Sun, 09 Aug 54353 07:31:42 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=688F718E11373513DD2070F0BB11630B~-1~YAAQLp6yUtdX8HKAAQAAn6r1fwdLxbYkiLjtVituvE2O2yLMDtTO70U8tnozimD+QzcqZ\/4rlBHRe2F8Pg9aWJOLpbhu9RF3wEFlVOinTq6RA9nfgpRij4mDC8Ikp\/cdO4W2V8CxgwjTEe1CJ7OlOZQNqPFgnKzMR7BBigrW7dC8EjuOEVi\/+7+cHD+Q0lUIyQtGmxtwjsupUrjccGpp+6a2A2zHQcHhftUz3qD7iyYgo5q2uHg0ttaOEJ7r9F\/xw8jbYSDFJzaN+wB+WybhaUeHysZQ3v5H+8IgBPx8jOcX+\/ap8L6Y3rLbiDS20SESj0ABSIEV2tzjhcOyUebNLyKPabF1Ygri+HoWvRHmbYK5l2yDo4sgljs=~-1~-1~-1; Max-Age=1682950248000; Expires=Sat, 25 Nov 55352 10:11:42 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=4F6F101D8FB341DCB48C6849CBDE176E~YAAQLp6yUthX8HKAAQAAn6r1fw\/afaUhaxuyBLzLpUw+BihpV8s4F5CQImMJlktkqVMDpWhQMRyI3Op+AmXeItTd6oA9ODE4RcKBhR1XnYJAv\/YToPhvH0jMhvRCNP4qn6Yn\/Vx7rInxaJoFj79n1RW72dkqaRgUcBTtRnQ1zCjLHWA6im97jstU25lAxysz+hGHLP65D3\/iU\/w0onSbufwwtHe8afLQy0av5uKBMe4VPENifrxSXkm8fmJlurj9M3ZwiIKjYlKCZW6TjEaQ+4ZWSnFGalWd1mWMOP2+YNVG~3294018~3224643; Max-Age=1651428647000; Expires=Sat, 09 Jan 54354 01:55:02 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhK-50pxtC5hFMY41J4wDonTdzizM9Zv9bo5X_z-E3Rnfyd8ZmXLLIHFqp-8RfC9zUKFxIKgebYR0kIcGSBeZp5-edr7ex0xeqFkB9TC9l8XuUwCycCLIJUSUgTPJoS-qOQBblwjGGLRJUwWE_6AjwpOCpAuBm9cVoBEOtW1mD9n45UsPe0WgiAngtvq7PLmMLNnSqtfzQ8ghGEEcLWHjBAqLMl-aj6TKMDR-AvaOhdYk\", \"expires_in\":1800, \"consented_on\":1651414247, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":24100,"millis":0.0241,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":776900,"millis":0.7769,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:41:42.838 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhK-50pxtC5hFMY41J4wDonTdzizM9Zv9bo5X_z-E3Rnfyd8ZmXLLIHFqp-8RfC9zUKFxIKgebYR0kIcGSBeZp5-edr7ex0xeqFkB9TC9l8XuUwCycCLIJUSUgTPJoS-qOQBblwjGGLRJUwWE_6AjwpOCpAuBm9cVoBEOtW1mD9n45UsPe0WgiAngtvq7PLmMLNnSqtfzQ8ghGEEcLWHjBAqLMl-aj6TKMDR-AvaOhdYk\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414247,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":636700,"millis":0.6367,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":330000,"millis":0.33,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":321600,"millis":0.3216,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":412200,"millis":0.4122,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:41:42.839 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhK-50pxtC5hFMY41J4wDonTdzizM9Zv9bo5X_z-E3Rnfyd8ZmXLLIHFqp-8RfC9zUKFxIKgebYR0kIcGSBeZp5-edr7ex0xeqFkB9TC9l8XuUwCycCLIJUSUgTPJoS-qOQBblwjGGLRJUwWE_6AjwpOCpAuBm9cVoBEOtW1mD9n45UsPe0WgiAngtvq7PLmMLNnSqtfzQ8ghGEEcLWHjBAqLMl-aj6TKMDR-AvaOhdYk \n"},{"result":{"nanos":283200,"millis":0.2832,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"line":31,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":154500,"millis":0.1545,"status":"passed"},"step":{"line":32,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":52500,"millis":0.0525,"status":"passed"},"step":{"line":33,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":174500,"millis":0.1745,"status":"passed"},"step":{"line":34,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":72200,"millis":0.0722,"status":"passed"},"step":{"line":35,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":157000,"millis":0.157,"status":"passed"},"step":{"line":36,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":172800,"millis":0.1728,"status":"passed"},"step":{"line":37,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":7297676500,"millis":7297.6765,"status":"passed"},"step":{"line":38,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:41:42.841 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhK-50pxtC5hFMY41J4wDonTdzizM9Zv9bo5X_z-E3Rnfyd8ZmXLLIHFqp-8RfC9zUKFxIKgebYR0kIcGSBeZp5-edr7ex0xeqFkB9TC9l8XuUwCycCLIJUSUgTPJoS-qOQBblwjGGLRJUwWE_6AjwpOCpAuBm9cVoBEOtW1mD9n45UsPe0WgiAngtvq7PLmMLNnSqtfzQ8ghGEEcLWHjBAqLMl-aj6TKMDR-AvaOhdYk\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=688F718E11373513DD2070F0BB11630B~-1~YAAQLp6yUtdX8HKAAQAAn6r1fwdLxbYkiLjtVituvE2O2yLMDtTO70U8tnozimD+QzcqZ\/4rlBHRe2F8Pg9aWJOLpbhu9RF3wEFlVOinTq6RA9nfgpRij4mDC8Ikp\/cdO4W2V8CxgwjTEe1CJ7OlOZQNqPFgnKzMR7BBigrW7dC8EjuOEVi\/+7+cHD+Q0lUIyQtGmxtwjsupUrjccGpp+6a2A2zHQcHhftUz3qD7iyYgo5q2uHg0ttaOEJ7r9F\/xw8jbYSDFJzaN+wB+WybhaUeHysZQ3v5H+8IgBPx8jOcX+\/ap8L6Y3rLbiDS20SESj0ABSIEV2tzjhcOyUebNLyKPabF1Ygri+HoWvRHmbYK5l2yDo4sgljs=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=4F6F101D8FB341DCB48C6849CBDE176E~YAAQLp6yUthX8HKAAQAAn6r1fw\/afaUhaxuyBLzLpUw+BihpV8s4F5CQImMJlktkqVMDpWhQMRyI3Op+AmXeItTd6oA9ODE4RcKBhR1XnYJAv\/YToPhvH0jMhvRCNP4qn6Yn\/Vx7rInxaJoFj79n1RW72dkqaRgUcBTtRnQ1zCjLHWA6im97jstU25lAxysz+hGHLP65D3\/iU\/w0onSbufwwtHe8afLQy0av5uKBMe4VPENifrxSXkm8fmJlurj9M3ZwiIKjYlKCZW6TjEaQ+4ZWSnFGalWd1mWMOP2+YNVG~3294018~3224643\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:41:50.137 response time in milliseconds: 7295\n2 < 400\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 84ccb687-3bcd-4a55-85c2-6507b401a56b\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: cc22c2bc-5f51-4498-b166-86dcdd7d637c\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n2 < X-Vcap-Request-Id: 53cc68ec-3a60-45c7-6686-b812dd27555b\n2 < X-Global-Transaction-ID: 6e68aa42626e94e8400fed71\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: QDiAbVJwP3ZgTpb%2FaGi9HqLWZemP8R8KSOiUep4rRuxMwatxboJ6A%2FRr8sZO4Vdl0EniCM7TIo%2BMphDadxkj%2BLFvliMGdUc5Y2TEls%2B7foynA0hCxR6T5jzuoofjtszTgEEuxbt3n8AlisNFubZosq3JWPShZ%2B23dIk0zahT39FiZRUV2TOJud5NX1juhnsl%2BHNOlMPCl4sVja8xGvtuW68425vnnDfKjWEm07uLfT4SXfpPIHFZO6Tsf3HRfcGoFf1Je5jpwRW4efQFZJDjOu780OD%2FPDYES%2F34kb32y1bRDzdQhLe4ot%2FASbNWcSWla5E8hkrHoUO8XTdmTSynYWrCwIrKvLr%2FKoGctYVMbw3FbOwLXLEUamjCu%2B81FuePPFpy9MQkQcxtoO1REdB0PF6iKabLl2wmvBM9oxqHWG36pTlqWvGO4NhtZ9yD%2B2OgN46Ya68vcoFHdQMavI67Tg%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 84\n2 < Date: Sun, 01 May 2022 14:10:55 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415455000; Expires=Sun, 09 Aug 54353 09:28:30 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"type\":\"invalid\",\"code\":\"invalidRequest\",\"details\":\"Missing or invalid parameters\"}\n\n"},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":39,"prefix":"Then","index":8,"text":"status 400"}},{"result":{"nanos":610300,"millis":0.6103,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:41:50.138 [print] {\n  \"type\": \"invalid\",\n  \"code\": \"invalidRequest\",\n  \"details\": \"Missing or invalid parameters\"\n}\n \n"},{"result":{"nanos":390300,"millis":0.3903,"status":"passed"},"step":{"line":41,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":295300,"millis":0.2953,"status":"passed"},"step":{"line":42,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":301300,"millis":0.3013,"status":"passed"},"step":{"line":43,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"executorName":"main","line":30,"name":"Verify the LinkageAPI with invalid lastFourDigitsCardNumber in body parameters","description":"","durationMillis":7760.8655,"startTime":1651414302378,"failed":false,"refId":"[2:30]","endTime":1651414310140,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":86100,"millis":0.0861,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":164400,"millis":0.1644,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":175400,"millis":0.1754,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":158700,"millis":0.1587,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":142000,"millis":0.142,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":537862300,"millis":537.8623,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:41:50.144 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:41:50.680 response time in milliseconds: 535\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 98b6a370626e94ef81a3b4dd\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e94ef-1420346b\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.47.59.18,169.175.115.119,169.177.209.49\n1 < dmz-global-txn-id: 98b6a370626e94ef81a3b4dd\n1 < X-Archived-Client-IP: 23.47.59.18,23.47.59.18,169.175.115.119\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:10:55 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415455000; Expires=Sun, 09 Aug 54353 09:28:30 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=73C00D9E5C5D5EDA64978AB4463A11DF~-1~YAAQLp6yUuJX8HKAAQAARcn1fwdq+rH0394owPiuVa2OJUrZrbsminpHwsPvjkAWbtsv0\/t95hS+nJMpeKVbxLa5pYFzZj\/aJQeimVkWgphlUJZQTJ6QnhQ\/E7bQVGJAfivEirYAs0\/vbNXP8c6AYVgj9uYPBjTltNi9etcXyvcqLQbLE\/Oi6u2kSoA4jQ2yFIG0710d1RH0FQmw1q89Q7hqtNQy6HZsYTukwUJsPx7tciPadqdfCXnHaOQHlP6R2CI6jJnTmrxonBtgYymGW2nxlyShWgABuNuRLRWVtN+\/t1I6nT54fzZXCJ04Rzq7S3nsTeadB8R12lgm3sWsyNbZCxPL2Ze5bY2YUXwUwuLkxfY2i+R8ijM=~-1~-1~-1; Max-Age=1682950255000; Expires=Sat, 25 Nov 55352 12:08:30 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=6C76C152776C80C4154E6B64671F9A87~YAAQLp6yUuNX8HKAAQAARcn1fw8j3uSTaDMV26i5bOTkdKcGdbNuqkdR5CBxiF1cljLZ7r10L1nJMV1zBUXuYsyyD\/ZUpYygcEcSEU6dm5FAM5FGIDvTuW+V3ZHUmEhJ89ncbInvJx+YtJvq\/RgI4CvOhZeUfHkzxZ5azVSmDYCxmfOEslOkfs8FvPqCfWW8ariDXYUAhCh3hnkYHZZhEdcEPuEzQyjNIl\/hNQAHQ5zewU5gtBt\/ML3gC4an5j58\/A0LsLL4E7nl0UyIg1\/mi3T9xR7t7QEz8MTdipw9DroL~4539703~3487300; Max-Age=1651428655000; Expires=Sat, 09 Jan 54354 04:08:30 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh5JkLrX6yffnMVMuYe-A_koseHjlQXKl7droAnFHNcxc76tvDeuvB62o8ZTT8LHf68xMwLugBcWcgw513lgnCVmOwHnNxpSpB3cBUezAcEY_5e-AFp6cqt95xE1UEFkLTiUzT686w5-z7mJNcCDuPXl768Twt2UpCL5uGNfonAR8yCi8gQCogAsbCkgXlK9yC-yBttQErGTVd5uWWiKaxG4uWSElGUe5pzINEFLmzhYU\", \"expires_in\":1800, \"consented_on\":1651414255, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":602100,"millis":0.6021,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:41:50.682 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh5JkLrX6yffnMVMuYe-A_koseHjlQXKl7droAnFHNcxc76tvDeuvB62o8ZTT8LHf68xMwLugBcWcgw513lgnCVmOwHnNxpSpB3cBUezAcEY_5e-AFp6cqt95xE1UEFkLTiUzT686w5-z7mJNcCDuPXl768Twt2UpCL5uGNfonAR8yCi8gQCogAsbCkgXlK9yC-yBttQErGTVd5uWWiKaxG4uWSElGUe5pzINEFLmzhYU\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414255,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":629300,"millis":0.6293,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":475700,"millis":0.4757,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":698700,"millis":0.6987,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":617200,"millis":0.6172,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:41:50.684 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh5JkLrX6yffnMVMuYe-A_koseHjlQXKl7droAnFHNcxc76tvDeuvB62o8ZTT8LHf68xMwLugBcWcgw513lgnCVmOwHnNxpSpB3cBUezAcEY_5e-AFp6cqt95xE1UEFkLTiUzT686w5-z7mJNcCDuPXl768Twt2UpCL5uGNfonAR8yCi8gQCogAsbCkgXlK9yC-yBttQErGTVd5uWWiKaxG4uWSElGUe5pzINEFLmzhYU \n"},{"result":{"nanos":428200,"millis":0.4282,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":78300,"millis":0.0783,"status":"passed"},"step":{"line":46,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":221800,"millis":0.2218,"status":"passed"},"step":{"line":47,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"line":48,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":607300,"millis":0.6073,"status":"passed"},"step":{"line":49,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":77400,"millis":0.0774,"status":"passed"},"step":{"line":50,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":165200,"millis":0.1652,"status":"passed"},"step":{"line":51,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":234400,"millis":0.2344,"status":"passed"},"step":{"line":52,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":4943212800,"millis":4943.2128,"status":"passed"},"step":{"line":53,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:41:50.688 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh5JkLrX6yffnMVMuYe-A_koseHjlQXKl7droAnFHNcxc76tvDeuvB62o8ZTT8LHf68xMwLugBcWcgw513lgnCVmOwHnNxpSpB3cBUezAcEY_5e-AFp6cqt95xE1UEFkLTiUzT686w5-z7mJNcCDuPXl768Twt2UpCL5uGNfonAR8yCi8gQCogAsbCkgXlK9yC-yBttQErGTVd5uWWiKaxG4uWSElGUe5pzINEFLmzhYU\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=73C00D9E5C5D5EDA64978AB4463A11DF~-1~YAAQLp6yUuJX8HKAAQAARcn1fwdq+rH0394owPiuVa2OJUrZrbsminpHwsPvjkAWbtsv0\/t95hS+nJMpeKVbxLa5pYFzZj\/aJQeimVkWgphlUJZQTJ6QnhQ\/E7bQVGJAfivEirYAs0\/vbNXP8c6AYVgj9uYPBjTltNi9etcXyvcqLQbLE\/Oi6u2kSoA4jQ2yFIG0710d1RH0FQmw1q89Q7hqtNQy6HZsYTukwUJsPx7tciPadqdfCXnHaOQHlP6R2CI6jJnTmrxonBtgYymGW2nxlyShWgABuNuRLRWVtN+\/t1I6nT54fzZXCJ04Rzq7S3nsTeadB8R12lgm3sWsyNbZCxPL2Ze5bY2YUXwUwuLkxfY2i+R8ijM=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=6C76C152776C80C4154E6B64671F9A87~YAAQLp6yUuNX8HKAAQAARcn1fw8j3uSTaDMV26i5bOTkdKcGdbNuqkdR5CBxiF1cljLZ7r10L1nJMV1zBUXuYsyyD\/ZUpYygcEcSEU6dm5FAM5FGIDvTuW+V3ZHUmEhJ89ncbInvJx+YtJvq\/RgI4CvOhZeUfHkzxZ5azVSmDYCxmfOEslOkfs8FvPqCfWW8ariDXYUAhCh3hnkYHZZhEdcEPuEzQyjNIl\/hNQAHQ5zewU5gtBt\/ML3gC4an5j58\/A0LsLL4E7nl0UyIg1\/mi3T9xR7t7QEz8MTdipw9DroL~4539703~3487300\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:41:55.629 response time in milliseconds: 4941\n2 < 400\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 0ac3c1d6-3938-4209-873e-e645147c2695\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 0f5d0d03-6004-4a19-9be8-8ff5809d6ffb\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n2 < X-Vcap-Request-Id: e42f0ad1-48cc-4625-6ce6-c9ac26d7179b\n2 < X-Global-Transaction-ID: 98b6a370626e94f081a101ed\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: Q01%2F6PvmHztxDB15gn6ouYcZt1DuT62Ikg0Jn6IP2kl6zMchVyNn%2BXStg9khseBM6I0PbLJ3oV1pr15EXekfGzD57DiEzUM7n2QwKZSpyTcUuwolgc%2FO%2BsuKfNtC8Cce%2F%2FFCIxpUulp1kCEuKK4IovPbMyxVwJE7NcL4mmA6npcptkAEwfeQQLda7W6pc8tv0xeGCukjnOED0jeBdD3QcyzttNmh01%2FEdt%2FtZ31Xh%2BXC4EYfN65JWG6zawdCvO9fyy24ZTSG43s787rILZStkgtd25NRZEOlhQtn0omX0e5jtb8aB42r39BrYj0IaqscfPnmY1MykeBHAHjrT6PVe33%2FOY09cKdEn6R9JRmO%2BmRQIkZrnyULBj9zyZPNmRO8PWwN888CGLZB3PJINPGG%2FSFmOIu%2FPx6KZ%2B0kOQtjEa73JM6LI4bvBOXm95J8nV11O7bg8k%2B%2FOP5jRTMkSfV%2FOw%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 84\n2 < Date: Sun, 01 May 2022 14:11:00 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415460000; Expires=Sun, 09 Aug 54353 10:51:55 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"type\":\"invalid\",\"code\":\"invalidRequest\",\"details\":\"Missing or invalid parameters\"}\n\n"},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":54,"prefix":"Then","index":8,"text":"status 400"}},{"result":{"nanos":292800,"millis":0.2928,"status":"passed"},"step":{"line":55,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:41:55.630 [print] {\n  \"type\": \"invalid\",\n  \"code\": \"invalidRequest\",\n  \"details\": \"Missing or invalid parameters\"\n}\n \n"},{"result":{"nanos":346200,"millis":0.3462,"status":"passed"},"step":{"line":56,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":193500,"millis":0.1935,"status":"passed"},"step":{"line":57,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":165500,"millis":0.1655,"status":"passed"},"step":{"line":58,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"executorName":"main","line":45,"name":"Verify the LinkageAPI with invalid citiCardHolderPhoneNumber in body parameters","description":"","durationMillis":5487.7085,"startTime":1651414310142,"failed":false,"refId":"[3:45]","endTime":1651414315631,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":109400,"millis":0.1094,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":70100,"millis":0.0701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":73900,"millis":0.0739,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":54300,"millis":0.0543,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":544201400,"millis":544.2014,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:41:55.635 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:41:56.177 response time in milliseconds: 542\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 98b6a370626e94f581a3e9ed\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e94f4-14205b64\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.64.120.195,169.175.115.119,169.177.209.50\n1 < dmz-global-txn-id: 98b6a370626e94f581a3e9ed\n1 < X-Archived-Client-IP: 23.64.120.195,23.64.120.195,169.175.115.119\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:11:01 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415461000; Expires=Sun, 09 Aug 54353 11:08:36 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=01135C86B1525EB6F77CAE765A17BAF0~-1~YAAQLp6yUuZX8HKAAQAAvN71fwfEZDxhuftbrH\/2Wxca2\/GoaFSamAtbQgxXkYwjzFgn3698YDNguL8JjPPexbJ74I0DkDDVbBUkVxj6GIFZuS7JB6BwRcvpCQwvnouQE+flxvxm5NsT6PtWTjiwFAaF5M9pv6afkIy5vXlpLz0J52haMI+wdpusetbV8GTEZRROk2R1Zqaplf9x2Xap+HRTRD9jqos3aaC58uEokC0Nf3EEVuHjlLuXqkDABOyGuIvnwsdsmBjLpxyFmO3rlwxhcqOinZ7Ync\/hrts0a+o57aalknb3GIsRB\/2YfQAmDY\/zbNVEufcDkkqqowW\/z37F82Ifsqas4qhcC77HvRHzwrMHgRUB4vI=~-1~-1~-1; Max-Age=1682950261000; Expires=Sat, 25 Nov 55352 13:48:36 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=352E7312F1053AEE5FD165E03CA19D00~YAAQLp6yUudX8HKAAQAAvN71fw9kpBfkEXwhSTQ85AJ98jZt+D0b\/IPf8FtDQYoxJdd7TdvOMoWpVvQUEP5+Oq\/hYMQSLpmZpdd5mHqtDmPEKQXTrsGbtSTKFJ11EtOdeKrNEW9U203Q+dDUNhO1ognRv1Ig\/ifNqLv\/OsddUZIaHNGgMwbfkE8IYRcDWVzjKKospR3+wf4FK1lRiRO5dkaCjqzbtgWrkWx\/A18ka4MnVjtB+vgEnPyBfYJqVkaqwISPsYM0TxWq5RdR99rUpfeXo7X3\/C1gm1NA8Vc7qZyO~3488056~3162689; Max-Age=1651428660000; Expires=Sat, 09 Jan 54354 05:31:56 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh70gqJIcTW2z2kEkyKaepac3eRtLcYn5J5KoU2vijiAYQt6zM4Ax6W1ASkV38W3UJtSU2PIDRavWNWLEwcW3jNEUYT0ZzdNQMJvLdAO1Pia8OzaVSBIV8_M6vzMELT-8OhCv0JhruqouuL8kAZk6CEE2H6D6JHbVRFSRws0lh5Yj5WEAaKx4s1a-18ezkuWvOTzoCJRkZUGpqVz8Wo2_iSSIRRD6Ia92zpkwT-Z58L9g\", \"expires_in\":1800, \"consented_on\":1651414261, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":413500,"millis":0.4135,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:41:56.178 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh70gqJIcTW2z2kEkyKaepac3eRtLcYn5J5KoU2vijiAYQt6zM4Ax6W1ASkV38W3UJtSU2PIDRavWNWLEwcW3jNEUYT0ZzdNQMJvLdAO1Pia8OzaVSBIV8_M6vzMELT-8OhCv0JhruqouuL8kAZk6CEE2H6D6JHbVRFSRws0lh5Yj5WEAaKx4s1a-18ezkuWvOTzoCJRkZUGpqVz8Wo2_iSSIRRD6Ia92zpkwT-Z58L9g\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414261,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":386800,"millis":0.3868,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":183700,"millis":0.1837,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":146700,"millis":0.1467,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":192100,"millis":0.1921,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:41:56.179 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh70gqJIcTW2z2kEkyKaepac3eRtLcYn5J5KoU2vijiAYQt6zM4Ax6W1ASkV38W3UJtSU2PIDRavWNWLEwcW3jNEUYT0ZzdNQMJvLdAO1Pia8OzaVSBIV8_M6vzMELT-8OhCv0JhruqouuL8kAZk6CEE2H6D6JHbVRFSRws0lh5Yj5WEAaKx4s1a-18ezkuWvOTzoCJRkZUGpqVz8Wo2_iSSIRRD6Ia92zpkwT-Z58L9g \n"},{"result":{"nanos":123600,"millis":0.1236,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"line":61,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":47000,"millis":0.047,"status":"passed"},"step":{"line":62,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":49300,"millis":0.0493,"status":"passed"},"step":{"line":63,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":54600,"millis":0.0546,"status":"passed"},"step":{"line":64,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"line":65,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"line":66,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":348800,"millis":0.3488,"status":"passed"},"step":{"line":67,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"!@#$%^&*()_+\"}'"}},{"result":{"nanos":1674375100,"millis":1674.3751,"status":"passed"},"step":{"line":68,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:41:56.181 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh70gqJIcTW2z2kEkyKaepac3eRtLcYn5J5KoU2vijiAYQt6zM4Ax6W1ASkV38W3UJtSU2PIDRavWNWLEwcW3jNEUYT0ZzdNQMJvLdAO1Pia8OzaVSBIV8_M6vzMELT-8OhCv0JhruqouuL8kAZk6CEE2H6D6JHbVRFSRws0lh5Yj5WEAaKx4s1a-18ezkuWvOTzoCJRkZUGpqVz8Wo2_iSSIRRD6Ia92zpkwT-Z58L9g\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=01135C86B1525EB6F77CAE765A17BAF0~-1~YAAQLp6yUuZX8HKAAQAAvN71fwfEZDxhuftbrH\/2Wxca2\/GoaFSamAtbQgxXkYwjzFgn3698YDNguL8JjPPexbJ74I0DkDDVbBUkVxj6GIFZuS7JB6BwRcvpCQwvnouQE+flxvxm5NsT6PtWTjiwFAaF5M9pv6afkIy5vXlpLz0J52haMI+wdpusetbV8GTEZRROk2R1Zqaplf9x2Xap+HRTRD9jqos3aaC58uEokC0Nf3EEVuHjlLuXqkDABOyGuIvnwsdsmBjLpxyFmO3rlwxhcqOinZ7Ync\/hrts0a+o57aalknb3GIsRB\/2YfQAmDY\/zbNVEufcDkkqqowW\/z37F82Ifsqas4qhcC77HvRHzwrMHgRUB4vI=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=352E7312F1053AEE5FD165E03CA19D00~YAAQLp6yUudX8HKAAQAAvN71fw9kpBfkEXwhSTQ85AJ98jZt+D0b\/IPf8FtDQYoxJdd7TdvOMoWpVvQUEP5+Oq\/hYMQSLpmZpdd5mHqtDmPEKQXTrsGbtSTKFJ11EtOdeKrNEW9U203Q+dDUNhO1ognRv1Ig\/ifNqLv\/OsddUZIaHNGgMwbfkE8IYRcDWVzjKKospR3+wf4FK1lRiRO5dkaCjqzbtgWrkWx\/A18ka4MnVjtB+vgEnPyBfYJqVkaqwISPsYM0TxWq5RdR99rUpfeXo7X3\/C1gm1NA8Vc7qZyO~3488056~3162689\n2 > Content-Length: 123\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"!@#$%^&*()_+\"}\n\n19:41:57.853 response time in milliseconds: 1672\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: bb6463e5-72e2-44ae-85a0-15b6c6a7da8b\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 73ae8406-7bd3-4a4e-b3fe-739fbf10525c\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Vcap-Request-Id: 271ddc5e-d614-4a5b-7dd4-3dcfd0dbcac0\n2 < X-Global-Transaction-ID: 126374ce626e94f650476ea1\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: NeEdoZ3lcLHYbgca%2Bx49IEFfhULxPs1c0oFxiI6Y2pvZdWCsVJyYKNjOASnBSd66lZJXldZD84CVpqYqqOfP70moYrnx3GcrlLWavJ4Jgtt9gIRH25ZbBgIJhP%2F4GEcp4iuq1cFVksCjjIempguMTqiUv0ynGsO%2F2EP6YNF%2B1VnwcrwwopBnrPwJ1%2FbnXjnnINRVzmDeB5sALdxjjw%2FUHzzd%2FoIv0Lbzy2ojzYswfYft0PGyW15jtIfDb6H1eMtVKW5VtX7Mc9paUwXTEppFtl2%2FRBosk2XCam17YTysfSqvzPu23E9slbECslQHAyOEJtGIUbJdouqIDOTx%2FJcT6GCItggN9S1BLmsVm3%2Fh8%2F4WZPE%2FBCZwHoOvUZCWVFH2tidIKWBRkwdCXPjEwkJTL8iewHF1GFU5NVBE7UJstViYC3lHxzHfUlUgUwbM9VWjVinbwuL2G0hooQFaMWsmkA%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 14:11:03 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415463000; Expires=Sun, 09 Aug 54353 11:41:57 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":155500,"errorMessage":"status code was: 200, expected: 400, response time in milliseconds: 1672, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","millis":0.1555,"status":"failed"},"step":{"line":69,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"19:41:57.855 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\nThen status 400\nstatus code was: 200, expected: 400, response time in milliseconds: 1672, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":70,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":71,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":72,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":73,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":60,"description":"","durationMillis":2221.1955,"failed":true,"error":"status code was: 200, expected: 400, response time in milliseconds: 1672, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","executorName":"main","name":"Verify the LinkageAPI with invalid merchantCustomerReferenceId in body parameters","startTime":1651414315633,"refId":"[4:60]","endTime":1651414317855,"exampleIndex":-1},{"sectionIndex":4,"stepResults":[{"result":{"nanos":110400,"millis":0.1104,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":49600,"millis":0.0496,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":491293700,"millis":491.2937,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:41:57.859 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:41:58.349 response time in milliseconds: 490\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 14744989626e94f7c92d2e85\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e94f7-14206b64\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.47.59.18,169.175.61.90,153.40.245.130\n1 < dmz-global-txn-id: 14744989626e94f7c92d2e85\n1 < X-Archived-Client-IP: 23.47.59.18,23.47.59.18,169.175.61.90\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:11:03 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415463000; Expires=Sun, 09 Aug 54353 11:41:58 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=67B55E0F4A5EAE667B816B82CE73AED1~-1~YAAQLp6yUulX8HKAAQAAP+f1fwfgSL7uraI9soJ0wyJsdNTj6viT6Wt9YEGldgDnBbxjwePM5lbzID\/fyPxCKUQhg\/3U3NHL\/uljv7Ka5e5vO1+R+hMkXTEbpQvv8EILkpj9hUIWU8V5AaxRjYQ3oSSkYiEaxoWBKGzEFPsDc33wH4\/O9YIQ2LxkK\/JQDo2LsY9A7TJFdFjSCRRy\/kw6Lv4hjvs7SeFY8kx5L+eYGdOIzLPlBIC870AUajkUu22g\/0LOdjR1i5ubTquo89PxgyzGNfENLEtsvTBCcHzJoUdF0ueDSoN6gtcrUVVlatxyh7wjZKIv\/qO2juXI2Vm8bh8CqHNuAzxeg\/+CkwwP\/4uZ4DtV4bIB9l4=~-1~-1~-1; Max-Age=1682950263000; Expires=Sat, 25 Nov 55352 14:21:58 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=6C7DC23515030345228235BF39B60A22~YAAQLp6yUupX8HKAAQAAP+f1fw9JLoqA4yWbm8jYPu1DFtn78a8OEH9vEzWS5wG2y5FXZtMpqE9Ln4qGh\/A6oBxsLqnbSFXP6\/qWEa0ME2xi7eO56F8KoVS99CopQ7\/vDVOeh2rhcOSHqKmMdeyopi4P1Uzq+5TST2y\/jY26lHdtIDgPC8V6c1htbIwMefpUFJ7hZFgeIoxO\/Hd254uEaPLq7P6z1uHntN25zVnMsvCsGbuBWLSx9zWPZBYuxkDQ+e3ZHqYSr0RntWmeSLJ+4oOJOBjwkhsM9IWXOuA7VG+X~3556418~3753525; Max-Age=1651428663000; Expires=Sat, 09 Jan 54354 06:21:58 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhNpK6feaRFSsN3yoR6zjyIYYj6Zccx_mafBmHLPDeQKpyeYRsl-baecFKvELP1HS8bBz5VUDUV3reRQxQnov2qwbMDKmYXCic1DXaZqf0UDp8zY494Bs4GyVkiZTri4k0xu13PVMjdsApwGVTpcW1YUxJzqdEJu8_D0dkzLXOEUfludrFiT5oBUn4utJwd4DewMPOvp3Oa-mL9PmPvArUdUVh_VAu5pHtsRj1M-qdOV0\", \"expires_in\":1800, \"consented_on\":1651414263, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":24200,"millis":0.0242,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":382200,"millis":0.3822,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:41:58.350 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhNpK6feaRFSsN3yoR6zjyIYYj6Zccx_mafBmHLPDeQKpyeYRsl-baecFKvELP1HS8bBz5VUDUV3reRQxQnov2qwbMDKmYXCic1DXaZqf0UDp8zY494Bs4GyVkiZTri4k0xu13PVMjdsApwGVTpcW1YUxJzqdEJu8_D0dkzLXOEUfludrFiT5oBUn4utJwd4DewMPOvp3Oa-mL9PmPvArUdUVh_VAu5pHtsRj1M-qdOV0\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414263,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":604700,"millis":0.6047,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":279900,"millis":0.2799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":218900,"millis":0.2189,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":293800,"millis":0.2938,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:41:58.351 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhNpK6feaRFSsN3yoR6zjyIYYj6Zccx_mafBmHLPDeQKpyeYRsl-baecFKvELP1HS8bBz5VUDUV3reRQxQnov2qwbMDKmYXCic1DXaZqf0UDp8zY494Bs4GyVkiZTri4k0xu13PVMjdsApwGVTpcW1YUxJzqdEJu8_D0dkzLXOEUfludrFiT5oBUn4utJwd4DewMPOvp3Oa-mL9PmPvArUdUVh_VAu5pHtsRj1M-qdOV0 \n"},{"result":{"nanos":151400,"millis":0.1514,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":81500,"millis":0.0815,"status":"passed"},"step":{"line":77,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":54300,"millis":0.0543,"status":"passed"},"step":{"line":78,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":501300,"millis":0.5013,"status":"passed"},"step":{"line":79,"prefix":"And","index":2,"text":"header Authorization = 'Bearer 123456'"}},{"result":{"nanos":65000,"millis":0.065,"status":"passed"},"step":{"line":80,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"line":81,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":42900,"millis":0.0429,"status":"passed"},"step":{"line":82,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":310400,"millis":0.3104,"status":"passed"},"step":{"line":83,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":304556800,"millis":304.5568,"status":"passed"},"step":{"line":84,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:41:58.355 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer 123456\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=67B55E0F4A5EAE667B816B82CE73AED1~-1~YAAQLp6yUulX8HKAAQAAP+f1fwfgSL7uraI9soJ0wyJsdNTj6viT6Wt9YEGldgDnBbxjwePM5lbzID\/fyPxCKUQhg\/3U3NHL\/uljv7Ka5e5vO1+R+hMkXTEbpQvv8EILkpj9hUIWU8V5AaxRjYQ3oSSkYiEaxoWBKGzEFPsDc33wH4\/O9YIQ2LxkK\/JQDo2LsY9A7TJFdFjSCRRy\/kw6Lv4hjvs7SeFY8kx5L+eYGdOIzLPlBIC870AUajkUu22g\/0LOdjR1i5ubTquo89PxgyzGNfENLEtsvTBCcHzJoUdF0ueDSoN6gtcrUVVlatxyh7wjZKIv\/qO2juXI2Vm8bh8CqHNuAzxeg\/+CkwwP\/4uZ4DtV4bIB9l4=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=6C7DC23515030345228235BF39B60A22~YAAQLp6yUupX8HKAAQAAP+f1fw9JLoqA4yWbm8jYPu1DFtn78a8OEH9vEzWS5wG2y5FXZtMpqE9Ln4qGh\/A6oBxsLqnbSFXP6\/qWEa0ME2xi7eO56F8KoVS99CopQ7\/vDVOeh2rhcOSHqKmMdeyopi4P1Uzq+5TST2y\/jY26lHdtIDgPC8V6c1htbIwMefpUFJ7hZFgeIoxO\/Hd254uEaPLq7P6z1uHntN25zVnMsvCsGbuBWLSx9zWPZBYuxkDQ+e3ZHqYSr0RntWmeSLJ+4oOJOBjwkhsM9IWXOuA7VG+X~3556418~3753525\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:41:58.657 response time in milliseconds: 301\n2 < 401\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < WWW-Authenticate: Bearer error=\"invalid_token\"\n2 < X-Global-Transaction-ID: 126374ce626e94f70960d64d\n2 < X-Akamai-CITISITE: GTDC\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Credentials: true\n2 < Content-Length: 101\n2 < Date: Sun, 01 May 2022 14:11:03 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415463000; Expires=Sun, 09 Aug 54353 11:41:58 GMT; Domain=sandbox.apihub.citi.com; Secure\n{ \"type\":\"unAuthorized\", \"code\":\"401\", \"details\":\"Authorization credentials are missing or invalid\" }\n\n"},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":85,"prefix":"Then","index":8,"text":"status 401"}},{"result":{"nanos":755600,"millis":0.7556,"status":"passed"},"step":{"line":86,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:41:58.659 [print] {\n  \"type\": \"unAuthorized\",\n  \"code\": \"401\",\n  \"details\": \"Authorization credentials are missing or invalid\"\n}\n \n"},{"result":{"nanos":1198300,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'unAuthorized'\n  'error'\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:87","millis":1.1983,"status":"failed"},"step":{"line":87,"prefix":"And","index":10,"text":"match response.type == 'error'"},"stepLog":"19:41:58.660 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:87\nAnd match response.type == 'error'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'unAuthorized'\n  'error'\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:87\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":88,"prefix":"And","index":11,"text":"match response.code == 'unAuthorized'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":89,"prefix":"And","index":12,"text":"match response.details == 'Authorization credentials are missing or invalid'"}}],"line":75,"description":"","durationMillis":801.1914,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'unAuthorized'\n  'error'\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:87","executorName":"main","name":"Verify the LinkageAPI with invalid Authorization credentials in the request","startTime":1651414317858,"refId":"[5:75]","endTime":1651414318660,"exampleIndex":-1}],"callDepth":0,"name":"API level unit testing for linkage service","description":"","resultDate":"2022-05-01 07:41:58 pm","durationMillis":21383.9008,"passedCount":3}