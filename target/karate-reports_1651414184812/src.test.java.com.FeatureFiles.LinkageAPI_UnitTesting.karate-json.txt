{"failedCount":5,"prefixedPath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","packageQualifiedName":"src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting","loopIndex":-1,"relativePath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":52867600,"millis":52.8676,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":573800,"millis":0.5738,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":617700,"millis":0.6177,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":284600,"millis":0.2846,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":239500,"millis":0.2395,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":1359040000,"millis":1359.04,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:38:51.338 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:38:52.443 response time in milliseconds: 1101\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: ddade3ba626e943d84fc3c0d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e943c-141b9c7a\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.205.102.68,169.175.61.93,169.177.209.50\n1 < dmz-global-txn-id: ddade3ba626e943d84fc3c0d\n1 < X-Archived-Client-IP: 23.205.102.68,23.205.102.68,169.175.61.93\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:07:57 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415277000; Expires=Fri, 07 Aug 54353 07:58:52 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=8CEBAE98F3697C906053FC1720C932F9~-1~YAAQLp6yUrFW8HKAAQAA8hDzfwcV99MyTzvgiSYQwChEUwwrxvBhJyV09RUvJU5EbwdBPJ2qpSH8N34GPZ+S48a79jdCn8QdSd+RBLrl3jptvQQspTHzc9lVK6k13rFmezEgyc0FNno4v\/B4l+VPSaKn70Tha+eIGYAwbmhH\/ZTOXo5nny9uefoaYZgxK+GMYSfaQfUq8btusDdGLJoRQAZbZPYuqm20dKrKeDdM9wY\/4w8NeX7AEC3GGjEC1cseW2\/yonhCd8lkNO5QogWj8Iqugnqvk\/ZnHMTQe1bNyVFZr4NLdAHMEi9E4IbnCbur\/SVekiKICh\/I8OcdstwKATOkKMr8FLkLQGzGbHTDxYKpXomksgW82UA=~-1~-1~-1; Max-Age=1682950077000; Expires=Thu, 23 Nov 55352 10:38:52 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=7384B9B6DDF240C5B19A6D23F50E6DB4~YAAQLp6yUrJW8HKAAQAA8hDzfw++wdFkh+BrAygo0i2+aRsXTKBg0sSUUGLSw0F0YM+hYxefsAYAZ41zvlt2OlDC0Bi22P7FbqKCAdCq9+qZVPPQakD+ZqMJS26re784ScXYuHtzNDVSMz1eiAyUxIDGl15BxfT8KT1Jcal6D8Id7wU7jJySq5zK6rXjeXCq2dZURA4IlP\/0OyODsV6nvem0HHk2WG4Sv49NBqcF0v2DJ7OrT23fM\/F6MY8rLWY4cf+g1SYC1yNpE61q4FvJcACx\/oUsFafKj8LxzozXYHc0~4338998~3490869; Max-Age=1651428476000; Expires=Thu, 07 Jan 54354 02:22:12 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhu3KxOb6x2QZW-B9jOnU4MCqIdU9MFemQA33_bpvk_mOfFCUYztR7b-5GDhB9iK4wf-vzyMe0zC9uUchyoTjQQc28bHBtzAgfsOefJRehNugTY95bU_LOhGvwRxN1rRIBURZuA29ZZjNs4Q1m_D5hhubmCgO-32tV-UIQxcWqZu8_rH8FuJihUOxO1nxtckW0RwqEro2UO1Re5sorvN9VIzdR2DZ_2VwQT2MCF6s4HP0\", \"expires_in\":1800, \"consented_on\":1651414077, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":43786300,"millis":43.7863,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:38:52.505 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhu3KxOb6x2QZW-B9jOnU4MCqIdU9MFemQA33_bpvk_mOfFCUYztR7b-5GDhB9iK4wf-vzyMe0zC9uUchyoTjQQc28bHBtzAgfsOefJRehNugTY95bU_LOhGvwRxN1rRIBURZuA29ZZjNs4Q1m_D5hhubmCgO-32tV-UIQxcWqZu8_rH8FuJihUOxO1nxtckW0RwqEro2UO1Re5sorvN9VIzdR2DZ_2VwQT2MCF6s4HP0\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414077,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":17441500,"millis":17.4415,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":1605900,"millis":1.6059,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":926800,"millis":0.9268,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":577800,"millis":0.5778,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:38:52.526 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhu3KxOb6x2QZW-B9jOnU4MCqIdU9MFemQA33_bpvk_mOfFCUYztR7b-5GDhB9iK4wf-vzyMe0zC9uUchyoTjQQc28bHBtzAgfsOefJRehNugTY95bU_LOhGvwRxN1rRIBURZuA29ZZjNs4Q1m_D5hhubmCgO-32tV-UIQxcWqZu8_rH8FuJihUOxO1nxtckW0RwqEro2UO1Re5sorvN9VIzdR2DZ_2VwQT2MCF6s4HP0 \n"},{"result":{"nanos":5937600,"millis":5.9376,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":255900,"millis":0.2559,"status":"passed"},"step":{"line":19,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":255200,"millis":0.2552,"status":"passed"},"step":{"line":20,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":136500,"millis":0.1365,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":217400,"millis":0.2174,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":117600,"millis":0.1176,"status":"passed"},"step":{"line":23,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":258200,"millis":0.2582,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":193900,"millis":0.1939,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":605490200,"millis":605.4902,"status":"passed"},"step":{"line":26,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:38:52.537 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhu3KxOb6x2QZW-B9jOnU4MCqIdU9MFemQA33_bpvk_mOfFCUYztR7b-5GDhB9iK4wf-vzyMe0zC9uUchyoTjQQc28bHBtzAgfsOefJRehNugTY95bU_LOhGvwRxN1rRIBURZuA29ZZjNs4Q1m_D5hhubmCgO-32tV-UIQxcWqZu8_rH8FuJihUOxO1nxtckW0RwqEro2UO1Re5sorvN9VIzdR2DZ_2VwQT2MCF6s4HP0\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=8CEBAE98F3697C906053FC1720C932F9~-1~YAAQLp6yUrFW8HKAAQAA8hDzfwcV99MyTzvgiSYQwChEUwwrxvBhJyV09RUvJU5EbwdBPJ2qpSH8N34GPZ+S48a79jdCn8QdSd+RBLrl3jptvQQspTHzc9lVK6k13rFmezEgyc0FNno4v\/B4l+VPSaKn70Tha+eIGYAwbmhH\/ZTOXo5nny9uefoaYZgxK+GMYSfaQfUq8btusDdGLJoRQAZbZPYuqm20dKrKeDdM9wY\/4w8NeX7AEC3GGjEC1cseW2\/yonhCd8lkNO5QogWj8Iqugnqvk\/ZnHMTQe1bNyVFZr4NLdAHMEi9E4IbnCbur\/SVekiKICh\/I8OcdstwKATOkKMr8FLkLQGzGbHTDxYKpXomksgW82UA=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=7384B9B6DDF240C5B19A6D23F50E6DB4~YAAQLp6yUrJW8HKAAQAA8hDzfw++wdFkh+BrAygo0i2+aRsXTKBg0sSUUGLSw0F0YM+hYxefsAYAZ41zvlt2OlDC0Bi22P7FbqKCAdCq9+qZVPPQakD+ZqMJS26re784ScXYuHtzNDVSMz1eiAyUxIDGl15BxfT8KT1Jcal6D8Id7wU7jJySq5zK6rXjeXCq2dZURA4IlP\/0OyODsV6nvem0HHk2WG4Sv49NBqcF0v2DJ7OrT23fM\/F6MY8rLWY4cf+g1SYC1yNpE61q4FvJcACx\/oUsFafKj8LxzozXYHc0~4338998~3490869\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:38:53.139 response time in milliseconds: 602\n2 < 404\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: text\/plain\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 4424a32a-dbb4-4931-b02b-36c95e9b5b86\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n2 < X-Cf-Routererror: unknown_route\n2 < X-Vcap-Request-Id: a203d3d1-99cc-4f7b-560a-9fb38aab8e25\n2 < X-Global-Transaction-ID: 98b6a370626e943e00db8dbf\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: YcDzx2nUVijgOZBrqFpFncQ4aVkGJPwbHcJjdvBbpoeCR7AQ%2BID9eCFaWiqcGvwZjf4Nr7mBJrE7HEKKeOK0WJG3M7ZhfZoza4O4zIlmaM8UVPAjMTcLDpAD2tPFusHBfiUX3P%2Boz%2FPGCaXJUo12VcLLYoHJZNu0DQ3JWbvEwS9xxw60VIVutFfbdYz8asmnSI%2FNFj9wlUVl9s2B3w5yBuNBzcpXnO21%2BhhriQrfkp%2B7dCSsT6%2BrzJL2MYfSqgUDdknTBCBqOqv4uG6u%2Fu2vSX8T7K8Z4zLLA7tRK3AqVDyYxEcVE8OiA94IKUBgRrkfGW3zQNPh6j9n4u5emEXXNTTiEEiE8pphLnkVfK0rTWUjZjF70B7Kby9i%2FYoHKscXFi47OyvlLNef4GmeA%2F1E1rLc7K3XTVcK2tO%2BrDJDwfYvqbE%2BJoKBVtTG%2FTbw9LIBqGje10tMLkfg7zzUwWwWnw%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 116\n2 < Date: Sun, 01 May 2022 14:07:58 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415278000; Expires=Fri, 07 Aug 54353 08:15:33 GMT; Domain=sandbox.apihub.citi.com; Secure\n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\n\n"},{"result":{"nanos":45800,"errorMessage":"status code was: 404, expected: 200, response time in milliseconds: 602, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27","millis":0.0458,"status":"failed"},"step":{"line":27,"prefix":"Then","index":8,"text":"status 200"},"stepLog":"19:38:53.140 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27\nThen status 200\nstatus code was: 404, expected: 200, response time in milliseconds: 602, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"And","index":9,"text":"match response.rewardLinkCode != null"}}],"line":18,"description":"","durationMillis":2090.8874,"failed":true,"error":"status code was: 404, expected: 200, response time in milliseconds: 602, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27","executorName":"main","name":"Verify the LinkageAPI with all mandatory body parameters","startTime":1651414131038,"refId":"[1:18]","endTime":1651414133140,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":130300,"millis":0.1303,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":240100,"millis":0.2401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":231900,"millis":0.2319,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":196300,"millis":0.1963,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":199600,"millis":0.1996,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":518339300,"millis":518.3393,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:38:53.146 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:38:53.663 response time in milliseconds: 517\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 6e68aa42626e943e400bafb1\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e943e-141ba763\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.64.120.184,169.175.115.121,169.177.209.51\n1 < dmz-global-txn-id: 6e68aa42626e943e400bafb1\n1 < X-Archived-Client-IP: 23.64.120.184,23.64.120.184,169.175.115.121\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:07:58 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415278000; Expires=Fri, 07 Aug 54353 08:15:33 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=4D4C1923189AA7A00D18AE3DF1AB9F9B~-1~YAAQLp6yUrNW8HKAAQAAzRXzfwdHzn7kPGHDVnE3gryt66+tZC5ST41hClqYMxZEqg+smHl3DepuYgbw3O9vBNnj+oxy8FPAWUoi8JBU4pYu+M\/irhYq7sUv\/uybu35gF0TO2Bsq+AUVZ9drGCFCWhswoJhsrGy4McEpQrlqApD1dxyOB4\/3uUdh4cBBgS8fyZxAl\/+x6WWim7aIhziQ+CMN9gsJz\/byuwCUyMNO0vQemoLDcsLxM8z7lNFBTSSt9DuedIvKP3Xq\/reE4ql2oEUG7XSy8X0CPFjzOfoypNt46w5HXxElCKEY8+S3nyduDJyzj01Nj90EoKqGrW3tcLYLKZbqd35r7Wpw3GrGkQs+8PPs2Oex\/Uc=~-1~-1~-1; Max-Age=1682950078000; Expires=Thu, 23 Nov 55352 10:55:33 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=BAC9A30C4DFDAEC750C6808744FA6DC4~YAAQLp6yUrRW8HKAAQAAzRXzfw\/ii81JAMpqod42qr6HM+LxP5q\/ZWWMQdBx\/D2wMvHzRMekEqMfFu\/b6rp7eANar0zkOrYxQszVYLPAmcUpp+d24cv4mNV1ClrrmiwcmlFSpMV3W4CfEDDg+DHo5k1fGnji\/OZnTl\/dLZ9rIO5PKK+aOGCRHpcWRPKKPRZcnjFIzFSUX2hMRHrAAx4Ku6kbLkzHLLNCQMw0h7\/dk\/h\/dlskghm1s04TRFx3JqtYdTGgU0nU2Te0c+hCQ3JRUgMRNaN33GgoXbU3NiQtGxvB~4342069~4536645; Max-Age=1651428478000; Expires=Thu, 07 Jan 54354 02:55:33 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh8Y1stNh1F3gvkdJgGqUo18r500230Gf2pgqP7KXPExyVLW1DL2OY2sAStdyG6BeF_nGnVQR9WXuAPDeROWCx4oZmPbkIvrmeNdl7eEMh66nfJgWJE4oH_lkkYB9l-BZrqWRgHud8EnaW3WuWuLVLA3E4yOCvuoO2UqUYJ08Lh6k89anToTih7ruR2Md3GpOUkwga_0ELGxBFPXEcBr7NoIymbqxLRtuPDATKiUmPjsA\", \"expires_in\":1800, \"consented_on\":1651414078, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":551900,"millis":0.5519,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:38:53.665 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh8Y1stNh1F3gvkdJgGqUo18r500230Gf2pgqP7KXPExyVLW1DL2OY2sAStdyG6BeF_nGnVQR9WXuAPDeROWCx4oZmPbkIvrmeNdl7eEMh66nfJgWJE4oH_lkkYB9l-BZrqWRgHud8EnaW3WuWuLVLA3E4yOCvuoO2UqUYJ08Lh6k89anToTih7ruR2Md3GpOUkwga_0ELGxBFPXEcBr7NoIymbqxLRtuPDATKiUmPjsA\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414078,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":532000,"millis":0.532,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":338300,"millis":0.3383,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":463300,"millis":0.4633,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":313000,"millis":0.313,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:38:53.666 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh8Y1stNh1F3gvkdJgGqUo18r500230Gf2pgqP7KXPExyVLW1DL2OY2sAStdyG6BeF_nGnVQR9WXuAPDeROWCx4oZmPbkIvrmeNdl7eEMh66nfJgWJE4oH_lkkYB9l-BZrqWRgHud8EnaW3WuWuLVLA3E4yOCvuoO2UqUYJ08Lh6k89anToTih7ruR2Md3GpOUkwga_0ELGxBFPXEcBr7NoIymbqxLRtuPDATKiUmPjsA \n"},{"result":{"nanos":208100,"millis":0.2081,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":114200,"millis":0.1142,"status":"passed"},"step":{"line":31,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":69800,"millis":0.0698,"status":"passed"},"step":{"line":32,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":91600,"millis":0.0916,"status":"passed"},"step":{"line":33,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":110100,"millis":0.1101,"status":"passed"},"step":{"line":34,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":117700,"millis":0.1177,"status":"passed"},"step":{"line":35,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":100600,"millis":0.1006,"status":"passed"},"step":{"line":36,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":454500,"millis":0.4545,"status":"passed"},"step":{"line":37,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":615734600,"millis":615.7346,"status":"passed"},"step":{"line":38,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:38:53.669 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh8Y1stNh1F3gvkdJgGqUo18r500230Gf2pgqP7KXPExyVLW1DL2OY2sAStdyG6BeF_nGnVQR9WXuAPDeROWCx4oZmPbkIvrmeNdl7eEMh66nfJgWJE4oH_lkkYB9l-BZrqWRgHud8EnaW3WuWuLVLA3E4yOCvuoO2UqUYJ08Lh6k89anToTih7ruR2Md3GpOUkwga_0ELGxBFPXEcBr7NoIymbqxLRtuPDATKiUmPjsA\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=4D4C1923189AA7A00D18AE3DF1AB9F9B~-1~YAAQLp6yUrNW8HKAAQAAzRXzfwdHzn7kPGHDVnE3gryt66+tZC5ST41hClqYMxZEqg+smHl3DepuYgbw3O9vBNnj+oxy8FPAWUoi8JBU4pYu+M\/irhYq7sUv\/uybu35gF0TO2Bsq+AUVZ9drGCFCWhswoJhsrGy4McEpQrlqApD1dxyOB4\/3uUdh4cBBgS8fyZxAl\/+x6WWim7aIhziQ+CMN9gsJz\/byuwCUyMNO0vQemoLDcsLxM8z7lNFBTSSt9DuedIvKP3Xq\/reE4ql2oEUG7XSy8X0CPFjzOfoypNt46w5HXxElCKEY8+S3nyduDJyzj01Nj90EoKqGrW3tcLYLKZbqd35r7Wpw3GrGkQs+8PPs2Oex\/Uc=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=BAC9A30C4DFDAEC750C6808744FA6DC4~YAAQLp6yUrRW8HKAAQAAzRXzfw\/ii81JAMpqod42qr6HM+LxP5q\/ZWWMQdBx\/D2wMvHzRMekEqMfFu\/b6rp7eANar0zkOrYxQszVYLPAmcUpp+d24cv4mNV1ClrrmiwcmlFSpMV3W4CfEDDg+DHo5k1fGnji\/OZnTl\/dLZ9rIO5PKK+aOGCRHpcWRPKKPRZcnjFIzFSUX2hMRHrAAx4Ku6kbLkzHLLNCQMw0h7\/dk\/h\/dlskghm1s04TRFx3JqtYdTGgU0nU2Te0c+hCQ3JRUgMRNaN33GgoXbU3NiQtGxvB~4342069~4536645\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:38:54.283 response time in milliseconds: 613\n2 < 404\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: text\/plain\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 408141c3-3847-41b0-a15f-d5e773952908\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Cf-Routererror: unknown_route\n2 < X-Vcap-Request-Id: 3c84b761-6376-4f37-5fbc-ede434ab4c53\n2 < X-Global-Transaction-ID: 126374ce626e943f095d188d\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: %2FalnFq7DsLcNF%2FPrvA%2BgfOtlP4EeOA2vcW%2Bq4mSKAjSQiu6ht%2Fcg5UYCu6mfNZI%2BJ362G6Mr9B1qDvurkpZDCAMCLKw718337CnnwWDIziSEUv5vlSY4j2YrwI%2BR5EFyWPaLly2nws4F8MFUtRYyaJteJSiMrQcpc%2BB4BGxw%2FoCsWi7kZdhgcwTFnz8GlV5XYsDVVtmrbq%2F5FnyyM5yHSjJuvh0AB5APcWhXGVt%2BqASpDcItTTcntn3e4aNzh9K97pxCeD1pHY%2BjjxluOSXTWQ0G0GrIFaP4etGe2nu1oN4K5Ll%2BRNZfCPooJaMTt76IkxYIv8S8UAsMwIUOnRHPQb7KOM8gZe36jaGFDZu7Qnsj%2FakTOSD8a168cuEgikrYV%2FJUujN89Tlr2JDhVR5ICBDQ%2BrjaW7SnufNHqpSxyz5d0%2FTtlO3iA9oH0llrByFb%2FyrzJ4CxdpLGR1DVjV0v%2FA%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 116\n2 < Date: Sun, 01 May 2022 14:07:59 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415279000; Expires=Fri, 07 Aug 54353 08:32:14 GMT; Domain=sandbox.apihub.citi.com; Secure\n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\n\n"},{"result":{"nanos":26300,"errorMessage":"status code was: 404, expected: 400, response time in milliseconds: 613, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:39","millis":0.0263,"status":"failed"},"step":{"line":39,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"19:38:54.284 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:39\nThen status 400\nstatus code was: 404, expected: 400, response time in milliseconds: 613, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:39\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":30,"description":"","durationMillis":1138.5713,"failed":true,"error":"status code was: 404, expected: 400, response time in milliseconds: 613, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:39","executorName":"main","name":"Verify the LinkageAPI with invalid lastFourDigitsCardNumber in body parameters","startTime":1651414133143,"refId":"[2:30]","endTime":1651414134284,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":112300,"millis":0.1123,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":40600,"millis":0.0406,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":68600,"millis":0.0686,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":62800,"millis":0.0628,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":63000,"millis":0.063,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":621809700,"millis":621.8097,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:38:54.287 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:38:54.907 response time in milliseconds: 620\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 14744989626e943f2635863f\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e943f-141bafad\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.47.59.18,169.175.61.90,169.177.209.50\n1 < dmz-global-txn-id: 14744989626e943f2635863f\n1 < X-Archived-Client-IP: 23.47.59.18,23.47.59.18,169.175.61.90\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:08:00 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415280000; Expires=Fri, 07 Aug 54353 08:48:54 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=602BF3F5E5CF43BC2FD97B6BC40DC615~-1~YAAQLp6yUrdW8HKAAQAArBrzfwf85CDvpQvfx6boSvf4An8W\/4TRU3iwJLGR1FGYBsJZRWCG+376FEmrpt6NXJ5lmv0mbYQRjI9Fhj+6f9bD\/ajfr2glB4Asi0dOPDIQC2GJnfHRc5FsvQpAp+5oICOcIIN4Y4N1znuxwYU+WqtvFMwSaRY3HbnGW5VOSLchbGPmb2dG9aeJpymPGeAHtmQsULYKF7RLonkYJp6IFU00KuxhRXPCdgv5LhGwIh0ImO3yuynS6MS3eSd+dkkf1+XVWmOrUx0K+aClqHxo0UdUrrRfRYYrR9TzDLeNB42kUCwBkgCbmY1zkmr0h\/X\/fFMfY+QeFoST1\/bn3EjUL3jXVJixI8OJ3ck=~-1~-1~-1; Max-Age=1682950080000; Expires=Thu, 23 Nov 55352 11:28:54 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=2315A9AB9F97EFAA0311977D50C7F6E5~YAAQLp6yUrhW8HKAAQAArBrzfw9ZV8xG0YGzuTYzoW8o8BwlpQf0g1ViBexv5NLU1RVI314XuPCwpseHbb9Iz9igc+AqQPg9YSELu2TMu11Y1wGh65IdykzaK9d881YAPaP6fktH27xsuzQKMhYRjO8ZBdpDRvgSC2rnt79C1eTM4PH3YZ6bxLdOAmZVTh4aHdM2fApKQ+3fWWjupg8CWVrGYtCv4OeujzKSTS5s8Pr26CuH5SFEteWW3XodMGdu+M9dDVdUDMrY4Lyuw9dVpjEFvl2UvsU5mE+zhVdRjDr6~3618372~3425590; Max-Age=1651428479000; Expires=Thu, 07 Jan 54354 03:12:14 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhyvxOylIHyioGv1HSJBAgRbHUfMAwI9taPtD4xITZBIb3cgBi7-kj4guvxuhTch4gYnWhYBg_mgO_tbD4oLx_G7vpz8AdVmWK_4TlL20_aQoE7iMOhHOfBQ8C64LFWgIZDGwrksDVDldngtpYeYprpnc20KTN-wiC6LCJcDnH_l6STwXIvZw-MRwsQFUMIca6WWC84W5qsjAs7b-5W62aVffxVfOVhP5b48yXgnFll58\", \"expires_in\":1800, \"consented_on\":1651414080, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":8300,"millis":0.0083,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":346600,"millis":0.3466,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:38:54.908 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhyvxOylIHyioGv1HSJBAgRbHUfMAwI9taPtD4xITZBIb3cgBi7-kj4guvxuhTch4gYnWhYBg_mgO_tbD4oLx_G7vpz8AdVmWK_4TlL20_aQoE7iMOhHOfBQ8C64LFWgIZDGwrksDVDldngtpYeYprpnc20KTN-wiC6LCJcDnH_l6STwXIvZw-MRwsQFUMIca6WWC84W5qsjAs7b-5W62aVffxVfOVhP5b48yXgnFll58\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414080,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":322800,"millis":0.3228,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":223300,"millis":0.2233,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":155700,"millis":0.1557,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":166600,"millis":0.1666,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:38:54.909 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhyvxOylIHyioGv1HSJBAgRbHUfMAwI9taPtD4xITZBIb3cgBi7-kj4guvxuhTch4gYnWhYBg_mgO_tbD4oLx_G7vpz8AdVmWK_4TlL20_aQoE7iMOhHOfBQ8C64LFWgIZDGwrksDVDldngtpYeYprpnc20KTN-wiC6LCJcDnH_l6STwXIvZw-MRwsQFUMIca6WWC84W5qsjAs7b-5W62aVffxVfOVhP5b48yXgnFll58 \n"},{"result":{"nanos":127500,"millis":0.1275,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":60700,"millis":0.0607,"status":"passed"},"step":{"line":46,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"line":47,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":66200,"millis":0.0662,"status":"passed"},"step":{"line":48,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":476200,"millis":0.4762,"status":"passed"},"step":{"line":49,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":125300,"millis":0.1253,"status":"passed"},"step":{"line":50,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":84300,"millis":0.0843,"status":"passed"},"step":{"line":51,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":280100,"millis":0.2801,"status":"passed"},"step":{"line":52,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":954418700,"millis":954.4187,"status":"passed"},"step":{"line":53,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:38:54.911 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhyvxOylIHyioGv1HSJBAgRbHUfMAwI9taPtD4xITZBIb3cgBi7-kj4guvxuhTch4gYnWhYBg_mgO_tbD4oLx_G7vpz8AdVmWK_4TlL20_aQoE7iMOhHOfBQ8C64LFWgIZDGwrksDVDldngtpYeYprpnc20KTN-wiC6LCJcDnH_l6STwXIvZw-MRwsQFUMIca6WWC84W5qsjAs7b-5W62aVffxVfOVhP5b48yXgnFll58\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=602BF3F5E5CF43BC2FD97B6BC40DC615~-1~YAAQLp6yUrdW8HKAAQAArBrzfwf85CDvpQvfx6boSvf4An8W\/4TRU3iwJLGR1FGYBsJZRWCG+376FEmrpt6NXJ5lmv0mbYQRjI9Fhj+6f9bD\/ajfr2glB4Asi0dOPDIQC2GJnfHRc5FsvQpAp+5oICOcIIN4Y4N1znuxwYU+WqtvFMwSaRY3HbnGW5VOSLchbGPmb2dG9aeJpymPGeAHtmQsULYKF7RLonkYJp6IFU00KuxhRXPCdgv5LhGwIh0ImO3yuynS6MS3eSd+dkkf1+XVWmOrUx0K+aClqHxo0UdUrrRfRYYrR9TzDLeNB42kUCwBkgCbmY1zkmr0h\/X\/fFMfY+QeFoST1\/bn3EjUL3jXVJixI8OJ3ck=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=2315A9AB9F97EFAA0311977D50C7F6E5~YAAQLp6yUrhW8HKAAQAArBrzfw9ZV8xG0YGzuTYzoW8o8BwlpQf0g1ViBexv5NLU1RVI314XuPCwpseHbb9Iz9igc+AqQPg9YSELu2TMu11Y1wGh65IdykzaK9d881YAPaP6fktH27xsuzQKMhYRjO8ZBdpDRvgSC2rnt79C1eTM4PH3YZ6bxLdOAmZVTh4aHdM2fApKQ+3fWWjupg8CWVrGYtCv4OeujzKSTS5s8Pr26CuH5SFEteWW3XodMGdu+M9dDVdUDMrY4Lyuw9dVpjEFvl2UvsU5mE+zhVdRjDr6~3618372~3425590\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:38:55.865 response time in milliseconds: 953\n2 < 404\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: text\/plain\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 406ae834-924b-459b-8341-25d06f1d6b92\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n2 < X-Cf-Routererror: unknown_route\n2 < X-Vcap-Request-Id: 9a39c4af-082a-4fb1-67c8-97177a84785b\n2 < X-Global-Transaction-ID: 6e68aa42626e9440cb6ff1df\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: XyK9EnjzXwC9mrV17sAMejxSthTOgpWY3raJ4TIJp9etJI41QcYP%2FXdGbibslpI1tFHGjPW30B1f6Qpp9kqwJU%2BRmDRqP3PaimzjmbBjS6FZjtwi7UhobkJA1RrGHQT5At7Lj52zFNLVwZDqcc2U1SZs%2FCMOwMSmmcfqVq%2F3vVW90E4ZvKUMepspZIWcM7OU46pJxR3KtHaHm4JIBcxd8OxvWr1oiHjkIgji0IbYK6cOwa3aKpzIh%2FAzyNme5%2B9F7iOMGN1P9rQZysqDN6ea0lvuTDOt8YgFJvIp0Ea%2Bred%2BfYjYUZjEkFsx0ntZiHB0A4%2FWjgdHQff7YYP1Aejl6fvLM9XeVbVftJUQ6XgogEMELmGCVHT3JymBu%2BLa%2Fpd62UV6MIse8uEbEp9G0mq8i2V83tN%2BL9SnS1RcynqKN%2FEmKwloAUfAMXgSeYrEAix%2FDoBIT3aucDu5hx6wclmGJQ%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 116\n2 < Date: Sun, 01 May 2022 14:08:01 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415281000; Expires=Fri, 07 Aug 54353 09:05:35 GMT; Domain=sandbox.apihub.citi.com; Secure\n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\n\n"},{"result":{"nanos":20100,"errorMessage":"status code was: 404, expected: 400, response time in milliseconds: 953, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54","millis":0.0201,"status":"failed"},"step":{"line":54,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"19:38:55.865 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54\nThen status 400\nstatus code was: 404, expected: 400, response time in milliseconds: 953, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":45,"description":"","durationMillis":1579.0811,"failed":true,"error":"status code was: 404, expected: 400, response time in milliseconds: 953, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:54","executorName":"main","name":"Verify the LinkageAPI with invalid citiCardHolderPhoneNumber in body parameters","startTime":1651414134286,"refId":"[3:45]","endTime":1651414135865,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":125000,"millis":0.125,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":92900,"millis":0.0929,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":166000,"millis":0.166,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":96900,"millis":0.0969,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":142300,"millis":0.1423,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":932993500,"millis":932.9935,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:38:55.869 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:38:56.801 response time in milliseconds: 932\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: ddade3ba626e9441a201b4b1\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e9441-141bba54\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.205.102.68,169.175.61.93,169.177.209.49\n1 < dmz-global-txn-id: ddade3ba626e9441a201b4b1\n1 < X-Archived-Client-IP: 23.205.102.68,23.205.102.68,169.175.61.93\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:08:02 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415282000; Expires=Fri, 07 Aug 54353 09:22:16 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=32338FDA345966FE6023AEC20C15B187~-1~YAAQLp6yUrpW8HKAAQAAFSLzfwcjOwp3d1IsDnFc4TPq9mM6v+84FAv3HQ\/MvTqIGQdbj341qLbMnwSGjeGSfvhVc9mj\/24ic+mgvzYeLJfDNlYuvQQbLWLU5lcD0egwuIbsJuo42d3UwW9dFzjYA\/3OYn5peD9\/lDpJaqYcIu+JSdMPEwu54y\/uBgqu63mEkchSS8\/OL5IphXNL7HWVnluAR3d\/Fi+YVTkk4S7ZSl3KBBx3KZa4RdGL6wQKKTpGMoL5OTmdKXbgXMR7hq+D5DaAl0Bn+xNyDklBZqiiq\/KznnCHqVgL2fv8Vm0ggL8y2zCUVS6OAqsC0bM2fWM8arQtC\/0uEnNRP+DWKMYX9jPAu6qxpykgAUk=~-1~-1~-1; Max-Age=1682950082000; Expires=Thu, 23 Nov 55352 12:02:16 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=31B303CAADA176C43B4681DDDA4E58E0~YAAQLp6yUrtW8HKAAQAAFSLzfw\/cCBVhS3vCXwKlStdsB4CM0OZMpVPSA2+symXTi419ZweO9KRqBz3cq9S5vdCm3ME8GNu0ZGQRfHOa1fv77N\/CyE36pLYklOFpokSpNPski6NCXy8enWSWFPQV9yUeyL92tEV1cOJ2RNpesvT3KaJtXrCsFUFTRXCyG8cgZoAygV\/5u7AuIxhUMmmq+0P3uVxBvskf\/3Bpr\/RKPlJXE3eBtioeT7PKDNso6zteEWkVr5RycVjJ5fS3sY\/rM8GlyADhoHPvs3E9PmiU0Xib~3684403~3683120; Max-Age=1651428481000; Expires=Thu, 07 Jan 54354 03:45:36 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhS91zL1Enhh9MHG76GrZul7wADozUVnFJHhRtQ4FHp7CR8H7yLeJPhLwiC32Nix9aurHs8GxZKBYJs_gF4lf6OpCmFBfRgVR4ZAz3N8EEOnU62dbz5wwyPrNBRgJI3LvrHryZmxPDC_SvAYilNqSaN6XIO46s_j81nes-dyRX212bs3mzpI1cv5bd1uIMIPCknkEiVfMMF2dhpmOnJ_sslwuUqXb6g8De5Kc26UBEF5M\", \"expires_in\":1800, \"consented_on\":1651414081, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":569200,"millis":0.5692,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:38:56.802 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhS91zL1Enhh9MHG76GrZul7wADozUVnFJHhRtQ4FHp7CR8H7yLeJPhLwiC32Nix9aurHs8GxZKBYJs_gF4lf6OpCmFBfRgVR4ZAz3N8EEOnU62dbz5wwyPrNBRgJI3LvrHryZmxPDC_SvAYilNqSaN6XIO46s_j81nes-dyRX212bs3mzpI1cv5bd1uIMIPCknkEiVfMMF2dhpmOnJ_sslwuUqXb6g8De5Kc26UBEF5M\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414081,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":282100,"millis":0.2821,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":173100,"millis":0.1731,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":119900,"millis":0.1199,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":154200,"millis":0.1542,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:38:56.803 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhS91zL1Enhh9MHG76GrZul7wADozUVnFJHhRtQ4FHp7CR8H7yLeJPhLwiC32Nix9aurHs8GxZKBYJs_gF4lf6OpCmFBfRgVR4ZAz3N8EEOnU62dbz5wwyPrNBRgJI3LvrHryZmxPDC_SvAYilNqSaN6XIO46s_j81nes-dyRX212bs3mzpI1cv5bd1uIMIPCknkEiVfMMF2dhpmOnJ_sslwuUqXb6g8De5Kc26UBEF5M \n"},{"result":{"nanos":139700,"millis":0.1397,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":55700,"millis":0.0557,"status":"passed"},"step":{"line":61,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":40900,"millis":0.0409,"status":"passed"},"step":{"line":62,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":40600,"millis":0.0406,"status":"passed"},"step":{"line":63,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":50400,"millis":0.0504,"status":"passed"},"step":{"line":64,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"line":65,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"line":66,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":297400,"millis":0.2974,"status":"passed"},"step":{"line":67,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"abcdefghiij\"}'"}},{"result":{"nanos":1178119100,"millis":1178.1191,"status":"passed"},"step":{"line":68,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:38:56.805 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhS91zL1Enhh9MHG76GrZul7wADozUVnFJHhRtQ4FHp7CR8H7yLeJPhLwiC32Nix9aurHs8GxZKBYJs_gF4lf6OpCmFBfRgVR4ZAz3N8EEOnU62dbz5wwyPrNBRgJI3LvrHryZmxPDC_SvAYilNqSaN6XIO46s_j81nes-dyRX212bs3mzpI1cv5bd1uIMIPCknkEiVfMMF2dhpmOnJ_sslwuUqXb6g8De5Kc26UBEF5M\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=32338FDA345966FE6023AEC20C15B187~-1~YAAQLp6yUrpW8HKAAQAAFSLzfwcjOwp3d1IsDnFc4TPq9mM6v+84FAv3HQ\/MvTqIGQdbj341qLbMnwSGjeGSfvhVc9mj\/24ic+mgvzYeLJfDNlYuvQQbLWLU5lcD0egwuIbsJuo42d3UwW9dFzjYA\/3OYn5peD9\/lDpJaqYcIu+JSdMPEwu54y\/uBgqu63mEkchSS8\/OL5IphXNL7HWVnluAR3d\/Fi+YVTkk4S7ZSl3KBBx3KZa4RdGL6wQKKTpGMoL5OTmdKXbgXMR7hq+D5DaAl0Bn+xNyDklBZqiiq\/KznnCHqVgL2fv8Vm0ggL8y2zCUVS6OAqsC0bM2fWM8arQtC\/0uEnNRP+DWKMYX9jPAu6qxpykgAUk=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=31B303CAADA176C43B4681DDDA4E58E0~YAAQLp6yUrtW8HKAAQAAFSLzfw\/cCBVhS3vCXwKlStdsB4CM0OZMpVPSA2+symXTi419ZweO9KRqBz3cq9S5vdCm3ME8GNu0ZGQRfHOa1fv77N\/CyE36pLYklOFpokSpNPski6NCXy8enWSWFPQV9yUeyL92tEV1cOJ2RNpesvT3KaJtXrCsFUFTRXCyG8cgZoAygV\/5u7AuIxhUMmmq+0P3uVxBvskf\/3Bpr\/RKPlJXE3eBtioeT7PKDNso6zteEWkVr5RycVjJ5fS3sY\/rM8GlyADhoHPvs3E9PmiU0Xib~3684403~3683120\n2 > Content-Length: 122\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"abcdefghiij\"}\n\n19:38:57.981 response time in milliseconds: 1176\n2 < 404\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: text\/plain\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: c25ea741-a087-4de7-bc31-88973aca442d\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n2 < X-Cf-Routererror: unknown_route\n2 < X-Vcap-Request-Id: 2617c1dd-05eb-417c-5e6d-3c90e74ca669\n2 < X-Global-Transaction-ID: 126374ce626e944270b14f1f\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: XX%2F5kBEbJt6deyfVvfZ6Zke5aZjUKHARkFaULUBGShu6IPwaTSKAgfMWZ2qgQrKBeKd5OTPA%2BHH6EIy1BXzvmBBXfxZHNwuQxJThxSr1DedoamkKkZ8LVgKMYVqcUQm%2FJn52H37n%2BXdM6vgE7bdOMN6WpQ5RDuNPgNyIQgmdXtQevrV4otlXLlLBgSCpFYlAzh3fy%2FOS6kxOn0ozgZAKNZm24xQ1OwEJc%2FqZXKd53XbeLpbvx1iekSyxW5Q1nmbmhBFotm9nb3dcs1AJK9aItLYu2wqTFFRigO5MxJELnJHisdMrQx6RMxpxLlfUekB%2BQTah6bFDVKswO%2FObHo4183vhpnsMo9cs%2B6qaAwmCU0j21im06q9Yp2i07CLNdrvr5Y0vpwITszw%2BCqXJdPcHUJGamKvPoGO0p1FOIOxS%2BUfW4GBzOpuq3oWaPHKI83hYS4FOSKLxBI4P2IShJI5%2F8w%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 116\n2 < Date: Sun, 01 May 2022 14:08:03 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415283000; Expires=Fri, 07 Aug 54353 09:38:57 GMT; Domain=sandbox.apihub.citi.com; Secure\n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\n\n"},{"result":{"nanos":19500,"errorMessage":"status code was: 404, expected: 400, response time in milliseconds: 1176, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","millis":0.0195,"status":"failed"},"step":{"line":69,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"19:38:57.982 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\nThen status 400\nstatus code was: 404, expected: 400, response time in milliseconds: 1176, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":70,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":71,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":72,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":73,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":60,"description":"","durationMillis":2113.7836,"failed":true,"error":"status code was: 404, expected: 400, response time in milliseconds: 1176, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n404 Not Found: Requested route ('aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443') does not exist.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","executorName":"main","name":"Verify the LinkageAPI with invalid merchantCustomerReferenceId in body parameters","startTime":1651414135867,"refId":"[4:60]","endTime":1651414137982,"exampleIndex":-1},{"sectionIndex":4,"stepResults":[{"result":{"nanos":128900,"millis":0.1289,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":49400,"millis":0.0494,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":67500,"millis":0.0675,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":84500,"millis":0.0845,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":74300,"millis":0.0743,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":438430800,"millis":438.4308,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:38:57.986 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:38:58.423 response time in milliseconds: 436\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 14744989626e9443263dfadf\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e9443-141bc792\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.47.59.12,169.175.61.90,169.177.209.51\n1 < dmz-global-txn-id: 14744989626e9443263dfadf\n1 < X-Archived-Client-IP: 23.47.59.12,23.47.59.12,169.175.61.90\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,57;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:08:03 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415283000; Expires=Fri, 07 Aug 54353 09:38:58 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=0F2CD335F4FCC9FC8B5CB87C5D0741A8~-1~YAAQLp6yUrxW8HKAAQAAZijzfwc0Y75+OD\/vW62bG3Zw0uaE0WZmwA1BihW+pPyEhfDLY1TjYifEooZrirKnWPSJOPaUQY4faabBWsjClGm0ohd5C+8jqQ90lXtAgejEz5zWB3+F0+kuhXgG2AZtTo18RVoIYvNogTXR61BjoiWwh9uFMIa5WY19bsCoKANWs4tVvTlviHjuVvH+l9zvoJ\/T+UiCiH9vXfYYDaUutL+l0C8LhMUCDZFKuWQ6Fx5keM02U2RD0fzcgQqMcjo9LnXFYCcBOOx6rho56bGVOOZTWX1CHkCz5FJO8vgOZO2uhskXbw8iSGY8m3ec2zM93kRkKbgA4\/9+ndiXA9xXVtdIWDEVNem9yS0=~-1~-1~-1; Max-Age=1682950083000; Expires=Thu, 23 Nov 55352 12:18:58 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=1DB5EB5B4B9A9207DDBD5AE1235E1E5D~YAAQLp6yUr1W8HKAAQAAZijzfw9ddx98Y1nSWwPoghrkjwq1zzzPHagQdCUAuJ4OYO36zMxWD1Tr2asA1Q7nkTG4telEt7RKM\/hJ90qy7I7KYKfQNvSbA2kepw\/8bMJsDrm4kpufLaMyIFL6HUQeKSW8hOW8G9ngXlMQb0SFFEFKF45ErOZvk4nWXryeVP5VjEPUvghXbGhbrx69RBpwK+\/F+IAHtFN+m3ezdREa6tSSmMiX2+IaKD97Dh5CMaYfw3AvXM194H+r0XG0CEyHiHN+YV8KkyOc5m92ASwNeHlj~3291203~3290934; Max-Age=1651428483000; Expires=Thu, 07 Jan 54354 04:18:58 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhejL4wMS7dmHntJQ8gfd5Kx-J7w6nkmAjQ0POKzeh1Y-vxHoxNJj2HL2umXVL5vuD1jF87C45CcFDMgGkQkqbLKODPbUMVCTWhe7tHP7LyaBf2oReeDZY7XimzrQM12o_wrHGk2Ifa24RA7Ul5uop6tl5F220HRvJhtqds6mB9seplbDUjnRL6d6zdAaT0GaNRcMJN3Zsu9S9C3xFgoKY4PZ0fJ6W-k9bLzY3yAQLuIU\", \"expires_in\":1800, \"consented_on\":1651414083, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":389400,"millis":0.3894,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:38:58.424 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhejL4wMS7dmHntJQ8gfd5Kx-J7w6nkmAjQ0POKzeh1Y-vxHoxNJj2HL2umXVL5vuD1jF87C45CcFDMgGkQkqbLKODPbUMVCTWhe7tHP7LyaBf2oReeDZY7XimzrQM12o_wrHGk2Ifa24RA7Ul5uop6tl5F220HRvJhtqds6mB9seplbDUjnRL6d6zdAaT0GaNRcMJN3Zsu9S9C3xFgoKY4PZ0fJ6W-k9bLzY3yAQLuIU\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651414083,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":321200,"millis":0.3212,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":165800,"millis":0.1658,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":162000,"millis":0.162,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":148300,"millis":0.1483,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:38:58.424 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhejL4wMS7dmHntJQ8gfd5Kx-J7w6nkmAjQ0POKzeh1Y-vxHoxNJj2HL2umXVL5vuD1jF87C45CcFDMgGkQkqbLKODPbUMVCTWhe7tHP7LyaBf2oReeDZY7XimzrQM12o_wrHGk2Ifa24RA7Ul5uop6tl5F220HRvJhtqds6mB9seplbDUjnRL6d6zdAaT0GaNRcMJN3Zsu9S9C3xFgoKY4PZ0fJ6W-k9bLzY3yAQLuIU \n"},{"result":{"nanos":102800,"millis":0.1028,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":49400,"millis":0.0494,"status":"passed"},"step":{"line":77,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"line":78,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":274300,"millis":0.2743,"status":"passed"},"step":{"line":79,"prefix":"And","index":2,"text":"header Authorization = 'Bearer 123456'"}},{"result":{"nanos":70000,"millis":0.07,"status":"passed"},"step":{"line":80,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":46700,"millis":0.0467,"status":"passed"},"step":{"line":81,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":57100,"millis":0.0571,"status":"passed"},"step":{"line":82,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":66200,"millis":0.0662,"status":"passed"},"step":{"line":83,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":863368000,"millis":863.368,"status":"passed"},"step":{"line":84,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:38:58.427 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer 123456\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=0F2CD335F4FCC9FC8B5CB87C5D0741A8~-1~YAAQLp6yUrxW8HKAAQAAZijzfwc0Y75+OD\/vW62bG3Zw0uaE0WZmwA1BihW+pPyEhfDLY1TjYifEooZrirKnWPSJOPaUQY4faabBWsjClGm0ohd5C+8jqQ90lXtAgejEz5zWB3+F0+kuhXgG2AZtTo18RVoIYvNogTXR61BjoiWwh9uFMIa5WY19bsCoKANWs4tVvTlviHjuVvH+l9zvoJ\/T+UiCiH9vXfYYDaUutL+l0C8LhMUCDZFKuWQ6Fx5keM02U2RD0fzcgQqMcjo9LnXFYCcBOOx6rho56bGVOOZTWX1CHkCz5FJO8vgOZO2uhskXbw8iSGY8m3ec2zM93kRkKbgA4\/9+ndiXA9xXVtdIWDEVNem9yS0=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=1DB5EB5B4B9A9207DDBD5AE1235E1E5D~YAAQLp6yUr1W8HKAAQAAZijzfw9ddx98Y1nSWwPoghrkjwq1zzzPHagQdCUAuJ4OYO36zMxWD1Tr2asA1Q7nkTG4telEt7RKM\/hJ90qy7I7KYKfQNvSbA2kepw\/8bMJsDrm4kpufLaMyIFL6HUQeKSW8hOW8G9ngXlMQb0SFFEFKF45ErOZvk4nWXryeVP5VjEPUvghXbGhbrx69RBpwK+\/F+IAHtFN+m3ezdREa6tSSmMiX2+IaKD97Dh5CMaYfw3AvXM194H+r0XG0CEyHiHN+YV8KkyOc5m92ASwNeHlj~3291203~3290934\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:38:59.289 response time in milliseconds: 861\n2 < 401\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Credentials: true\n2 < WWW-Authenticate: Bearer error=\"invalid_token\"\n2 < X-Global-Transaction-ID: 6e68aa42626e9444cb7632bf\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 101\n2 < Date: Sun, 01 May 2022 14:08:04 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415284000; Expires=Fri, 07 Aug 54353 09:55:39 GMT; Domain=sandbox.apihub.citi.com; Secure\n{ \"type\":\"unAuthorized\", \"code\":\"401\", \"details\":\"Authorization credentials are missing or invalid\" }\n\n"},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":85,"prefix":"Then","index":8,"text":"status 401"}},{"result":{"nanos":550700,"millis":0.5507,"status":"passed"},"step":{"line":86,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:38:59.290 [print] {\n  \"type\": \"unAuthorized\",\n  \"code\": \"401\",\n  \"details\": \"Authorization credentials are missing or invalid\"\n}\n \n"},{"result":{"nanos":894700,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'unAuthorized'\n  'error'\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:87","millis":0.8947,"status":"failed"},"step":{"line":87,"prefix":"And","index":10,"text":"match response.type == 'error'"},"stepLog":"19:38:59.291 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:87\nAnd match response.type == 'error'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'unAuthorized'\n  'error'\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:87\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":88,"prefix":"And","index":11,"text":"match response.code == 'unAuthorized'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":89,"prefix":"And","index":12,"text":"match response.details == 'Authorization credentials are missing or invalid'"}}],"line":75,"description":"","durationMillis":1305.5737,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'unAuthorized'\n  'error'\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:87","executorName":"main","name":"Verify the LinkageAPI with invalid Authorization credentials in the request","startTime":1651414137984,"refId":"[5:75]","endTime":1651414139291,"exampleIndex":-1}],"callDepth":0,"name":"API level unit testing for linkage service","description":"","resultDate":"2022-05-01 07:38:59 pm","durationMillis":8227.8971,"passedCount":0}