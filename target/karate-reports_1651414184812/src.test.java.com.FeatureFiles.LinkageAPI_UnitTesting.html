<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="res/bootstrap.min.css" type="text/css"/>
    <link rel="stylesheet" href="res/karate-report.css" type="text/css"/>
    <link rel="shortcut icon" href="favicon.ico"/>
    <script type="text/javascript" src="res/jquery.min.js"></script>
    <script type="text/javascript" src="res/jquery.tablesorter.min.js"></script>
    <script type="text/javascript" src="res/bootstrap.min.js"></script>
    <script type="text/javascript" src="res/karate-report.js"></script>
    <script>
!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
posthog.init('phc_pb7428bpWvS2BLY4EwJ6tS1Y8IlVclo5LPTSmSbm5n8',{
  api_host:'https://app.posthog.com',
  persistence:'localStorage',
  autocapture:false,
  capture_pageview:false,
  api_transport:'sendBeacon',
  loaded: function(posthog) { 
    posthog.identify("c8c6bda7-fbeb-485b-81e9-131a5c732596",{name:"vimalrajv"});
    posthog.capture("report_feature",{karate_version:"1.2.0.RC6",karate_meta:null});
  }
});  
</script>
  
    <title>src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting</title>  
  </head>
  <body>   
    <div id="root-container">
      <div id="leftnav">
                
        <div>
  <div class="nav-logo">
    <a href="karate-summary.html">
      <img src="karate-logo.svg" alt="Karate"/>
    </a>
    <div class="nav-count">
      <div id="nav-pass" class="bg-success">0</div>
      <div id="nav-fail" class="bg-danger">5</div>
    </div>
  </div>
  <div id="nav-type">
    <div>Scenarios</div>
  </div>         
  <div id="nav-date">
    <div>2022-05-01 07:38:59 pm</div>
  </div>        
</div>

        <div class="nav-container">
          <div class="nav-item failed">
            <a href="#[1:18]"><span>[1:18]</span> <span>Verify the LinkageAPI with all mandatory body parameters</span></a>
          </div>
          <div class="nav-item failed">
            <a href="#[2:30]"><span>[2:30]</span> <span>Verify the LinkageAPI with invalid lastFourDigitsCardNumber in body parameters</span></a>
          </div>
          <div class="nav-item failed">
            <a href="#[3:45]"><span>[3:45]</span> <span>Verify the LinkageAPI with invalid citiCardHolderPhoneNumber in body parameters</span></a>
          </div>
          <div class="nav-item failed">
            <a href="#[4:60]"><span>[4:60]</span> <span>Verify the LinkageAPI with invalid merchantCustomerReferenceId in body parameters</span></a>
          </div>
          <div class="nav-item failed">
            <a href="#[5:75]"><span>[5:75]</span> <span>Verify the LinkageAPI with invalid Authorization credentials in the request</span></a>
          </div>
        </div>
      </div>
      <div id="content">
        <div class="page-heading alert alert-primary">
          <a href="karate-summary.html">Summary</a><span class="feature-label">|</span>
          <a href="karate-tags.html">Tags</a><span class="feature-label">|</span>
          <span class="feature-label">Feature:</span>
          <span class="feature-path">src/test/java/com.FeatureFiles/LinkageAPI_UnitTesting.feature</span><span class="feature-label">|</span>
          <span class="feature-name">API level unit testing for linkage service</span>
          <span class="feature-description"></span>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[1:18]">
            <div class="heading-container">
              <div class="scenario-tags">
                
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[1:18]</span>
                <span class="scenario-name">Verify the LinkageAPI with all mandatory body parameters</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time failed">
              <span>ms:</span>&nbsp;<span>2091</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[1:18]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.4">
      <div class="step-ref bg-step">4</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">53</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.5">
      <div class="step-ref bg-step">5</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/clientCredentials/oauth2/token/hk/gcb&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = &#39;Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/x-www-form-urlencoded&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;grant_type=client_credentials&amp;scope=/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">1359</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.9">19:38:51.338 request:
1 &gt; POST https://sandbox.apihub.citi.com/gcb/api/clientCredentials/oauth2/token/hk/gcb
1 &gt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &gt; Content-Type: application/x-www-form-urlencoded; charset=UTF-8
1 &gt; Content-Length: 40
1 &gt; Host: sandbox.apihub.citi.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
1 &gt; Accept-Encoding: gzip,deflate
grant_type=client_credentials&amp;scope=/api

19:38:52.443 response time in milliseconds: 1101
1 &lt; 200
1 &lt; X-Backside-Transport: OK OK,OK OK,OK OK
1 &lt; Content-Type: application/json
1 &lt; Content-Type: application/json
1 &lt; X-Global-Transaction-ID: ddade3ba626e943d84fc3c0d
1 &lt; X-Akamai-True-Client-IP: 85.154.175.224
1 &lt; Pragma: no-cache
1 &lt; X-DataStream-Session-Id: a11f57161-626e943c-141b9c7a
1 &lt; X_AK_SHAPE_AGGREGATOR_IP: FALSE
1 &lt; X-Akamai-CONFIG-LOG-DETAIL: true
1 &lt; Akamai-Origin-Hop: 2
1 &lt; X-Forwarded-For: 85.154.175.224, 82.178.158.46
1 &lt; Cache-Control: no-cache, max-age=0
1 &lt; X-Client-IP: 23.205.102.68,169.175.61.93,169.177.209.50
1 &lt; dmz-global-txn-id: ddade3ba626e943d84fc3c0d
1 &lt; X-Archived-Client-IP: 23.205.102.68,23.205.102.68,169.175.61.93
1 &lt; countryCode: HK
1 &lt; businessCode: GCB
1 &lt; scope: /api
1 &lt; channelId: SSA
1 &lt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
1 &lt; client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY
1 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Origin: 
1 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
1 &lt; X-RateLimit-Limit: name=rate-limit-1,60;
1 &lt; X-RateLimit-Remaining: name=rate-limit-1,59;
1 &lt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &lt; X-Akamai-CITISITE: GTDC
1 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Credentials: true
1 &lt; Content-Length: 393
1 &lt; Date: Sun, 01 May 2022 14:07:57 GMT
1 &lt; Connection: keep-alive
1 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415277000; Expires=Fri, 07 Aug 54353 07:58:52 GMT; Domain=sandbox.apihub.citi.com; Secure
1 &lt; Set-Cookie: _abck=8CEBAE98F3697C906053FC1720C932F9~-1~YAAQLp6yUrFW8HKAAQAA8hDzfwcV99MyTzvgiSYQwChEUwwrxvBhJyV09RUvJU5EbwdBPJ2qpSH8N34GPZ+S48a79jdCn8QdSd+RBLrl3jptvQQspTHzc9lVK6k13rFmezEgyc0FNno4v/B4l+VPSaKn70Tha+eIGYAwbmhH/ZTOXo5nny9uefoaYZgxK+GMYSfaQfUq8btusDdGLJoRQAZbZPYuqm20dKrKeDdM9wY/4w8NeX7AEC3GGjEC1cseW2/yonhCd8lkNO5QogWj8Iqugnqvk/ZnHMTQe1bNyVFZr4NLdAHMEi9E4IbnCbur/SVekiKICh/I8OcdstwKATOkKMr8FLkLQGzGbHTDxYKpXomksgW82UA=~-1~-1~-1; Max-Age=1682950077000; Expires=Thu, 23 Nov 55352 10:38:52 GMT; Domain=citi.com; Secure
1 &lt; Set-Cookie: bm_sz=7384B9B6DDF240C5B19A6D23F50E6DB4~YAAQLp6yUrJW8HKAAQAA8hDzfw++wdFkh+BrAygo0i2+aRsXTKBg0sSUUGLSw0F0YM+hYxefsAYAZ41zvlt2OlDC0Bi22P7FbqKCAdCq9+qZVPPQakD+ZqMJS26re784ScXYuHtzNDVSMz1eiAyUxIDGl15BxfT8KT1Jcal6D8Id7wU7jJySq5zK6rXjeXCq2dZURA4IlP/0OyODsV6nvem0HHk2WG4Sv49NBqcF0v2DJ7OrT23fM/F6MY8rLWY4cf+g1SYC1yNpE61q4FvJcACx/oUsFafKj8LxzozXYHc0~4338998~3490869; Max-Age=1651428476000; Expires=Thu, 07 Jan 54354 02:22:12 GMT; Domain=citi.com
{ &quot;token_type&quot;:&quot;Bearer&quot;, &quot;access_token&quot;:&quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhu3KxOb6x2QZW-B9jOnU4MCqIdU9MFemQA33_bpvk_mOfFCUYztR7b-5GDhB9iK4wf-vzyMe0zC9uUchyoTjQQc28bHBtzAgfsOefJRehNugTY95bU_LOhGvwRxN1rRIBURZuA29ZZjNs4Q1m_D5hhubmCgO-32tV-UIQxcWqZu8_rH8FuJihUOxO1nxtckW0RwqEro2UO1Re5sorvN9VIzdR2DZ_2VwQT2MCF6s4HP0&quot;, &quot;expires_in&quot;:1800, &quot;consented_on&quot;:1651414077, &quot;scope&quot;:&quot;/api&quot; }

</div>   

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.11">
      <div class="step-ref bg-step">11</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell passed">44</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.11">19:38:52.505 [print] {
  &quot;token_type&quot;: &quot;Bearer&quot;,
  &quot;access_token&quot;: &quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhu3KxOb6x2QZW-B9jOnU4MCqIdU9MFemQA33_bpvk_mOfFCUYztR7b-5GDhB9iK4wf-vzyMe0zC9uUchyoTjQQc28bHBtzAgfsOefJRehNugTY95bU_LOhGvwRxN1rRIBURZuA29ZZjNs4Q1m_D5hhubmCgO-32tV-UIQxcWqZu8_rH8FuJihUOxO1nxtckW0RwqEro2UO1Re5sorvN9VIzdR2DZ_2VwQT2MCF6s4HP0&quot;,
  &quot;expires_in&quot;: 1800,
  &quot;consented_on&quot;: 1651414077,
  &quot;scope&quot;: &quot;/api&quot;
}
 
</div>   

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.12">
      <div class="step-ref bg-step">12</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.token_type == &#39;Bearer&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">17</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.13">
      <div class="step-ref bg-step">13</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.access_token != null</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.14">
      <div class="step-ref bg-step">14</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def accessToken = response.access_token</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.15">
      <div class="step-ref bg-step">15</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print &#39;AccessToken&#39;, accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.15">19:38:52.526 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhu3KxOb6x2QZW-B9jOnU4MCqIdU9MFemQA33_bpvk_mOfFCUYztR7b-5GDhB9iK4wf-vzyMe0zC9uUchyoTjQQc28bHBtzAgfsOefJRehNugTY95bU_LOhGvwRxN1rRIBURZuA29ZZjNs4Q1m_D5hhubmCgO-32tV-UIQxcWqZu8_rH8FuJihUOxO1nxtckW0RwqEro2UO1Re5sorvN9VIzdR2DZ_2VwQT2MCF6s4HP0 
</div>   

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.16">
      <div class="step-ref bg-step">16</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def Auth = &#39;Bearer &#39;+accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">6</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.19">
      <div class="step-ref passed">19</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.20">
      <div class="step-ref passed">20</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/v1/apac/rewards/linkage&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.21">
      <div class="step-ref passed">21</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = Auth</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.22">
      <div class="step-ref passed">22</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Accept = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.23">
      <div class="step-ref passed">23</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.24">
      <div class="step-ref passed">24</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header client_id = &#39;5ad84ff6-2ef9-402d-9cba-d12bfcb41faa&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.25">
      <div class="step-ref passed">25</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.26">
      <div class="step-ref passed">26</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">605</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.26">19:38:52.537 request:
2 &gt; POST https://sandbox.apihub.citi.com/gcb/api/v1/apac/rewards/linkage
2 &gt; Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhu3KxOb6x2QZW-B9jOnU4MCqIdU9MFemQA33_bpvk_mOfFCUYztR7b-5GDhB9iK4wf-vzyMe0zC9uUchyoTjQQc28bHBtzAgfsOefJRehNugTY95bU_LOhGvwRxN1rRIBURZuA29ZZjNs4Q1m_D5hhubmCgO-32tV-UIQxcWqZu8_rH8FuJihUOxO1nxtckW0RwqEro2UO1Re5sorvN9VIzdR2DZ_2VwQT2MCF6s4HP0
2 &gt; Accept: application/json
2 &gt; Content-Type: application/json; charset=UTF-8
2 &gt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
2 &gt; Cookie: _abck=8CEBAE98F3697C906053FC1720C932F9~-1~YAAQLp6yUrFW8HKAAQAA8hDzfwcV99MyTzvgiSYQwChEUwwrxvBhJyV09RUvJU5EbwdBPJ2qpSH8N34GPZ+S48a79jdCn8QdSd+RBLrl3jptvQQspTHzc9lVK6k13rFmezEgyc0FNno4v/B4l+VPSaKn70Tha+eIGYAwbmhH/ZTOXo5nny9uefoaYZgxK+GMYSfaQfUq8btusDdGLJoRQAZbZPYuqm20dKrKeDdM9wY/4w8NeX7AEC3GGjEC1cseW2/yonhCd8lkNO5QogWj8Iqugnqvk/ZnHMTQe1bNyVFZr4NLdAHMEi9E4IbnCbur/SVekiKICh/I8OcdstwKATOkKMr8FLkLQGzGbHTDxYKpXomksgW82UA=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=7384B9B6DDF240C5B19A6D23F50E6DB4~YAAQLp6yUrJW8HKAAQAA8hDzfw++wdFkh+BrAygo0i2+aRsXTKBg0sSUUGLSw0F0YM+hYxefsAYAZ41zvlt2OlDC0Bi22P7FbqKCAdCq9+qZVPPQakD+ZqMJS26re784ScXYuHtzNDVSMz1eiAyUxIDGl15BxfT8KT1Jcal6D8Id7wU7jJySq5zK6rXjeXCq2dZURA4IlP/0OyODsV6nvem0HHk2WG4Sv49NBqcF0v2DJ7OrT23fM/F6MY8rLWY4cf+g1SYC1yNpE61q4FvJcACx/oUsFafKj8LxzozXYHc0~4338998~3490869
2 &gt; Content-Length: 124
2 &gt; Host: sandbox.apihub.citi.com
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
2 &gt; Accept-Encoding: gzip,deflate
{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}

19:38:53.139 response time in milliseconds: 602
2 &lt; 404
2 &lt; X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL
2 &lt; Content-Type: text/plain
2 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
2 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Max-Age: 2147483647
2 &lt; Cache-Control: no-cache, no-store
2 &lt; Expires: -1
2 &lt; Pragma: no-cache
2 &lt; Uuid: 4424a32a-dbb4-4931-b02b-36c95e9b5b86
2 &lt; X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0
2 &lt; X-Cf-Routererror: unknown_route
2 &lt; X-Vcap-Request-Id: a203d3d1-99cc-4f7b-560a-9fb38aab8e25
2 &lt; X-Global-Transaction-ID: 98b6a370626e943e00db8dbf
2 &lt; Access-Control-Allow-Origin: 
2 &lt; Access-Control-Allow-Credentials: true
2 &lt; mfaCode: YcDzx2nUVijgOZBrqFpFncQ4aVkGJPwbHcJjdvBbpoeCR7AQ%2BID9eCFaWiqcGvwZjf4Nr7mBJrE7HEKKeOK0WJG3M7ZhfZoza4O4zIlmaM8UVPAjMTcLDpAD2tPFusHBfiUX3P%2Boz%2FPGCaXJUo12VcLLYoHJZNu0DQ3JWbvEwS9xxw60VIVutFfbdYz8asmnSI%2FNFj9wlUVl9s2B3w5yBuNBzcpXnO21%2BhhriQrfkp%2B7dCSsT6%2BrzJL2MYfSqgUDdknTBCBqOqv4uG6u%2Fu2vSX8T7K8Z4zLLA7tRK3AqVDyYxEcVE8OiA94IKUBgRrkfGW3zQNPh6j9n4u5emEXXNTTiEEiE8pphLnkVfK0rTWUjZjF70B7Kby9i%2FYoHKscXFi47OyvlLNef4GmeA%2F1E1rLc7K3XTVcK2tO%2BrDJDwfYvqbE%2BJoKBVtTG%2FTbw9LIBqGje10tMLkfg7zzUwWwWnw%3D%3D
2 &lt; X-Akamai-CITISITE: GTDC
2 &lt; Content-Length: 116
2 &lt; Date: Sun, 01 May 2022 14:07:58 GMT
2 &lt; Connection: close
2 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415278000; Expires=Fri, 07 Aug 54353 08:15:33 GMT; Domain=sandbox.apihub.citi.com; Secure
404 Not Found: Requested route (&#39;aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443&#39;) does not exist.


</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.27">
      <div class="step-ref failed">27</div>
      
      <div class="step-cell failed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell failed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.27">19:38:53.140 src/test/java/com.FeatureFiles/LinkageAPI_UnitTesting.feature:27
Then status 200
status code was: 404, expected: 200, response time in milliseconds: 602, url: https://sandbox.apihub.citi.com/gcb/api/v1/apac/rewards/linkage, response: 
404 Not Found: Requested route (&#39;aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443&#39;) does not exist.

src/test/java/com.FeatureFiles/LinkageAPI_UnitTesting.feature:27
</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.28">
      <div class="step-ref skipped">28</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>match response.rewardLinkCode != null</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[2:30]">
            <div class="heading-container">
              <div class="scenario-tags">
                
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[2:30]</span>
                <span class="scenario-name">Verify the LinkageAPI with invalid lastFourDigitsCardNumber in body parameters</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time failed">
              <span>ms:</span>&nbsp;<span>1139</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[2:30]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.4">
      <div class="step-ref bg-step">4</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.5">
      <div class="step-ref bg-step">5</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/clientCredentials/oauth2/token/hk/gcb&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = &#39;Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/x-www-form-urlencoded&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;grant_type=client_credentials&amp;scope=/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">518</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.9">19:38:53.146 request:
1 &gt; POST https://sandbox.apihub.citi.com/gcb/api/clientCredentials/oauth2/token/hk/gcb
1 &gt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &gt; Content-Type: application/x-www-form-urlencoded; charset=UTF-8
1 &gt; Content-Length: 40
1 &gt; Host: sandbox.apihub.citi.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
1 &gt; Accept-Encoding: gzip,deflate
grant_type=client_credentials&amp;scope=/api

19:38:53.663 response time in milliseconds: 517
1 &lt; 200
1 &lt; X-Backside-Transport: OK OK,OK OK,OK OK
1 &lt; Content-Type: application/json
1 &lt; Content-Type: application/json
1 &lt; X-Global-Transaction-ID: 6e68aa42626e943e400bafb1
1 &lt; X-Akamai-True-Client-IP: 85.154.175.224
1 &lt; Pragma: no-cache
1 &lt; X-DataStream-Session-Id: a11f57161-626e943e-141ba763
1 &lt; X_AK_SHAPE_AGGREGATOR_IP: FALSE
1 &lt; X-Akamai-CONFIG-LOG-DETAIL: true
1 &lt; Akamai-Origin-Hop: 2
1 &lt; X-Forwarded-For: 85.154.175.224, 82.178.158.46
1 &lt; Cache-Control: no-cache, max-age=0
1 &lt; X-Client-IP: 23.64.120.184,169.175.115.121,169.177.209.51
1 &lt; dmz-global-txn-id: 6e68aa42626e943e400bafb1
1 &lt; X-Archived-Client-IP: 23.64.120.184,23.64.120.184,169.175.115.121
1 &lt; countryCode: HK
1 &lt; businessCode: GCB
1 &lt; scope: /api
1 &lt; channelId: SSA
1 &lt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
1 &lt; client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY
1 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Origin: 
1 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
1 &lt; X-RateLimit-Limit: name=rate-limit-1,60;
1 &lt; X-RateLimit-Remaining: name=rate-limit-1,58;
1 &lt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &lt; X-Akamai-CITISITE: GTDC
1 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Credentials: true
1 &lt; Content-Length: 393
1 &lt; Date: Sun, 01 May 2022 14:07:58 GMT
1 &lt; Connection: keep-alive
1 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415278000; Expires=Fri, 07 Aug 54353 08:15:33 GMT; Domain=sandbox.apihub.citi.com; Secure
1 &lt; Set-Cookie: _abck=4D4C1923189AA7A00D18AE3DF1AB9F9B~-1~YAAQLp6yUrNW8HKAAQAAzRXzfwdHzn7kPGHDVnE3gryt66+tZC5ST41hClqYMxZEqg+smHl3DepuYgbw3O9vBNnj+oxy8FPAWUoi8JBU4pYu+M/irhYq7sUv/uybu35gF0TO2Bsq+AUVZ9drGCFCWhswoJhsrGy4McEpQrlqApD1dxyOB4/3uUdh4cBBgS8fyZxAl/+x6WWim7aIhziQ+CMN9gsJz/byuwCUyMNO0vQemoLDcsLxM8z7lNFBTSSt9DuedIvKP3Xq/reE4ql2oEUG7XSy8X0CPFjzOfoypNt46w5HXxElCKEY8+S3nyduDJyzj01Nj90EoKqGrW3tcLYLKZbqd35r7Wpw3GrGkQs+8PPs2Oex/Uc=~-1~-1~-1; Max-Age=1682950078000; Expires=Thu, 23 Nov 55352 10:55:33 GMT; Domain=citi.com; Secure
1 &lt; Set-Cookie: bm_sz=BAC9A30C4DFDAEC750C6808744FA6DC4~YAAQLp6yUrRW8HKAAQAAzRXzfw/ii81JAMpqod42qr6HM+LxP5q/ZWWMQdBx/D2wMvHzRMekEqMfFu/b6rp7eANar0zkOrYxQszVYLPAmcUpp+d24cv4mNV1ClrrmiwcmlFSpMV3W4CfEDDg+DHo5k1fGnji/OZnTl/dLZ9rIO5PKK+aOGCRHpcWRPKKPRZcnjFIzFSUX2hMRHrAAx4Ku6kbLkzHLLNCQMw0h7/dk/h/dlskghm1s04TRFx3JqtYdTGgU0nU2Te0c+hCQ3JRUgMRNaN33GgoXbU3NiQtGxvB~4342069~4536645; Max-Age=1651428478000; Expires=Thu, 07 Jan 54354 02:55:33 GMT; Domain=citi.com
{ &quot;token_type&quot;:&quot;Bearer&quot;, &quot;access_token&quot;:&quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh8Y1stNh1F3gvkdJgGqUo18r500230Gf2pgqP7KXPExyVLW1DL2OY2sAStdyG6BeF_nGnVQR9WXuAPDeROWCx4oZmPbkIvrmeNdl7eEMh66nfJgWJE4oH_lkkYB9l-BZrqWRgHud8EnaW3WuWuLVLA3E4yOCvuoO2UqUYJ08Lh6k89anToTih7ruR2Md3GpOUkwga_0ELGxBFPXEcBr7NoIymbqxLRtuPDATKiUmPjsA&quot;, &quot;expires_in&quot;:1800, &quot;consented_on&quot;:1651414078, &quot;scope&quot;:&quot;/api&quot; }

</div>   

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.11">
      <div class="step-ref bg-step">11</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.11">19:38:53.665 [print] {
  &quot;token_type&quot;: &quot;Bearer&quot;,
  &quot;access_token&quot;: &quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh8Y1stNh1F3gvkdJgGqUo18r500230Gf2pgqP7KXPExyVLW1DL2OY2sAStdyG6BeF_nGnVQR9WXuAPDeROWCx4oZmPbkIvrmeNdl7eEMh66nfJgWJE4oH_lkkYB9l-BZrqWRgHud8EnaW3WuWuLVLA3E4yOCvuoO2UqUYJ08Lh6k89anToTih7ruR2Md3GpOUkwga_0ELGxBFPXEcBr7NoIymbqxLRtuPDATKiUmPjsA&quot;,
  &quot;expires_in&quot;: 1800,
  &quot;consented_on&quot;: 1651414078,
  &quot;scope&quot;: &quot;/api&quot;
}
 
</div>   

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.12">
      <div class="step-ref bg-step">12</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.token_type == &#39;Bearer&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.13">
      <div class="step-ref bg-step">13</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.access_token != null</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.14">
      <div class="step-ref bg-step">14</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def accessToken = response.access_token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.15">
      <div class="step-ref bg-step">15</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print &#39;AccessToken&#39;, accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.15">19:38:53.666 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh8Y1stNh1F3gvkdJgGqUo18r500230Gf2pgqP7KXPExyVLW1DL2OY2sAStdyG6BeF_nGnVQR9WXuAPDeROWCx4oZmPbkIvrmeNdl7eEMh66nfJgWJE4oH_lkkYB9l-BZrqWRgHud8EnaW3WuWuLVLA3E4yOCvuoO2UqUYJ08Lh6k89anToTih7ruR2Md3GpOUkwga_0ELGxBFPXEcBr7NoIymbqxLRtuPDATKiUmPjsA 
</div>   

  

</div>
</div>
          <div data-parent="[2:30]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.16">
      <div class="step-ref bg-step">16</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def Auth = &#39;Bearer &#39;+accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.31">
      <div class="step-ref passed">31</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.32">
      <div class="step-ref passed">32</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/v1/apac/rewards/linkage&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.33">
      <div class="step-ref passed">33</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = Auth</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.34">
      <div class="step-ref passed">34</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Accept = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.35">
      <div class="step-ref passed">35</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.36">
      <div class="step-ref passed">36</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header client_id = &#39;5ad84ff6-2ef9-402d-9cba-d12bfcb41faa&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.37">
      <div class="step-ref passed">37</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;{&quot;lastFourDigitsCardNumber&quot;: &quot;1234&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.38">
      <div class="step-ref passed">38</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">616</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.38">19:38:53.669 request:
2 &gt; POST https://sandbox.apihub.citi.com/gcb/api/v1/apac/rewards/linkage
2 &gt; Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh8Y1stNh1F3gvkdJgGqUo18r500230Gf2pgqP7KXPExyVLW1DL2OY2sAStdyG6BeF_nGnVQR9WXuAPDeROWCx4oZmPbkIvrmeNdl7eEMh66nfJgWJE4oH_lkkYB9l-BZrqWRgHud8EnaW3WuWuLVLA3E4yOCvuoO2UqUYJ08Lh6k89anToTih7ruR2Md3GpOUkwga_0ELGxBFPXEcBr7NoIymbqxLRtuPDATKiUmPjsA
2 &gt; Accept: application/json
2 &gt; Content-Type: application/json; charset=UTF-8
2 &gt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
2 &gt; Cookie: _abck=4D4C1923189AA7A00D18AE3DF1AB9F9B~-1~YAAQLp6yUrNW8HKAAQAAzRXzfwdHzn7kPGHDVnE3gryt66+tZC5ST41hClqYMxZEqg+smHl3DepuYgbw3O9vBNnj+oxy8FPAWUoi8JBU4pYu+M/irhYq7sUv/uybu35gF0TO2Bsq+AUVZ9drGCFCWhswoJhsrGy4McEpQrlqApD1dxyOB4/3uUdh4cBBgS8fyZxAl/+x6WWim7aIhziQ+CMN9gsJz/byuwCUyMNO0vQemoLDcsLxM8z7lNFBTSSt9DuedIvKP3Xq/reE4ql2oEUG7XSy8X0CPFjzOfoypNt46w5HXxElCKEY8+S3nyduDJyzj01Nj90EoKqGrW3tcLYLKZbqd35r7Wpw3GrGkQs+8PPs2Oex/Uc=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=BAC9A30C4DFDAEC750C6808744FA6DC4~YAAQLp6yUrRW8HKAAQAAzRXzfw/ii81JAMpqod42qr6HM+LxP5q/ZWWMQdBx/D2wMvHzRMekEqMfFu/b6rp7eANar0zkOrYxQszVYLPAmcUpp+d24cv4mNV1ClrrmiwcmlFSpMV3W4CfEDDg+DHo5k1fGnji/OZnTl/dLZ9rIO5PKK+aOGCRHpcWRPKKPRZcnjFIzFSUX2hMRHrAAx4Ku6kbLkzHLLNCQMw0h7/dk/h/dlskghm1s04TRFx3JqtYdTGgU0nU2Te0c+hCQ3JRUgMRNaN33GgoXbU3NiQtGxvB~4342069~4536645
2 &gt; Content-Length: 124
2 &gt; Host: sandbox.apihub.citi.com
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
2 &gt; Accept-Encoding: gzip,deflate
{&quot;lastFourDigitsCardNumber&quot;: &quot;1234&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}

19:38:54.283 response time in milliseconds: 613
2 &lt; 404
2 &lt; X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL
2 &lt; Content-Type: text/plain
2 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
2 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Max-Age: 2147483647
2 &lt; Cache-Control: no-cache, no-store
2 &lt; Expires: -1
2 &lt; Pragma: no-cache
2 &lt; Uuid: 408141c3-3847-41b0-a15f-d5e773952908
2 &lt; X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2
2 &lt; X-Cf-Routererror: unknown_route
2 &lt; X-Vcap-Request-Id: 3c84b761-6376-4f37-5fbc-ede434ab4c53
2 &lt; X-Global-Transaction-ID: 126374ce626e943f095d188d
2 &lt; Access-Control-Allow-Origin: 
2 &lt; Access-Control-Allow-Credentials: true
2 &lt; mfaCode: %2FalnFq7DsLcNF%2FPrvA%2BgfOtlP4EeOA2vcW%2Bq4mSKAjSQiu6ht%2Fcg5UYCu6mfNZI%2BJ362G6Mr9B1qDvurkpZDCAMCLKw718337CnnwWDIziSEUv5vlSY4j2YrwI%2BR5EFyWPaLly2nws4F8MFUtRYyaJteJSiMrQcpc%2BB4BGxw%2FoCsWi7kZdhgcwTFnz8GlV5XYsDVVtmrbq%2F5FnyyM5yHSjJuvh0AB5APcWhXGVt%2BqASpDcItTTcntn3e4aNzh9K97pxCeD1pHY%2BjjxluOSXTWQ0G0GrIFaP4etGe2nu1oN4K5Ll%2BRNZfCPooJaMTt76IkxYIv8S8UAsMwIUOnRHPQb7KOM8gZe36jaGFDZu7Qnsj%2FakTOSD8a168cuEgikrYV%2FJUujN89Tlr2JDhVR5ICBDQ%2BrjaW7SnufNHqpSxyz5d0%2FTtlO3iA9oH0llrByFb%2FyrzJ4CxdpLGR1DVjV0v%2FA%3D%3D
2 &lt; X-Akamai-CITISITE: GTDC
2 &lt; Content-Length: 116
2 &lt; Date: Sun, 01 May 2022 14:07:59 GMT
2 &lt; Connection: close
2 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415279000; Expires=Fri, 07 Aug 54353 08:32:14 GMT; Domain=sandbox.apihub.citi.com; Secure
404 Not Found: Requested route (&#39;aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443&#39;) does not exist.


</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.39">
      <div class="step-ref failed">39</div>
      
      <div class="step-cell failed">
        <span>Then</span>&nbsp;<span>status 400</span>
      </div>
    </div>
    <div class="time-cell failed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.39">19:38:54.284 src/test/java/com.FeatureFiles/LinkageAPI_UnitTesting.feature:39
Then status 400
status code was: 404, expected: 400, response time in milliseconds: 613, url: https://sandbox.apihub.citi.com/gcb/api/v1/apac/rewards/linkage, response: 
404 Not Found: Requested route (&#39;aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443&#39;) does not exist.

src/test/java/com.FeatureFiles/LinkageAPI_UnitTesting.feature:39
</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.40">
      <div class="step-ref skipped">40</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.41">
      <div class="step-ref skipped">41</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>match response.type == &#39;invalid&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.42">
      <div class="step-ref skipped">42</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>match response.code == &#39;invalidRequest&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.43">
      <div class="step-ref skipped">43</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>match response.details == &#39;Missing or invalid parameters&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[3:45]">
            <div class="heading-container">
              <div class="scenario-tags">
                
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[3:45]</span>
                <span class="scenario-name">Verify the LinkageAPI with invalid citiCardHolderPhoneNumber in body parameters</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time failed">
              <span>ms:</span>&nbsp;<span>1579</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[3:45]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.4">
      <div class="step-ref bg-step">4</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.5">
      <div class="step-ref bg-step">5</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/clientCredentials/oauth2/token/hk/gcb&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = &#39;Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/x-www-form-urlencoded&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;grant_type=client_credentials&amp;scope=/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">622</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.9">19:38:54.287 request:
1 &gt; POST https://sandbox.apihub.citi.com/gcb/api/clientCredentials/oauth2/token/hk/gcb
1 &gt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &gt; Content-Type: application/x-www-form-urlencoded; charset=UTF-8
1 &gt; Content-Length: 40
1 &gt; Host: sandbox.apihub.citi.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
1 &gt; Accept-Encoding: gzip,deflate
grant_type=client_credentials&amp;scope=/api

19:38:54.907 response time in milliseconds: 620
1 &lt; 200
1 &lt; X-Backside-Transport: OK OK,OK OK,OK OK
1 &lt; Content-Type: application/json
1 &lt; Content-Type: application/json
1 &lt; X-Global-Transaction-ID: 14744989626e943f2635863f
1 &lt; X-Akamai-True-Client-IP: 85.154.175.224
1 &lt; Pragma: no-cache
1 &lt; X-DataStream-Session-Id: a11f57161-626e943f-141bafad
1 &lt; X_AK_SHAPE_AGGREGATOR_IP: FALSE
1 &lt; X-Akamai-CONFIG-LOG-DETAIL: true
1 &lt; Akamai-Origin-Hop: 2
1 &lt; X-Forwarded-For: 85.154.175.224, 82.178.158.46
1 &lt; Cache-Control: no-cache, max-age=0
1 &lt; X-Client-IP: 23.47.59.18,169.175.61.90,169.177.209.50
1 &lt; dmz-global-txn-id: 14744989626e943f2635863f
1 &lt; X-Archived-Client-IP: 23.47.59.18,23.47.59.18,169.175.61.90
1 &lt; countryCode: HK
1 &lt; businessCode: GCB
1 &lt; scope: /api
1 &lt; channelId: SSA
1 &lt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
1 &lt; client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY
1 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Origin: 
1 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
1 &lt; X-RateLimit-Limit: name=rate-limit-1,60;
1 &lt; X-RateLimit-Remaining: name=rate-limit-1,59;
1 &lt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &lt; X-Akamai-CITISITE: GTDC
1 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Credentials: true
1 &lt; Content-Length: 393
1 &lt; Date: Sun, 01 May 2022 14:08:00 GMT
1 &lt; Connection: keep-alive
1 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415280000; Expires=Fri, 07 Aug 54353 08:48:54 GMT; Domain=sandbox.apihub.citi.com; Secure
1 &lt; Set-Cookie: _abck=602BF3F5E5CF43BC2FD97B6BC40DC615~-1~YAAQLp6yUrdW8HKAAQAArBrzfwf85CDvpQvfx6boSvf4An8W/4TRU3iwJLGR1FGYBsJZRWCG+376FEmrpt6NXJ5lmv0mbYQRjI9Fhj+6f9bD/ajfr2glB4Asi0dOPDIQC2GJnfHRc5FsvQpAp+5oICOcIIN4Y4N1znuxwYU+WqtvFMwSaRY3HbnGW5VOSLchbGPmb2dG9aeJpymPGeAHtmQsULYKF7RLonkYJp6IFU00KuxhRXPCdgv5LhGwIh0ImO3yuynS6MS3eSd+dkkf1+XVWmOrUx0K+aClqHxo0UdUrrRfRYYrR9TzDLeNB42kUCwBkgCbmY1zkmr0h/X/fFMfY+QeFoST1/bn3EjUL3jXVJixI8OJ3ck=~-1~-1~-1; Max-Age=1682950080000; Expires=Thu, 23 Nov 55352 11:28:54 GMT; Domain=citi.com; Secure
1 &lt; Set-Cookie: bm_sz=2315A9AB9F97EFAA0311977D50C7F6E5~YAAQLp6yUrhW8HKAAQAArBrzfw9ZV8xG0YGzuTYzoW8o8BwlpQf0g1ViBexv5NLU1RVI314XuPCwpseHbb9Iz9igc+AqQPg9YSELu2TMu11Y1wGh65IdykzaK9d881YAPaP6fktH27xsuzQKMhYRjO8ZBdpDRvgSC2rnt79C1eTM4PH3YZ6bxLdOAmZVTh4aHdM2fApKQ+3fWWjupg8CWVrGYtCv4OeujzKSTS5s8Pr26CuH5SFEteWW3XodMGdu+M9dDVdUDMrY4Lyuw9dVpjEFvl2UvsU5mE+zhVdRjDr6~3618372~3425590; Max-Age=1651428479000; Expires=Thu, 07 Jan 54354 03:12:14 GMT; Domain=citi.com
{ &quot;token_type&quot;:&quot;Bearer&quot;, &quot;access_token&quot;:&quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhyvxOylIHyioGv1HSJBAgRbHUfMAwI9taPtD4xITZBIb3cgBi7-kj4guvxuhTch4gYnWhYBg_mgO_tbD4oLx_G7vpz8AdVmWK_4TlL20_aQoE7iMOhHOfBQ8C64LFWgIZDGwrksDVDldngtpYeYprpnc20KTN-wiC6LCJcDnH_l6STwXIvZw-MRwsQFUMIca6WWC84W5qsjAs7b-5W62aVffxVfOVhP5b48yXgnFll58&quot;, &quot;expires_in&quot;:1800, &quot;consented_on&quot;:1651414080, &quot;scope&quot;:&quot;/api&quot; }

</div>   

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.11">
      <div class="step-ref bg-step">11</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.11">19:38:54.908 [print] {
  &quot;token_type&quot;: &quot;Bearer&quot;,
  &quot;access_token&quot;: &quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhyvxOylIHyioGv1HSJBAgRbHUfMAwI9taPtD4xITZBIb3cgBi7-kj4guvxuhTch4gYnWhYBg_mgO_tbD4oLx_G7vpz8AdVmWK_4TlL20_aQoE7iMOhHOfBQ8C64LFWgIZDGwrksDVDldngtpYeYprpnc20KTN-wiC6LCJcDnH_l6STwXIvZw-MRwsQFUMIca6WWC84W5qsjAs7b-5W62aVffxVfOVhP5b48yXgnFll58&quot;,
  &quot;expires_in&quot;: 1800,
  &quot;consented_on&quot;: 1651414080,
  &quot;scope&quot;: &quot;/api&quot;
}
 
</div>   

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.12">
      <div class="step-ref bg-step">12</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.token_type == &#39;Bearer&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.13">
      <div class="step-ref bg-step">13</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.access_token != null</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.14">
      <div class="step-ref bg-step">14</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def accessToken = response.access_token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.15">
      <div class="step-ref bg-step">15</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print &#39;AccessToken&#39;, accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.15">19:38:54.909 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhyvxOylIHyioGv1HSJBAgRbHUfMAwI9taPtD4xITZBIb3cgBi7-kj4guvxuhTch4gYnWhYBg_mgO_tbD4oLx_G7vpz8AdVmWK_4TlL20_aQoE7iMOhHOfBQ8C64LFWgIZDGwrksDVDldngtpYeYprpnc20KTN-wiC6LCJcDnH_l6STwXIvZw-MRwsQFUMIca6WWC84W5qsjAs7b-5W62aVffxVfOVhP5b48yXgnFll58 
</div>   

  

</div>
</div>
          <div data-parent="[3:45]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.16">
      <div class="step-ref bg-step">16</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def Auth = &#39;Bearer &#39;+accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.46">
      <div class="step-ref passed">46</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.47">
      <div class="step-ref passed">47</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/v1/apac/rewards/linkage&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.48">
      <div class="step-ref passed">48</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = Auth</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.49">
      <div class="step-ref passed">49</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Accept = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.50">
      <div class="step-ref passed">50</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.51">
      <div class="step-ref passed">51</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header client_id = &#39;5ad84ff6-2ef9-402d-9cba-d12bfcb41faa&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.52">
      <div class="step-ref passed">52</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;1111111111&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.53">
      <div class="step-ref passed">53</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">954</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.53">19:38:54.911 request:
2 &gt; POST https://sandbox.apihub.citi.com/gcb/api/v1/apac/rewards/linkage
2 &gt; Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhyvxOylIHyioGv1HSJBAgRbHUfMAwI9taPtD4xITZBIb3cgBi7-kj4guvxuhTch4gYnWhYBg_mgO_tbD4oLx_G7vpz8AdVmWK_4TlL20_aQoE7iMOhHOfBQ8C64LFWgIZDGwrksDVDldngtpYeYprpnc20KTN-wiC6LCJcDnH_l6STwXIvZw-MRwsQFUMIca6WWC84W5qsjAs7b-5W62aVffxVfOVhP5b48yXgnFll58
2 &gt; Accept: application/json
2 &gt; Content-Type: application/json; charset=UTF-8
2 &gt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
2 &gt; Cookie: _abck=602BF3F5E5CF43BC2FD97B6BC40DC615~-1~YAAQLp6yUrdW8HKAAQAArBrzfwf85CDvpQvfx6boSvf4An8W/4TRU3iwJLGR1FGYBsJZRWCG+376FEmrpt6NXJ5lmv0mbYQRjI9Fhj+6f9bD/ajfr2glB4Asi0dOPDIQC2GJnfHRc5FsvQpAp+5oICOcIIN4Y4N1znuxwYU+WqtvFMwSaRY3HbnGW5VOSLchbGPmb2dG9aeJpymPGeAHtmQsULYKF7RLonkYJp6IFU00KuxhRXPCdgv5LhGwIh0ImO3yuynS6MS3eSd+dkkf1+XVWmOrUx0K+aClqHxo0UdUrrRfRYYrR9TzDLeNB42kUCwBkgCbmY1zkmr0h/X/fFMfY+QeFoST1/bn3EjUL3jXVJixI8OJ3ck=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=2315A9AB9F97EFAA0311977D50C7F6E5~YAAQLp6yUrhW8HKAAQAArBrzfw9ZV8xG0YGzuTYzoW8o8BwlpQf0g1ViBexv5NLU1RVI314XuPCwpseHbb9Iz9igc+AqQPg9YSELu2TMu11Y1wGh65IdykzaK9d881YAPaP6fktH27xsuzQKMhYRjO8ZBdpDRvgSC2rnt79C1eTM4PH3YZ6bxLdOAmZVTh4aHdM2fApKQ+3fWWjupg8CWVrGYtCv4OeujzKSTS5s8Pr26CuH5SFEteWW3XodMGdu+M9dDVdUDMrY4Lyuw9dVpjEFvl2UvsU5mE+zhVdRjDr6~3618372~3425590
2 &gt; Content-Length: 124
2 &gt; Host: sandbox.apihub.citi.com
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
2 &gt; Accept-Encoding: gzip,deflate
{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;1111111111&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}

19:38:55.865 response time in milliseconds: 953
2 &lt; 404
2 &lt; X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL
2 &lt; Content-Type: text/plain
2 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
2 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Max-Age: 2147483647
2 &lt; Cache-Control: no-cache, no-store
2 &lt; Expires: -1
2 &lt; Pragma: no-cache
2 &lt; Uuid: 406ae834-924b-459b-8341-25d06f1d6b92
2 &lt; X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1
2 &lt; X-Cf-Routererror: unknown_route
2 &lt; X-Vcap-Request-Id: 9a39c4af-082a-4fb1-67c8-97177a84785b
2 &lt; X-Global-Transaction-ID: 6e68aa42626e9440cb6ff1df
2 &lt; Access-Control-Allow-Origin: 
2 &lt; Access-Control-Allow-Credentials: true
2 &lt; mfaCode: XyK9EnjzXwC9mrV17sAMejxSthTOgpWY3raJ4TIJp9etJI41QcYP%2FXdGbibslpI1tFHGjPW30B1f6Qpp9kqwJU%2BRmDRqP3PaimzjmbBjS6FZjtwi7UhobkJA1RrGHQT5At7Lj52zFNLVwZDqcc2U1SZs%2FCMOwMSmmcfqVq%2F3vVW90E4ZvKUMepspZIWcM7OU46pJxR3KtHaHm4JIBcxd8OxvWr1oiHjkIgji0IbYK6cOwa3aKpzIh%2FAzyNme5%2B9F7iOMGN1P9rQZysqDN6ea0lvuTDOt8YgFJvIp0Ea%2Bred%2BfYjYUZjEkFsx0ntZiHB0A4%2FWjgdHQff7YYP1Aejl6fvLM9XeVbVftJUQ6XgogEMELmGCVHT3JymBu%2BLa%2Fpd62UV6MIse8uEbEp9G0mq8i2V83tN%2BL9SnS1RcynqKN%2FEmKwloAUfAMXgSeYrEAix%2FDoBIT3aucDu5hx6wclmGJQ%3D%3D
2 &lt; X-Akamai-CITISITE: GTDC
2 &lt; Content-Length: 116
2 &lt; Date: Sun, 01 May 2022 14:08:01 GMT
2 &lt; Connection: close
2 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415281000; Expires=Fri, 07 Aug 54353 09:05:35 GMT; Domain=sandbox.apihub.citi.com; Secure
404 Not Found: Requested route (&#39;aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443&#39;) does not exist.


</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.54">
      <div class="step-ref failed">54</div>
      
      <div class="step-cell failed">
        <span>Then</span>&nbsp;<span>status 400</span>
      </div>
    </div>
    <div class="time-cell failed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.54">19:38:55.865 src/test/java/com.FeatureFiles/LinkageAPI_UnitTesting.feature:54
Then status 400
status code was: 404, expected: 400, response time in milliseconds: 953, url: https://sandbox.apihub.citi.com/gcb/api/v1/apac/rewards/linkage, response: 
404 Not Found: Requested route (&#39;aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443&#39;) does not exist.

src/test/java/com.FeatureFiles/LinkageAPI_UnitTesting.feature:54
</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.55">
      <div class="step-ref skipped">55</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.56">
      <div class="step-ref skipped">56</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>match response.type == &#39;invalid&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.57">
      <div class="step-ref skipped">57</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>match response.code == &#39;invalidRequest&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.58">
      <div class="step-ref skipped">58</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>match response.details == &#39;Missing or invalid parameters&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[4:60]">
            <div class="heading-container">
              <div class="scenario-tags">
                
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[4:60]</span>
                <span class="scenario-name">Verify the LinkageAPI with invalid merchantCustomerReferenceId in body parameters</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time failed">
              <span>ms:</span>&nbsp;<span>2114</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[4:60]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.4">
      <div class="step-ref bg-step">4</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.5">
      <div class="step-ref bg-step">5</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/clientCredentials/oauth2/token/hk/gcb&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = &#39;Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/x-www-form-urlencoded&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;grant_type=client_credentials&amp;scope=/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">933</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.9">19:38:55.869 request:
1 &gt; POST https://sandbox.apihub.citi.com/gcb/api/clientCredentials/oauth2/token/hk/gcb
1 &gt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &gt; Content-Type: application/x-www-form-urlencoded; charset=UTF-8
1 &gt; Content-Length: 40
1 &gt; Host: sandbox.apihub.citi.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
1 &gt; Accept-Encoding: gzip,deflate
grant_type=client_credentials&amp;scope=/api

19:38:56.801 response time in milliseconds: 932
1 &lt; 200
1 &lt; X-Backside-Transport: OK OK,OK OK,OK OK
1 &lt; Content-Type: application/json
1 &lt; Content-Type: application/json
1 &lt; X-Global-Transaction-ID: ddade3ba626e9441a201b4b1
1 &lt; X-Akamai-True-Client-IP: 85.154.175.224
1 &lt; Pragma: no-cache
1 &lt; X-DataStream-Session-Id: a11f57161-626e9441-141bba54
1 &lt; X_AK_SHAPE_AGGREGATOR_IP: FALSE
1 &lt; X-Akamai-CONFIG-LOG-DETAIL: true
1 &lt; Akamai-Origin-Hop: 2
1 &lt; X-Forwarded-For: 85.154.175.224, 82.178.158.46
1 &lt; Cache-Control: no-cache, max-age=0
1 &lt; X-Client-IP: 23.205.102.68,169.175.61.93,169.177.209.49
1 &lt; dmz-global-txn-id: ddade3ba626e9441a201b4b1
1 &lt; X-Archived-Client-IP: 23.205.102.68,23.205.102.68,169.175.61.93
1 &lt; countryCode: HK
1 &lt; businessCode: GCB
1 &lt; scope: /api
1 &lt; channelId: SSA
1 &lt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
1 &lt; client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY
1 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Origin: 
1 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
1 &lt; X-RateLimit-Limit: name=rate-limit-1,60;
1 &lt; X-RateLimit-Remaining: name=rate-limit-1,58;
1 &lt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &lt; X-Akamai-CITISITE: GTDC
1 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Credentials: true
1 &lt; Content-Length: 393
1 &lt; Date: Sun, 01 May 2022 14:08:02 GMT
1 &lt; Connection: keep-alive
1 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415282000; Expires=Fri, 07 Aug 54353 09:22:16 GMT; Domain=sandbox.apihub.citi.com; Secure
1 &lt; Set-Cookie: _abck=32338FDA345966FE6023AEC20C15B187~-1~YAAQLp6yUrpW8HKAAQAAFSLzfwcjOwp3d1IsDnFc4TPq9mM6v+84FAv3HQ/MvTqIGQdbj341qLbMnwSGjeGSfvhVc9mj/24ic+mgvzYeLJfDNlYuvQQbLWLU5lcD0egwuIbsJuo42d3UwW9dFzjYA/3OYn5peD9/lDpJaqYcIu+JSdMPEwu54y/uBgqu63mEkchSS8/OL5IphXNL7HWVnluAR3d/Fi+YVTkk4S7ZSl3KBBx3KZa4RdGL6wQKKTpGMoL5OTmdKXbgXMR7hq+D5DaAl0Bn+xNyDklBZqiiq/KznnCHqVgL2fv8Vm0ggL8y2zCUVS6OAqsC0bM2fWM8arQtC/0uEnNRP+DWKMYX9jPAu6qxpykgAUk=~-1~-1~-1; Max-Age=1682950082000; Expires=Thu, 23 Nov 55352 12:02:16 GMT; Domain=citi.com; Secure
1 &lt; Set-Cookie: bm_sz=31B303CAADA176C43B4681DDDA4E58E0~YAAQLp6yUrtW8HKAAQAAFSLzfw/cCBVhS3vCXwKlStdsB4CM0OZMpVPSA2+symXTi419ZweO9KRqBz3cq9S5vdCm3ME8GNu0ZGQRfHOa1fv77N/CyE36pLYklOFpokSpNPski6NCXy8enWSWFPQV9yUeyL92tEV1cOJ2RNpesvT3KaJtXrCsFUFTRXCyG8cgZoAygV/5u7AuIxhUMmmq+0P3uVxBvskf/3Bpr/RKPlJXE3eBtioeT7PKDNso6zteEWkVr5RycVjJ5fS3sY/rM8GlyADhoHPvs3E9PmiU0Xib~3684403~3683120; Max-Age=1651428481000; Expires=Thu, 07 Jan 54354 03:45:36 GMT; Domain=citi.com
{ &quot;token_type&quot;:&quot;Bearer&quot;, &quot;access_token&quot;:&quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhS91zL1Enhh9MHG76GrZul7wADozUVnFJHhRtQ4FHp7CR8H7yLeJPhLwiC32Nix9aurHs8GxZKBYJs_gF4lf6OpCmFBfRgVR4ZAz3N8EEOnU62dbz5wwyPrNBRgJI3LvrHryZmxPDC_SvAYilNqSaN6XIO46s_j81nes-dyRX212bs3mzpI1cv5bd1uIMIPCknkEiVfMMF2dhpmOnJ_sslwuUqXb6g8De5Kc26UBEF5M&quot;, &quot;expires_in&quot;:1800, &quot;consented_on&quot;:1651414081, &quot;scope&quot;:&quot;/api&quot; }

</div>   

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.11">
      <div class="step-ref bg-step">11</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.11">19:38:56.802 [print] {
  &quot;token_type&quot;: &quot;Bearer&quot;,
  &quot;access_token&quot;: &quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhS91zL1Enhh9MHG76GrZul7wADozUVnFJHhRtQ4FHp7CR8H7yLeJPhLwiC32Nix9aurHs8GxZKBYJs_gF4lf6OpCmFBfRgVR4ZAz3N8EEOnU62dbz5wwyPrNBRgJI3LvrHryZmxPDC_SvAYilNqSaN6XIO46s_j81nes-dyRX212bs3mzpI1cv5bd1uIMIPCknkEiVfMMF2dhpmOnJ_sslwuUqXb6g8De5Kc26UBEF5M&quot;,
  &quot;expires_in&quot;: 1800,
  &quot;consented_on&quot;: 1651414081,
  &quot;scope&quot;: &quot;/api&quot;
}
 
</div>   

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.12">
      <div class="step-ref bg-step">12</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.token_type == &#39;Bearer&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.13">
      <div class="step-ref bg-step">13</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.access_token != null</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.14">
      <div class="step-ref bg-step">14</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def accessToken = response.access_token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.15">
      <div class="step-ref bg-step">15</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print &#39;AccessToken&#39;, accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.15">19:38:56.803 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhS91zL1Enhh9MHG76GrZul7wADozUVnFJHhRtQ4FHp7CR8H7yLeJPhLwiC32Nix9aurHs8GxZKBYJs_gF4lf6OpCmFBfRgVR4ZAz3N8EEOnU62dbz5wwyPrNBRgJI3LvrHryZmxPDC_SvAYilNqSaN6XIO46s_j81nes-dyRX212bs3mzpI1cv5bd1uIMIPCknkEiVfMMF2dhpmOnJ_sslwuUqXb6g8De5Kc26UBEF5M 
</div>   

  

</div>
</div>
          <div data-parent="[4:60]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.16">
      <div class="step-ref bg-step">16</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def Auth = &#39;Bearer &#39;+accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.61">
      <div class="step-ref passed">61</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.62">
      <div class="step-ref passed">62</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/v1/apac/rewards/linkage&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.63">
      <div class="step-ref passed">63</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = Auth</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.64">
      <div class="step-ref passed">64</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Accept = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.65">
      <div class="step-ref passed">65</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.66">
      <div class="step-ref passed">66</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header client_id = &#39;5ad84ff6-2ef9-402d-9cba-d12bfcb41faa&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.67">
      <div class="step-ref passed">67</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;abcdefghiij&quot;}&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.68">
      <div class="step-ref passed">68</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">1178</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.68">19:38:56.805 request:
2 &gt; POST https://sandbox.apihub.citi.com/gcb/api/v1/apac/rewards/linkage
2 &gt; Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhS91zL1Enhh9MHG76GrZul7wADozUVnFJHhRtQ4FHp7CR8H7yLeJPhLwiC32Nix9aurHs8GxZKBYJs_gF4lf6OpCmFBfRgVR4ZAz3N8EEOnU62dbz5wwyPrNBRgJI3LvrHryZmxPDC_SvAYilNqSaN6XIO46s_j81nes-dyRX212bs3mzpI1cv5bd1uIMIPCknkEiVfMMF2dhpmOnJ_sslwuUqXb6g8De5Kc26UBEF5M
2 &gt; Accept: application/json
2 &gt; Content-Type: application/json; charset=UTF-8
2 &gt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
2 &gt; Cookie: _abck=32338FDA345966FE6023AEC20C15B187~-1~YAAQLp6yUrpW8HKAAQAAFSLzfwcjOwp3d1IsDnFc4TPq9mM6v+84FAv3HQ/MvTqIGQdbj341qLbMnwSGjeGSfvhVc9mj/24ic+mgvzYeLJfDNlYuvQQbLWLU5lcD0egwuIbsJuo42d3UwW9dFzjYA/3OYn5peD9/lDpJaqYcIu+JSdMPEwu54y/uBgqu63mEkchSS8/OL5IphXNL7HWVnluAR3d/Fi+YVTkk4S7ZSl3KBBx3KZa4RdGL6wQKKTpGMoL5OTmdKXbgXMR7hq+D5DaAl0Bn+xNyDklBZqiiq/KznnCHqVgL2fv8Vm0ggL8y2zCUVS6OAqsC0bM2fWM8arQtC/0uEnNRP+DWKMYX9jPAu6qxpykgAUk=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=31B303CAADA176C43B4681DDDA4E58E0~YAAQLp6yUrtW8HKAAQAAFSLzfw/cCBVhS3vCXwKlStdsB4CM0OZMpVPSA2+symXTi419ZweO9KRqBz3cq9S5vdCm3ME8GNu0ZGQRfHOa1fv77N/CyE36pLYklOFpokSpNPski6NCXy8enWSWFPQV9yUeyL92tEV1cOJ2RNpesvT3KaJtXrCsFUFTRXCyG8cgZoAygV/5u7AuIxhUMmmq+0P3uVxBvskf/3Bpr/RKPlJXE3eBtioeT7PKDNso6zteEWkVr5RycVjJ5fS3sY/rM8GlyADhoHPvs3E9PmiU0Xib~3684403~3683120
2 &gt; Content-Length: 122
2 &gt; Host: sandbox.apihub.citi.com
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
2 &gt; Accept-Encoding: gzip,deflate
{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;abcdefghiij&quot;}

19:38:57.981 response time in milliseconds: 1176
2 &lt; 404
2 &lt; X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL
2 &lt; Content-Type: text/plain
2 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
2 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Max-Age: 2147483647
2 &lt; Cache-Control: no-cache, no-store
2 &lt; Expires: -1
2 &lt; Pragma: no-cache
2 &lt; Uuid: c25ea741-a087-4de7-bc31-88973aca442d
2 &lt; X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0
2 &lt; X-Cf-Routererror: unknown_route
2 &lt; X-Vcap-Request-Id: 2617c1dd-05eb-417c-5e6d-3c90e74ca669
2 &lt; X-Global-Transaction-ID: 126374ce626e944270b14f1f
2 &lt; Access-Control-Allow-Origin: 
2 &lt; Access-Control-Allow-Credentials: true
2 &lt; mfaCode: XX%2F5kBEbJt6deyfVvfZ6Zke5aZjUKHARkFaULUBGShu6IPwaTSKAgfMWZ2qgQrKBeKd5OTPA%2BHH6EIy1BXzvmBBXfxZHNwuQxJThxSr1DedoamkKkZ8LVgKMYVqcUQm%2FJn52H37n%2BXdM6vgE7bdOMN6WpQ5RDuNPgNyIQgmdXtQevrV4otlXLlLBgSCpFYlAzh3fy%2FOS6kxOn0ozgZAKNZm24xQ1OwEJc%2FqZXKd53XbeLpbvx1iekSyxW5Q1nmbmhBFotm9nb3dcs1AJK9aItLYu2wqTFFRigO5MxJELnJHisdMrQx6RMxpxLlfUekB%2BQTah6bFDVKswO%2FObHo4183vhpnsMo9cs%2B6qaAwmCU0j21im06q9Yp2i07CLNdrvr5Y0vpwITszw%2BCqXJdPcHUJGamKvPoGO0p1FOIOxS%2BUfW4GBzOpuq3oWaPHKI83hYS4FOSKLxBI4P2IShJI5%2F8w%3D%3D
2 &lt; X-Akamai-CITISITE: GTDC
2 &lt; Content-Length: 116
2 &lt; Date: Sun, 01 May 2022 14:08:03 GMT
2 &lt; Connection: close
2 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415283000; Expires=Fri, 07 Aug 54353 09:38:57 GMT; Domain=sandbox.apihub.citi.com; Secure
404 Not Found: Requested route (&#39;aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443&#39;) does not exist.


</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.69">
      <div class="step-ref failed">69</div>
      
      <div class="step-cell failed">
        <span>Then</span>&nbsp;<span>status 400</span>
      </div>
    </div>
    <div class="time-cell failed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.69">19:38:57.982 src/test/java/com.FeatureFiles/LinkageAPI_UnitTesting.feature:69
Then status 400
status code was: 404, expected: 400, response time in milliseconds: 1176, url: https://sandbox.apihub.citi.com/gcb/api/v1/apac/rewards/linkage, response: 
404 Not Found: Requested route (&#39;aad-p-statefullproc-xd-ap-uat1.apps-mw1-perf.apac.nsroot.net:443&#39;) does not exist.

src/test/java/com.FeatureFiles/LinkageAPI_UnitTesting.feature:69
</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.70">
      <div class="step-ref skipped">70</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.71">
      <div class="step-ref skipped">71</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>match response.type == &#39;invalid&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.72">
      <div class="step-ref skipped">72</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>match response.code == &#39;invalidRequest&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.73">
      <div class="step-ref skipped">73</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>match response.details == &#39;Missing or invalid parameters&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[5:75]">
            <div class="heading-container">
              <div class="scenario-tags">
                
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[5:75]</span>
                <span class="scenario-name">Verify the LinkageAPI with invalid Authorization credentials in the request</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time failed">
              <span>ms:</span>&nbsp;<span>1306</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[5:75]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[5:75]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.4">
      <div class="step-ref bg-step">4</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[5:75]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.5">
      <div class="step-ref bg-step">5</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/clientCredentials/oauth2/token/hk/gcb&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[5:75]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = &#39;Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[5:75]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/x-www-form-urlencoded&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[5:75]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;grant_type=client_credentials&amp;scope=/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[5:75]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">438</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.9">19:38:57.986 request:
1 &gt; POST https://sandbox.apihub.citi.com/gcb/api/clientCredentials/oauth2/token/hk/gcb
1 &gt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &gt; Content-Type: application/x-www-form-urlencoded; charset=UTF-8
1 &gt; Content-Length: 40
1 &gt; Host: sandbox.apihub.citi.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
1 &gt; Accept-Encoding: gzip,deflate
grant_type=client_credentials&amp;scope=/api

19:38:58.423 response time in milliseconds: 436
1 &lt; 200
1 &lt; X-Backside-Transport: OK OK,OK OK,OK OK
1 &lt; Content-Type: application/json
1 &lt; Content-Type: application/json
1 &lt; X-Global-Transaction-ID: 14744989626e9443263dfadf
1 &lt; X-Akamai-True-Client-IP: 85.154.175.224
1 &lt; Pragma: no-cache
1 &lt; X-DataStream-Session-Id: a11f57161-626e9443-141bc792
1 &lt; X_AK_SHAPE_AGGREGATOR_IP: FALSE
1 &lt; X-Akamai-CONFIG-LOG-DETAIL: true
1 &lt; Akamai-Origin-Hop: 2
1 &lt; X-Forwarded-For: 85.154.175.224, 82.178.158.46
1 &lt; Cache-Control: no-cache, max-age=0
1 &lt; X-Client-IP: 23.47.59.12,169.175.61.90,169.177.209.51
1 &lt; dmz-global-txn-id: 14744989626e9443263dfadf
1 &lt; X-Archived-Client-IP: 23.47.59.12,23.47.59.12,169.175.61.90
1 &lt; countryCode: HK
1 &lt; businessCode: GCB
1 &lt; scope: /api
1 &lt; channelId: SSA
1 &lt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
1 &lt; client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY
1 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Origin: 
1 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
1 &lt; X-RateLimit-Limit: name=rate-limit-1,60;
1 &lt; X-RateLimit-Remaining: name=rate-limit-1,57;
1 &lt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &lt; X-Akamai-CITISITE: GTDC
1 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Credentials: true
1 &lt; Content-Length: 393
1 &lt; Date: Sun, 01 May 2022 14:08:03 GMT
1 &lt; Connection: keep-alive
1 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415283000; Expires=Fri, 07 Aug 54353 09:38:58 GMT; Domain=sandbox.apihub.citi.com; Secure
1 &lt; Set-Cookie: _abck=0F2CD335F4FCC9FC8B5CB87C5D0741A8~-1~YAAQLp6yUrxW8HKAAQAAZijzfwc0Y75+OD/vW62bG3Zw0uaE0WZmwA1BihW+pPyEhfDLY1TjYifEooZrirKnWPSJOPaUQY4faabBWsjClGm0ohd5C+8jqQ90lXtAgejEz5zWB3+F0+kuhXgG2AZtTo18RVoIYvNogTXR61BjoiWwh9uFMIa5WY19bsCoKANWs4tVvTlviHjuVvH+l9zvoJ/T+UiCiH9vXfYYDaUutL+l0C8LhMUCDZFKuWQ6Fx5keM02U2RD0fzcgQqMcjo9LnXFYCcBOOx6rho56bGVOOZTWX1CHkCz5FJO8vgOZO2uhskXbw8iSGY8m3ec2zM93kRkKbgA4/9+ndiXA9xXVtdIWDEVNem9yS0=~-1~-1~-1; Max-Age=1682950083000; Expires=Thu, 23 Nov 55352 12:18:58 GMT; Domain=citi.com; Secure
1 &lt; Set-Cookie: bm_sz=1DB5EB5B4B9A9207DDBD5AE1235E1E5D~YAAQLp6yUr1W8HKAAQAAZijzfw9ddx98Y1nSWwPoghrkjwq1zzzPHagQdCUAuJ4OYO36zMxWD1Tr2asA1Q7nkTG4telEt7RKM/hJ90qy7I7KYKfQNvSbA2kepw/8bMJsDrm4kpufLaMyIFL6HUQeKSW8hOW8G9ngXlMQb0SFFEFKF45ErOZvk4nWXryeVP5VjEPUvghXbGhbrx69RBpwK+/F+IAHtFN+m3ezdREa6tSSmMiX2+IaKD97Dh5CMaYfw3AvXM194H+r0XG0CEyHiHN+YV8KkyOc5m92ASwNeHlj~3291203~3290934; Max-Age=1651428483000; Expires=Thu, 07 Jan 54354 04:18:58 GMT; Domain=citi.com
{ &quot;token_type&quot;:&quot;Bearer&quot;, &quot;access_token&quot;:&quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhejL4wMS7dmHntJQ8gfd5Kx-J7w6nkmAjQ0POKzeh1Y-vxHoxNJj2HL2umXVL5vuD1jF87C45CcFDMgGkQkqbLKODPbUMVCTWhe7tHP7LyaBf2oReeDZY7XimzrQM12o_wrHGk2Ifa24RA7Ul5uop6tl5F220HRvJhtqds6mB9seplbDUjnRL6d6zdAaT0GaNRcMJN3Zsu9S9C3xFgoKY4PZ0fJ6W-k9bLzY3yAQLuIU&quot;, &quot;expires_in&quot;:1800, &quot;consented_on&quot;:1651414083, &quot;scope&quot;:&quot;/api&quot; }

</div>   

  

</div>
</div>
          <div data-parent="[5:75]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[5:75]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.11">
      <div class="step-ref bg-step">11</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.11">19:38:58.424 [print] {
  &quot;token_type&quot;: &quot;Bearer&quot;,
  &quot;access_token&quot;: &quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhejL4wMS7dmHntJQ8gfd5Kx-J7w6nkmAjQ0POKzeh1Y-vxHoxNJj2HL2umXVL5vuD1jF87C45CcFDMgGkQkqbLKODPbUMVCTWhe7tHP7LyaBf2oReeDZY7XimzrQM12o_wrHGk2Ifa24RA7Ul5uop6tl5F220HRvJhtqds6mB9seplbDUjnRL6d6zdAaT0GaNRcMJN3Zsu9S9C3xFgoKY4PZ0fJ6W-k9bLzY3yAQLuIU&quot;,
  &quot;expires_in&quot;: 1800,
  &quot;consented_on&quot;: 1651414083,
  &quot;scope&quot;: &quot;/api&quot;
}
 
</div>   

  

</div>
</div>
          <div data-parent="[5:75]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.12">
      <div class="step-ref bg-step">12</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.token_type == &#39;Bearer&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[5:75]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.13">
      <div class="step-ref bg-step">13</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.access_token != null</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[5:75]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.14">
      <div class="step-ref bg-step">14</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def accessToken = response.access_token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[5:75]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.15">
      <div class="step-ref bg-step">15</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print &#39;AccessToken&#39;, accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.15">19:38:58.424 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhejL4wMS7dmHntJQ8gfd5Kx-J7w6nkmAjQ0POKzeh1Y-vxHoxNJj2HL2umXVL5vuD1jF87C45CcFDMgGkQkqbLKODPbUMVCTWhe7tHP7LyaBf2oReeDZY7XimzrQM12o_wrHGk2Ifa24RA7Ul5uop6tl5F220HRvJhtqds6mB9seplbDUjnRL6d6zdAaT0GaNRcMJN3Zsu9S9C3xFgoKY4PZ0fJ6W-k9bLzY3yAQLuIU 
</div>   

  

</div>
</div>
          <div data-parent="[5:75]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.16">
      <div class="step-ref bg-step">16</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def Auth = &#39;Bearer &#39;+accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.77">
      <div class="step-ref passed">77</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.78">
      <div class="step-ref passed">78</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/v1/apac/rewards/linkage&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.79">
      <div class="step-ref passed">79</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = &#39;Bearer 123456&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.80">
      <div class="step-ref passed">80</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Accept = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.81">
      <div class="step-ref passed">81</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.82">
      <div class="step-ref passed">82</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header client_id = &#39;5ad84ff6-2ef9-402d-9cba-d12bfcb41faa&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.83">
      <div class="step-ref passed">83</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.84">
      <div class="step-ref passed">84</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">863</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.84">19:38:58.427 request:
2 &gt; POST https://sandbox.apihub.citi.com/gcb/api/v1/apac/rewards/linkage
2 &gt; Authorization: Bearer 123456
2 &gt; Accept: application/json
2 &gt; Content-Type: application/json; charset=UTF-8
2 &gt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
2 &gt; Cookie: _abck=0F2CD335F4FCC9FC8B5CB87C5D0741A8~-1~YAAQLp6yUrxW8HKAAQAAZijzfwc0Y75+OD/vW62bG3Zw0uaE0WZmwA1BihW+pPyEhfDLY1TjYifEooZrirKnWPSJOPaUQY4faabBWsjClGm0ohd5C+8jqQ90lXtAgejEz5zWB3+F0+kuhXgG2AZtTo18RVoIYvNogTXR61BjoiWwh9uFMIa5WY19bsCoKANWs4tVvTlviHjuVvH+l9zvoJ/T+UiCiH9vXfYYDaUutL+l0C8LhMUCDZFKuWQ6Fx5keM02U2RD0fzcgQqMcjo9LnXFYCcBOOx6rho56bGVOOZTWX1CHkCz5FJO8vgOZO2uhskXbw8iSGY8m3ec2zM93kRkKbgA4/9+ndiXA9xXVtdIWDEVNem9yS0=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=1DB5EB5B4B9A9207DDBD5AE1235E1E5D~YAAQLp6yUr1W8HKAAQAAZijzfw9ddx98Y1nSWwPoghrkjwq1zzzPHagQdCUAuJ4OYO36zMxWD1Tr2asA1Q7nkTG4telEt7RKM/hJ90qy7I7KYKfQNvSbA2kepw/8bMJsDrm4kpufLaMyIFL6HUQeKSW8hOW8G9ngXlMQb0SFFEFKF45ErOZvk4nWXryeVP5VjEPUvghXbGhbrx69RBpwK+/F+IAHtFN+m3ezdREa6tSSmMiX2+IaKD97Dh5CMaYfw3AvXM194H+r0XG0CEyHiHN+YV8KkyOc5m92ASwNeHlj~3291203~3290934
2 &gt; Content-Length: 124
2 &gt; Host: sandbox.apihub.citi.com
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
2 &gt; Accept-Encoding: gzip,deflate
{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}

19:38:59.289 response time in milliseconds: 861
2 &lt; 401
2 &lt; X-Backside-Transport: FAIL FAIL,FAIL FAIL
2 &lt; Content-Type: application/json
2 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
2 &lt; Access-Control-Allow-Origin: 
2 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Allow-Credentials: true
2 &lt; WWW-Authenticate: Bearer error=&quot;invalid_token&quot;
2 &lt; X-Global-Transaction-ID: 6e68aa42626e9444cb7632bf
2 &lt; X-Akamai-CITISITE: GTDC
2 &lt; Content-Length: 101
2 &lt; Date: Sun, 01 May 2022 14:08:04 GMT
2 &lt; Connection: close
2 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651415284000; Expires=Fri, 07 Aug 54353 09:55:39 GMT; Domain=sandbox.apihub.citi.com; Secure
{ &quot;type&quot;:&quot;unAuthorized&quot;, &quot;code&quot;:&quot;401&quot;, &quot;details&quot;:&quot;Authorization credentials are missing or invalid&quot; }

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.85">
      <div class="step-ref passed">85</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 401</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.86">
      <div class="step-ref passed">86</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.86">19:38:59.290 [print] {
  &quot;type&quot;: &quot;unAuthorized&quot;,
  &quot;code&quot;: &quot;401&quot;,
  &quot;details&quot;: &quot;Authorization credentials are missing or invalid&quot;
}
 
</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.87">
      <div class="step-ref failed">87</div>
      
      <div class="step-cell failed">
        <span>And</span>&nbsp;<span>match response.type == &#39;error&#39;</span>
      </div>
    </div>
    <div class="time-cell failed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.87">19:38:59.291 src/test/java/com.FeatureFiles/LinkageAPI_UnitTesting.feature:87
And match response.type == &#39;error&#39;
match failed: EQUALS
  $ | not equal (STRING:STRING)
  &#39;unAuthorized&#39;
  &#39;error&#39;

src/test/java/com.FeatureFiles/LinkageAPI_UnitTesting.feature:87
</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.88">
      <div class="step-ref skipped">88</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>match response.code == &#39;unAuthorized&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.89">
      <div class="step-ref skipped">89</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>match response.details == &#39;Authorization credentials are missing or invalid&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
      </div>
    </div>
  </body>
</html>

