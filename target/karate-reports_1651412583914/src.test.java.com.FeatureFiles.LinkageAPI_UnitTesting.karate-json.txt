{"failedCount":1,"prefixedPath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","packageQualifiedName":"src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting","loopIndex":-1,"relativePath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":47706000,"millis":47.706,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":469600,"millis":0.4696,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":359600,"millis":0.3596,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":246700,"millis":0.2467,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":228700,"millis":0.2287,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":1336059800,"millis":1336.0598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:12:16.794 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:12:17.866 response time in milliseconds: 1068\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 98b6a370626e8e028163691d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e8e02-13f09cfb\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.47.59.18,169.175.115.119,169.177.209.50\n1 < dmz-global-txn-id: 98b6a370626e8e028163691d\n1 < X-Archived-Client-IP: 23.47.59.18,23.47.59.18,169.175.115.119\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:41:23 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651413683000; Expires=Sun, 19 Jul 54353 20:45:37 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=7C0A3D3633A1C57E1FF6204235327213~-1~YAAQLp6yUtJK8HKAAQAAKLzafwe1buyD6aqSj1q6H+9aG9ToS8KZayqc6ReKIJBGH1\/828srKkVux6Ka6xQnx5TawTSx5toF3SJwCdKxHOnA6wmOFG4c++XrzBzqfPqmwCGEytLHxfUcH5QUpl0VqgqPeMajGmu+blBgT6X2Fjrxnl6y4ECDR2ZvIZT76hsCrpvFrPNkRDO4yL3ut27VlgvGrnXOL35+MpqU2LUx3CYu8ArG+uR7w51aLGUqMr4iCB7FKGMajcSudjE1PgI1D4wW5LIoG+qz8N58Vqm6c393EgcnAq3kZK6\/m1uFDfFZh9l0cKYAoV3ZyyKNIbE1EvCMcQZnmV8jh3aYi2U9o5s4dN5cb6bqLCM=~-1~-1~-1; Max-Age=1682948483000; Expires=Sat, 04 Nov 55352 23:25:37 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=7F1F719D81880CAF5581863836F05259~YAAQLp6yUtNK8HKAAQAAKLzafw\/+Q\/X5eXc\/4p8\/rS+jZYk35xQdLdgyA9xSODb0OdXKbctSsZNt0BwUq1jNI0kmDTwmK0EgMrZaHREhl7sXMa7L7IWCxUrem6mDmW6rZWlxb3Sc1By851snvPKX0WzUoHr2D0oy4der3JJ4tdp0KOqSpBs7oLvEGM0cgyZR8SLbfX8jPz6qEN5aNziuBnM4fEU\/HLMJnTo\/oBd9SAgeRAXiRoMuPibNAI3svdTyHn9x7L8B0uLm+fI8ISWhMM84t4+FMIfupQVCjp5Oy\/vS~4539717~3289137; Max-Age=1651426882000; Expires=Sat, 19 Dec 54353 15:08:57 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh28v7Wswpj4UzrgOEP1Qv9o63nkN661rJIBFGTFcXfanreI0EWljNUgrmHymdbfXEKACEzT7yfWrShswopA96mTyWzDFHESVQjzp2S719OyFn2j1OFmz4vY0VQwaokMsBEkFF8Y13X3wTfGCN3u7IPZfivPf2i5jevNMGpIWvSuozdOZJboQxDZsyF7DV4-c04sfwEy5qcRt9MEBf4NliFepW_y3sv3TxsC9CUz7xKFY\", \"expires_in\":1800, \"consented_on\":1651412482, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":43361400,"millis":43.3614,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:12:17.928 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh28v7Wswpj4UzrgOEP1Qv9o63nkN661rJIBFGTFcXfanreI0EWljNUgrmHymdbfXEKACEzT7yfWrShswopA96mTyWzDFHESVQjzp2S719OyFn2j1OFmz4vY0VQwaokMsBEkFF8Y13X3wTfGCN3u7IPZfivPf2i5jevNMGpIWvSuozdOZJboQxDZsyF7DV4-c04sfwEy5qcRt9MEBf4NliFepW_y3sv3TxsC9CUz7xKFY\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651412482,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":17609100,"millis":17.6091,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":2071400,"millis":2.0714,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":941400,"millis":0.9414,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":631100,"millis":0.6311,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:12:17.951 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh28v7Wswpj4UzrgOEP1Qv9o63nkN661rJIBFGTFcXfanreI0EWljNUgrmHymdbfXEKACEzT7yfWrShswopA96mTyWzDFHESVQjzp2S719OyFn2j1OFmz4vY0VQwaokMsBEkFF8Y13X3wTfGCN3u7IPZfivPf2i5jevNMGpIWvSuozdOZJboQxDZsyF7DV4-c04sfwEy5qcRt9MEBf4NliFepW_y3sv3TxsC9CUz7xKFY \n"},{"result":{"nanos":7436100,"millis":7.4361,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":301100,"millis":0.3011,"status":"passed"},"step":{"line":19,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":170400,"millis":0.1704,"status":"passed"},"step":{"line":20,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":146200,"millis":0.1462,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":209900,"millis":0.2099,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":116600,"millis":0.1166,"status":"passed"},"step":{"line":23,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":213700,"millis":0.2137,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":175600,"millis":0.1756,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":1596428200,"millis":1596.4282,"status":"passed"},"step":{"line":26,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:12:17.963 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh28v7Wswpj4UzrgOEP1Qv9o63nkN661rJIBFGTFcXfanreI0EWljNUgrmHymdbfXEKACEzT7yfWrShswopA96mTyWzDFHESVQjzp2S719OyFn2j1OFmz4vY0VQwaokMsBEkFF8Y13X3wTfGCN3u7IPZfivPf2i5jevNMGpIWvSuozdOZJboQxDZsyF7DV4-c04sfwEy5qcRt9MEBf4NliFepW_y3sv3TxsC9CUz7xKFY\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=7C0A3D3633A1C57E1FF6204235327213~-1~YAAQLp6yUtJK8HKAAQAAKLzafwe1buyD6aqSj1q6H+9aG9ToS8KZayqc6ReKIJBGH1\/828srKkVux6Ka6xQnx5TawTSx5toF3SJwCdKxHOnA6wmOFG4c++XrzBzqfPqmwCGEytLHxfUcH5QUpl0VqgqPeMajGmu+blBgT6X2Fjrxnl6y4ECDR2ZvIZT76hsCrpvFrPNkRDO4yL3ut27VlgvGrnXOL35+MpqU2LUx3CYu8ArG+uR7w51aLGUqMr4iCB7FKGMajcSudjE1PgI1D4wW5LIoG+qz8N58Vqm6c393EgcnAq3kZK6\/m1uFDfFZh9l0cKYAoV3ZyyKNIbE1EvCMcQZnmV8jh3aYi2U9o5s4dN5cb6bqLCM=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=7F1F719D81880CAF5581863836F05259~YAAQLp6yUtNK8HKAAQAAKLzafw\/+Q\/X5eXc\/4p8\/rS+jZYk35xQdLdgyA9xSODb0OdXKbctSsZNt0BwUq1jNI0kmDTwmK0EgMrZaHREhl7sXMa7L7IWCxUrem6mDmW6rZWlxb3Sc1By851snvPKX0WzUoHr2D0oy4der3JJ4tdp0KOqSpBs7oLvEGM0cgyZR8SLbfX8jPz6qEN5aNziuBnM4fEU\/HLMJnTo\/oBd9SAgeRAXiRoMuPibNAI3svdTyHn9x7L8B0uLm+fI8ISWhMM84t4+FMIfupQVCjp5Oy\/vS~4539717~3289137\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:12:19.556 response time in milliseconds: 1593\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: e01be2b3-8892-4692-bb97-2bdf7764f378\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: f52065b0-5b84-43d7-96e3-c4048907387f\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n2 < X-Vcap-Request-Id: a08a9c15-7242-4ef3-7b60-4a4ca26449d7\n2 < X-Global-Transaction-ID: 126374ce626e8e03093bc75d\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: lJqfWd3lYef6T7HjQEPur9PTx0sj1jdBwxnSfw82bCTd3cucW3JC%2BCfZOP6TEUx8QZWgUsELrRLFQzs8KUeKc7lvdVEHbcjVn2klDHBP9U3qSMK4T56hG3M31chjy5mK%2FZ7e7nLJGMfiSEMq0xFCjMMkSTcf9Qi04Bh5Y3ph4X%2BsXQeXB9eowtQW1UMH%2F%2FfCcvgixIUM1RZMubYLf%2BcWPl6SwLtTPRhGL%2Bl6MWMQ%2BzWyJ2q9b9XYKWBBQmHu9C%2FuGKAPDglzJ%2BvK4M%2FzV1ZUdxqmrPi%2BsL3eQHfUCDnmMavnwxSFixqRg5uEOXglZNg%2BG1EXt4EgZrovzmenZcN0UfrF9WNvT43TxXKmXLEzgulPP%2BbC8WdF0UJMQDYPsmLdfxDP8%2FUtgL9KaVfFg1ar8UIGqB%2B6W%2FYWaWHsk%2BWtDB51WkLXMwZugDsVdZA92eXPjpE0uvzpw8qpA1xBqFnx5g%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 13:41:24 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651413684000; Expires=Sun, 19 Jul 54353 21:02:19 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":400700,"millis":0.4007,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"match response.rewardLinkCode != null"}},{"result":{"nanos":1654500,"errorMessage":"match failed: EQUALS\n  $ | not equal | match failed for name: 'rewardLinkCode' (MAP:MAP)\n  {\"rewardLinkCode\":\"4703012696960006061\"}\n  {\"rewardLinkCode\":\"#number\"}\n\n    $.rewardLinkCode | not a number (STRING:STRING)\n    '4703012696960006061'\n    '#number'\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:29","millis":1.6545,"status":"failed"},"step":{"line":29,"prefix":"And","index":10,"text":"match response == {\"rewardLinkCode\": '#number'}"},"stepLog":"19:12:19.559 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:29\nAnd match response == {\"rewardLinkCode\": '#number'}\nmatch failed: EQUALS\n  $ | not equal | match failed for name: 'rewardLinkCode' (MAP:MAP)\n  {\"rewardLinkCode\":\"4703012696960006061\"}\n  {\"rewardLinkCode\":\"#number\"}\n\n    $.rewardLinkCode | not a number (STRING:STRING)\n    '4703012696960006061'\n    '#number'\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:29\n"}],"line":18,"description":"","durationMillis":3056.9624,"failed":true,"error":"match failed: EQUALS\n  $ | not equal | match failed for name: 'rewardLinkCode' (MAP:MAP)\n  {\"rewardLinkCode\":\"4703012696960006061\"}\n  {\"rewardLinkCode\":\"#number\"}\n\n    $.rewardLinkCode | not a number (STRING:STRING)\n    '4703012696960006061'\n    '#number'\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:29","executorName":"main","name":"Verify the LinkageAPI with all mandatory body parameters","startTime":1651412536489,"refId":"[1:18]","endTime":1651412539559,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":120400,"millis":0.1204,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":234700,"millis":0.2347,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":205300,"millis":0.2053,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":168600,"millis":0.1686,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":166700,"millis":0.1667,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":524392100,"millis":524.3921,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:12:19.564 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:12:20.087 response time in milliseconds: 522\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 2b769208626e8e05e7d0aa3f\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e8e04-13f0ad2c\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.221.23.115,169.175.61.96,153.40.245.131\n1 < dmz-global-txn-id: 2b769208626e8e05e7d0aa3f\n1 < X-Archived-Client-IP: 23.221.23.115,23.221.23.115,169.175.61.96\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:41:25 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651413685000; Expires=Sun, 19 Jul 54353 21:19:00 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=1107B893532429805750D2A1A168379C~-1~YAAQLp6yUtdK8HKAAQAA68TafwdFo7LmgB7orUvoGSip0xZ5Ys6Nj07zg7FYNNdsxJHS9iUf9Tt\/mMSWWsHJZZ6fh9ssDO7mPoZV5wTCDXvvNnLKxDz296qETceJDJ2I5HHrJSRO0cxbP7jrIBssFT4sHe0TXxjW0gB9Fa5xcbEYquDefjuZ2UvkUvEL3k8EbK9fmtK1fW3juxeLOMRjmBHN+6QVyww7R2r45QRbq97GUGuHVQAL0R1UMLPKL\/epoRHacDLJ\/GC1HaBDZjjmVxDIj21xIqQefy37JKVtwoqO19Az\/yn+D8VvTIxx0JEBGRp9zoUfmbVj5vDoaqgYwZXUgOf60yxkku7lb6vu1g5hBS73v\/sWqEI=~-1~-1~-1; Max-Age=1682948485000; Expires=Sat, 04 Nov 55352 23:59:00 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=F0517E94B09DFB549C06127EB86C4A70~YAAQLp6yUthK8HKAAQAA68Tafw\/jH6Yhdsum5Q1Ajnj\/7bzto7qqeNQsqDtta9REXd7+ynoJj\/\/QVj9SY8Rkt0ORpV8lPIL1M2sxd3mSLZORB0Hbc5EnVkqU30ruqvXRExQZ0yBBRargFsLj1C60eUJ75tjkPHtrtjrLz5DQY9MMe4AbsnIDIMOueYjaUqHJxge0CuV7Glc0+RHveFwg8RAnCU9PvawRCq\/YllJrqW2XWCc4IaSO+TZ3wGa5efZxnCJ4wuVJenLNU2+DL7UBMkNWx733iosGUjH7Dd69dytX~3424822~3425860; Max-Age=1651426884000; Expires=Sat, 19 Dec 54353 15:42:20 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhVZtOom8UktyrTM0od3t6Zz0X4tQnM04SbKSCBmmA_HIQ1BHqlw355b2kJVqQLPuIg4BE7z4Hb51R7bKgNBd6cU5FDW07bmIsL3v3C3ShbXwr8fTVP3tZdlzG1XuF6C67ONPVxOGak_7Py6_gjO1tsHDl3OhaJFT-iWJtum1vG-yB9wR3OTejxAfmm0dfRFjF7rG5QEQPgY0fe6TmhMx1DHNvuZstV2_La0pn9y8fD1Y\", \"expires_in\":1800, \"consented_on\":1651412485, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":332600,"millis":0.3326,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:12:20.087 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhVZtOom8UktyrTM0od3t6Zz0X4tQnM04SbKSCBmmA_HIQ1BHqlw355b2kJVqQLPuIg4BE7z4Hb51R7bKgNBd6cU5FDW07bmIsL3v3C3ShbXwr8fTVP3tZdlzG1XuF6C67ONPVxOGak_7Py6_gjO1tsHDl3OhaJFT-iWJtum1vG-yB9wR3OTejxAfmm0dfRFjF7rG5QEQPgY0fe6TmhMx1DHNvuZstV2_La0pn9y8fD1Y\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651412485,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":419800,"millis":0.4198,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":221700,"millis":0.2217,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":147700,"millis":0.1477,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":197400,"millis":0.1974,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:12:20.088 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhVZtOom8UktyrTM0od3t6Zz0X4tQnM04SbKSCBmmA_HIQ1BHqlw355b2kJVqQLPuIg4BE7z4Hb51R7bKgNBd6cU5FDW07bmIsL3v3C3ShbXwr8fTVP3tZdlzG1XuF6C67ONPVxOGak_7Py6_gjO1tsHDl3OhaJFT-iWJtum1vG-yB9wR3OTejxAfmm0dfRFjF7rG5QEQPgY0fe6TmhMx1DHNvuZstV2_La0pn9y8fD1Y \n"},{"result":{"nanos":120600,"millis":0.1206,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":62400,"millis":0.0624,"status":"passed"},"step":{"line":33,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"line":34,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"line":35,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":64000,"millis":0.064,"status":"passed"},"step":{"line":36,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":61600,"millis":0.0616,"status":"passed"},"step":{"line":37,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":63100,"millis":0.0631,"status":"passed"},"step":{"line":38,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":62400,"millis":0.0624,"status":"passed"},"step":{"line":39,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":838389900,"millis":838.3899,"status":"passed"},"step":{"line":40,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:12:20.090 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhVZtOom8UktyrTM0od3t6Zz0X4tQnM04SbKSCBmmA_HIQ1BHqlw355b2kJVqQLPuIg4BE7z4Hb51R7bKgNBd6cU5FDW07bmIsL3v3C3ShbXwr8fTVP3tZdlzG1XuF6C67ONPVxOGak_7Py6_gjO1tsHDl3OhaJFT-iWJtum1vG-yB9wR3OTejxAfmm0dfRFjF7rG5QEQPgY0fe6TmhMx1DHNvuZstV2_La0pn9y8fD1Y\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=1107B893532429805750D2A1A168379C~-1~YAAQLp6yUtdK8HKAAQAA68TafwdFo7LmgB7orUvoGSip0xZ5Ys6Nj07zg7FYNNdsxJHS9iUf9Tt\/mMSWWsHJZZ6fh9ssDO7mPoZV5wTCDXvvNnLKxDz296qETceJDJ2I5HHrJSRO0cxbP7jrIBssFT4sHe0TXxjW0gB9Fa5xcbEYquDefjuZ2UvkUvEL3k8EbK9fmtK1fW3juxeLOMRjmBHN+6QVyww7R2r45QRbq97GUGuHVQAL0R1UMLPKL\/epoRHacDLJ\/GC1HaBDZjjmVxDIj21xIqQefy37JKVtwoqO19Az\/yn+D8VvTIxx0JEBGRp9zoUfmbVj5vDoaqgYwZXUgOf60yxkku7lb6vu1g5hBS73v\/sWqEI=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=F0517E94B09DFB549C06127EB86C4A70~YAAQLp6yUthK8HKAAQAA68Tafw\/jH6Yhdsum5Q1Ajnj\/7bzto7qqeNQsqDtta9REXd7+ynoJj\/\/QVj9SY8Rkt0ORpV8lPIL1M2sxd3mSLZORB0Hbc5EnVkqU30ruqvXRExQZ0yBBRargFsLj1C60eUJ75tjkPHtrtjrLz5DQY9MMe4AbsnIDIMOueYjaUqHJxge0CuV7Glc0+RHveFwg8RAnCU9PvawRCq\/YllJrqW2XWCc4IaSO+TZ3wGa5efZxnCJ4wuVJenLNU2+DL7UBMkNWx733iosGUjH7Dd69dytX~3424822~3425860\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:12:20.927 response time in milliseconds: 836\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 481dc555-0c76-45da-b5c8-274063100ab2\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 2f105542-cc92-4e95-836c-7a936d2168b2\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n2 < X-Vcap-Request-Id: 790888cd-346e-454c-69f6-2b896de0dd47\n2 < X-Global-Transaction-ID: 126374ce626e8e0570714fef\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: eKEcZQnnHafGwKyUZskfaCFUisrSXM4IIFrdpi7%2BX6AfRgHEIoP5nYefXqARvD7oxv%2FBSDMYWegBA3EkcihQ9aj8m9R2ybrinMb1LYk7nXLV4rkHguPSiRQwv2KfdJvAWbYyhGNv4qXgDoQGq6flHou%2BtvtimpvCtiJrlT7dor2n8%2BwCUFKWtaK0k5vbz4ae3EeFx%2B2DrMaFMcVKYO7r%2B4nTVu2K5Hjk0Bv5Pp05uh9e7qnooJTqdEzlHwgrVN9czPeIUidgo8tgLyswshPEAIdq7lwa9Ch8pBww7RJmaTKTVnUQJprovprkJClxySuEx90ezGvwGeH3XW4uMGpvq%2BnZUzVYRHVpA0XrcXJ902t4h9ucEZZpzXBQ91AGUFQLX5kl9lHdtkDJeQ89WbKEINwx%2BQQgCVuAsRuZjg%2BvqBAeA7aQgUIufgTMnTl5UUxxch2Ei6lqdyi9KFBoGGLwSA%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 13:41:26 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651413686000; Expires=Sun, 19 Jul 54353 21:35:40 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":41,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":652300,"millis":0.6523,"status":"passed"},"step":{"line":42,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:12:20.928 [print] {\n  \"rewardLinkCode\": \"4703012696960006061\"\n}\n \n"}],"executorName":"main","line":32,"name":"Verify the LinkageAPI with all mandatory body parameters","description":"","durationMillis":1366.1966,"startTime":1651412539562,"failed":false,"refId":"[2:32]","endTime":1651412540929,"exampleIndex":-1}],"callDepth":0,"name":"API level unit testing for linkage service","description":"","resultDate":"2022-05-01 07:12:20 pm","durationMillis":4423.159,"passedCount":1}