<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="res/bootstrap.min.css" type="text/css"/>
    <link rel="stylesheet" href="res/karate-report.css" type="text/css"/>
    <link rel="shortcut icon" href="favicon.ico"/>
    <script type="text/javascript" src="res/jquery.min.js"></script>
    <script type="text/javascript" src="res/jquery.tablesorter.min.js"></script>
    <script type="text/javascript" src="res/bootstrap.min.js"></script>
    <script type="text/javascript" src="res/karate-report.js"></script>
    <script>
!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
posthog.init('phc_pb7428bpWvS2BLY4EwJ6tS1Y8IlVclo5LPTSmSbm5n8',{
  api_host:'https://app.posthog.com',
  persistence:'localStorage',
  autocapture:false,
  capture_pageview:false,
  api_transport:'sendBeacon',
  loaded: function(posthog) { 
    posthog.identify("c8c6bda7-fbeb-485b-81e9-131a5c732596",{name:"vimalrajv"});
    posthog.capture("report_feature",{karate_version:"1.2.0.RC6",karate_meta:null});
  }
});  
</script>
  
    <title>src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting</title>  
  </head>
  <body>   
    <div id="root-container">
      <div id="leftnav">
                
        <div>
  <div class="nav-logo">
    <a href="karate-summary.html">
      <img src="karate-logo.svg" alt="Karate"/>
    </a>
    <div class="nav-count">
      <div id="nav-pass" class="bg-success">1</div>
      <div id="nav-fail" class="bg-danger">1</div>
    </div>
  </div>
  <div id="nav-type">
    <div>Scenarios</div>
  </div>         
  <div id="nav-date">
    <div>2022-05-01 07:12:20 pm</div>
  </div>        
</div>

        <div class="nav-container">
          <div class="nav-item failed">
            <a href="#[1:18]"><span>[1:18]</span> <span>Verify the LinkageAPI with all mandatory body parameters</span></a>
          </div>
          <div class="nav-item passed">
            <a href="#[2:32]"><span>[2:32]</span> <span>Verify the LinkageAPI with all mandatory body parameters</span></a>
          </div>
        </div>
      </div>
      <div id="content">
        <div class="page-heading alert alert-primary">
          <a href="karate-summary.html">Summary</a><span class="feature-label">|</span>
          <a href="karate-tags.html">Tags</a><span class="feature-label">|</span>
          <span class="feature-label">Feature:</span>
          <span class="feature-path">src/test/java/com.FeatureFiles/LinkageAPI_UnitTesting.feature</span><span class="feature-label">|</span>
          <span class="feature-name">API level unit testing for linkage service</span>
          <span class="feature-description"></span>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[1:18]">
            <div class="heading-container">
              <div class="scenario-tags">
                
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[1:18]</span>
                <span class="scenario-name">Verify the LinkageAPI with all mandatory body parameters</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time failed">
              <span>ms:</span>&nbsp;<span>3057</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[1:18]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.4">
      <div class="step-ref bg-step">4</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">48</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.5">
      <div class="step-ref bg-step">5</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/clientCredentials/oauth2/token/hk/gcb&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = &#39;Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/x-www-form-urlencoded&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;grant_type=client_credentials&amp;scope=/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">1336</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.9">19:12:16.794 request:
1 &gt; POST https://sandbox.apihub.citi.com/gcb/api/clientCredentials/oauth2/token/hk/gcb
1 &gt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &gt; Content-Type: application/x-www-form-urlencoded; charset=UTF-8
1 &gt; Content-Length: 40
1 &gt; Host: sandbox.apihub.citi.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
1 &gt; Accept-Encoding: gzip,deflate
grant_type=client_credentials&amp;scope=/api

19:12:17.866 response time in milliseconds: 1068
1 &lt; 200
1 &lt; X-Backside-Transport: OK OK,OK OK,OK OK
1 &lt; Content-Type: application/json
1 &lt; Content-Type: application/json
1 &lt; X-Global-Transaction-ID: 98b6a370626e8e028163691d
1 &lt; X-Akamai-True-Client-IP: 85.154.175.224
1 &lt; Pragma: no-cache
1 &lt; X-DataStream-Session-Id: a11f57161-626e8e02-13f09cfb
1 &lt; X_AK_SHAPE_AGGREGATOR_IP: FALSE
1 &lt; X-Akamai-CONFIG-LOG-DETAIL: true
1 &lt; Akamai-Origin-Hop: 2
1 &lt; X-Forwarded-For: 85.154.175.224, 82.178.158.46
1 &lt; Cache-Control: no-cache, max-age=0
1 &lt; X-Client-IP: 23.47.59.18,169.175.115.119,169.177.209.50
1 &lt; dmz-global-txn-id: 98b6a370626e8e028163691d
1 &lt; X-Archived-Client-IP: 23.47.59.18,23.47.59.18,169.175.115.119
1 &lt; countryCode: HK
1 &lt; businessCode: GCB
1 &lt; scope: /api
1 &lt; channelId: SSA
1 &lt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
1 &lt; client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY
1 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Origin: 
1 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
1 &lt; X-RateLimit-Limit: name=rate-limit-1,60;
1 &lt; X-RateLimit-Remaining: name=rate-limit-1,59;
1 &lt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &lt; X-Akamai-CITISITE: GTDC
1 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Credentials: true
1 &lt; Content-Length: 393
1 &lt; Date: Sun, 01 May 2022 13:41:23 GMT
1 &lt; Connection: keep-alive
1 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651413683000; Expires=Sun, 19 Jul 54353 20:45:37 GMT; Domain=sandbox.apihub.citi.com; Secure
1 &lt; Set-Cookie: _abck=7C0A3D3633A1C57E1FF6204235327213~-1~YAAQLp6yUtJK8HKAAQAAKLzafwe1buyD6aqSj1q6H+9aG9ToS8KZayqc6ReKIJBGH1/828srKkVux6Ka6xQnx5TawTSx5toF3SJwCdKxHOnA6wmOFG4c++XrzBzqfPqmwCGEytLHxfUcH5QUpl0VqgqPeMajGmu+blBgT6X2Fjrxnl6y4ECDR2ZvIZT76hsCrpvFrPNkRDO4yL3ut27VlgvGrnXOL35+MpqU2LUx3CYu8ArG+uR7w51aLGUqMr4iCB7FKGMajcSudjE1PgI1D4wW5LIoG+qz8N58Vqm6c393EgcnAq3kZK6/m1uFDfFZh9l0cKYAoV3ZyyKNIbE1EvCMcQZnmV8jh3aYi2U9o5s4dN5cb6bqLCM=~-1~-1~-1; Max-Age=1682948483000; Expires=Sat, 04 Nov 55352 23:25:37 GMT; Domain=citi.com; Secure
1 &lt; Set-Cookie: bm_sz=7F1F719D81880CAF5581863836F05259~YAAQLp6yUtNK8HKAAQAAKLzafw/+Q/X5eXc/4p8/rS+jZYk35xQdLdgyA9xSODb0OdXKbctSsZNt0BwUq1jNI0kmDTwmK0EgMrZaHREhl7sXMa7L7IWCxUrem6mDmW6rZWlxb3Sc1By851snvPKX0WzUoHr2D0oy4der3JJ4tdp0KOqSpBs7oLvEGM0cgyZR8SLbfX8jPz6qEN5aNziuBnM4fEU/HLMJnTo/oBd9SAgeRAXiRoMuPibNAI3svdTyHn9x7L8B0uLm+fI8ISWhMM84t4+FMIfupQVCjp5Oy/vS~4539717~3289137; Max-Age=1651426882000; Expires=Sat, 19 Dec 54353 15:08:57 GMT; Domain=citi.com
{ &quot;token_type&quot;:&quot;Bearer&quot;, &quot;access_token&quot;:&quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh28v7Wswpj4UzrgOEP1Qv9o63nkN661rJIBFGTFcXfanreI0EWljNUgrmHymdbfXEKACEzT7yfWrShswopA96mTyWzDFHESVQjzp2S719OyFn2j1OFmz4vY0VQwaokMsBEkFF8Y13X3wTfGCN3u7IPZfivPf2i5jevNMGpIWvSuozdOZJboQxDZsyF7DV4-c04sfwEy5qcRt9MEBf4NliFepW_y3sv3TxsC9CUz7xKFY&quot;, &quot;expires_in&quot;:1800, &quot;consented_on&quot;:1651412482, &quot;scope&quot;:&quot;/api&quot; }

</div>   

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.11">
      <div class="step-ref bg-step">11</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell passed">43</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.11">19:12:17.928 [print] {
  &quot;token_type&quot;: &quot;Bearer&quot;,
  &quot;access_token&quot;: &quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh28v7Wswpj4UzrgOEP1Qv9o63nkN661rJIBFGTFcXfanreI0EWljNUgrmHymdbfXEKACEzT7yfWrShswopA96mTyWzDFHESVQjzp2S719OyFn2j1OFmz4vY0VQwaokMsBEkFF8Y13X3wTfGCN3u7IPZfivPf2i5jevNMGpIWvSuozdOZJboQxDZsyF7DV4-c04sfwEy5qcRt9MEBf4NliFepW_y3sv3TxsC9CUz7xKFY&quot;,
  &quot;expires_in&quot;: 1800,
  &quot;consented_on&quot;: 1651412482,
  &quot;scope&quot;: &quot;/api&quot;
}
 
</div>   

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.12">
      <div class="step-ref bg-step">12</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.token_type == &#39;Bearer&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">18</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.13">
      <div class="step-ref bg-step">13</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.access_token != null</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.14">
      <div class="step-ref bg-step">14</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def accessToken = response.access_token</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.15">
      <div class="step-ref bg-step">15</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print &#39;AccessToken&#39;, accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.15">19:12:17.951 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh28v7Wswpj4UzrgOEP1Qv9o63nkN661rJIBFGTFcXfanreI0EWljNUgrmHymdbfXEKACEzT7yfWrShswopA96mTyWzDFHESVQjzp2S719OyFn2j1OFmz4vY0VQwaokMsBEkFF8Y13X3wTfGCN3u7IPZfivPf2i5jevNMGpIWvSuozdOZJboQxDZsyF7DV4-c04sfwEy5qcRt9MEBf4NliFepW_y3sv3TxsC9CUz7xKFY 
</div>   

  

</div>
</div>
          <div data-parent="[1:18]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.16">
      <div class="step-ref bg-step">16</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def Auth = &#39;Bearer &#39;+accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">7</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.19">
      <div class="step-ref passed">19</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.20">
      <div class="step-ref passed">20</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/v1/apac/rewards/linkage&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.21">
      <div class="step-ref passed">21</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = Auth</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.22">
      <div class="step-ref passed">22</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Accept = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.23">
      <div class="step-ref passed">23</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.24">
      <div class="step-ref passed">24</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header client_id = &#39;5ad84ff6-2ef9-402d-9cba-d12bfcb41faa&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.25">
      <div class="step-ref passed">25</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.26">
      <div class="step-ref passed">26</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">1596</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.26">19:12:17.963 request:
2 &gt; POST https://sandbox.apihub.citi.com/gcb/api/v1/apac/rewards/linkage
2 &gt; Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh28v7Wswpj4UzrgOEP1Qv9o63nkN661rJIBFGTFcXfanreI0EWljNUgrmHymdbfXEKACEzT7yfWrShswopA96mTyWzDFHESVQjzp2S719OyFn2j1OFmz4vY0VQwaokMsBEkFF8Y13X3wTfGCN3u7IPZfivPf2i5jevNMGpIWvSuozdOZJboQxDZsyF7DV4-c04sfwEy5qcRt9MEBf4NliFepW_y3sv3TxsC9CUz7xKFY
2 &gt; Accept: application/json
2 &gt; Content-Type: application/json; charset=UTF-8
2 &gt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
2 &gt; Cookie: _abck=7C0A3D3633A1C57E1FF6204235327213~-1~YAAQLp6yUtJK8HKAAQAAKLzafwe1buyD6aqSj1q6H+9aG9ToS8KZayqc6ReKIJBGH1/828srKkVux6Ka6xQnx5TawTSx5toF3SJwCdKxHOnA6wmOFG4c++XrzBzqfPqmwCGEytLHxfUcH5QUpl0VqgqPeMajGmu+blBgT6X2Fjrxnl6y4ECDR2ZvIZT76hsCrpvFrPNkRDO4yL3ut27VlgvGrnXOL35+MpqU2LUx3CYu8ArG+uR7w51aLGUqMr4iCB7FKGMajcSudjE1PgI1D4wW5LIoG+qz8N58Vqm6c393EgcnAq3kZK6/m1uFDfFZh9l0cKYAoV3ZyyKNIbE1EvCMcQZnmV8jh3aYi2U9o5s4dN5cb6bqLCM=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=7F1F719D81880CAF5581863836F05259~YAAQLp6yUtNK8HKAAQAAKLzafw/+Q/X5eXc/4p8/rS+jZYk35xQdLdgyA9xSODb0OdXKbctSsZNt0BwUq1jNI0kmDTwmK0EgMrZaHREhl7sXMa7L7IWCxUrem6mDmW6rZWlxb3Sc1By851snvPKX0WzUoHr2D0oy4der3JJ4tdp0KOqSpBs7oLvEGM0cgyZR8SLbfX8jPz6qEN5aNziuBnM4fEU/HLMJnTo/oBd9SAgeRAXiRoMuPibNAI3svdTyHn9x7L8B0uLm+fI8ISWhMM84t4+FMIfupQVCjp5Oy/vS~4539717~3289137
2 &gt; Content-Length: 124
2 &gt; Host: sandbox.apihub.citi.com
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
2 &gt; Accept-Encoding: gzip,deflate
{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}

19:12:19.556 response time in milliseconds: 1593
2 &lt; 200
2 &lt; X-Backside-Transport: OK OK,OK OK,OK OK
2 &lt; Content-Type: application/json
2 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
2 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Max-Age: 2147483647
2 &lt; Cache-Control: no-cache, no-store
2 &lt; Citiuuid: e01be2b3-8892-4692-bb97-2bdf7764f378
2 &lt; Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
2 &lt; Expires: -1
2 &lt; Pragma: no-cache
2 &lt; Uuid: f52065b0-5b84-43d7-96e3-c4048907387f
2 &lt; X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0
2 &lt; X-Vcap-Request-Id: a08a9c15-7242-4ef3-7b60-4a4ca26449d7
2 &lt; X-Global-Transaction-ID: 126374ce626e8e03093bc75d
2 &lt; Access-Control-Allow-Origin: 
2 &lt; Access-Control-Allow-Credentials: true
2 &lt; mfaCode: lJqfWd3lYef6T7HjQEPur9PTx0sj1jdBwxnSfw82bCTd3cucW3JC%2BCfZOP6TEUx8QZWgUsELrRLFQzs8KUeKc7lvdVEHbcjVn2klDHBP9U3qSMK4T56hG3M31chjy5mK%2FZ7e7nLJGMfiSEMq0xFCjMMkSTcf9Qi04Bh5Y3ph4X%2BsXQeXB9eowtQW1UMH%2F%2FfCcvgixIUM1RZMubYLf%2BcWPl6SwLtTPRhGL%2Bl6MWMQ%2BzWyJ2q9b9XYKWBBQmHu9C%2FuGKAPDglzJ%2BvK4M%2FzV1ZUdxqmrPi%2BsL3eQHfUCDnmMavnwxSFixqRg5uEOXglZNg%2BG1EXt4EgZrovzmenZcN0UfrF9WNvT43TxXKmXLEzgulPP%2BbC8WdF0UJMQDYPsmLdfxDP8%2FUtgL9KaVfFg1ar8UIGqB%2B6W%2FYWaWHsk%2BWtDB51WkLXMwZugDsVdZA92eXPjpE0uvzpw8qpA1xBqFnx5g%3D%3D
2 &lt; X-Akamai-CITISITE: GTDC
2 &lt; Content-Length: 40
2 &lt; Date: Sun, 01 May 2022 13:41:24 GMT
2 &lt; Connection: keep-alive
2 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651413684000; Expires=Sun, 19 Jul 54353 21:02:19 GMT; Domain=sandbox.apihub.citi.com; Secure
{&quot;rewardLinkCode&quot;:&quot;4703012696960006061&quot;}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.27">
      <div class="step-ref passed">27</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.28">
      <div class="step-ref passed">28</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.rewardLinkCode != null</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.29">
      <div class="step-ref failed">29</div>
      
      <div class="step-cell failed">
        <span>And</span>&nbsp;<span>match response == {&quot;rewardLinkCode&quot;: &#39;#number&#39;}</span>
      </div>
    </div>
    <div class="time-cell failed">2</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.29">19:12:19.559 src/test/java/com.FeatureFiles/LinkageAPI_UnitTesting.feature:29
And match response == {&quot;rewardLinkCode&quot;: &#39;#number&#39;}
match failed: EQUALS
  $ | not equal | match failed for name: &#39;rewardLinkCode&#39; (MAP:MAP)
  {&quot;rewardLinkCode&quot;:&quot;4703012696960006061&quot;}
  {&quot;rewardLinkCode&quot;:&quot;#number&quot;}

    $.rewardLinkCode | not a number (STRING:STRING)
    &#39;4703012696960006061&#39;
    &#39;#number&#39;

src/test/java/com.FeatureFiles/LinkageAPI_UnitTesting.feature:29
</div>   

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[2:32]">
            <div class="heading-container">
              <div class="scenario-tags">
                
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[2:32]</span>
                <span class="scenario-name">Verify the LinkageAPI with all mandatory body parameters</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time passed">
              <span>ms:</span>&nbsp;<span>1366</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[2:32]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[2:32]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.4">
      <div class="step-ref bg-step">4</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:32]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.5">
      <div class="step-ref bg-step">5</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/clientCredentials/oauth2/token/hk/gcb&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:32]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = &#39;Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:32]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/x-www-form-urlencoded&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:32]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;grant_type=client_credentials&amp;scope=/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:32]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">524</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.9">19:12:19.564 request:
1 &gt; POST https://sandbox.apihub.citi.com/gcb/api/clientCredentials/oauth2/token/hk/gcb
1 &gt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &gt; Content-Type: application/x-www-form-urlencoded; charset=UTF-8
1 &gt; Content-Length: 40
1 &gt; Host: sandbox.apihub.citi.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
1 &gt; Accept-Encoding: gzip,deflate
grant_type=client_credentials&amp;scope=/api

19:12:20.087 response time in milliseconds: 522
1 &lt; 200
1 &lt; X-Backside-Transport: OK OK,OK OK,OK OK
1 &lt; Content-Type: application/json
1 &lt; Content-Type: application/json
1 &lt; X-Global-Transaction-ID: 2b769208626e8e05e7d0aa3f
1 &lt; X-Akamai-True-Client-IP: 85.154.175.224
1 &lt; Pragma: no-cache
1 &lt; X-DataStream-Session-Id: a11f57161-626e8e04-13f0ad2c
1 &lt; X_AK_SHAPE_AGGREGATOR_IP: FALSE
1 &lt; X-Akamai-CONFIG-LOG-DETAIL: true
1 &lt; Akamai-Origin-Hop: 2
1 &lt; X-Forwarded-For: 85.154.175.224, 82.178.158.46
1 &lt; Cache-Control: no-cache, max-age=0
1 &lt; X-Client-IP: 23.221.23.115,169.175.61.96,153.40.245.131
1 &lt; dmz-global-txn-id: 2b769208626e8e05e7d0aa3f
1 &lt; X-Archived-Client-IP: 23.221.23.115,23.221.23.115,169.175.61.96
1 &lt; countryCode: HK
1 &lt; businessCode: GCB
1 &lt; scope: /api
1 &lt; channelId: SSA
1 &lt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
1 &lt; client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY
1 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Origin: 
1 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
1 &lt; X-RateLimit-Limit: name=rate-limit-1,60;
1 &lt; X-RateLimit-Remaining: name=rate-limit-1,59;
1 &lt; Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ
1 &lt; X-Akamai-CITISITE: GTDC
1 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
1 &lt; Access-Control-Allow-Credentials: true
1 &lt; Content-Length: 393
1 &lt; Date: Sun, 01 May 2022 13:41:25 GMT
1 &lt; Connection: keep-alive
1 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651413685000; Expires=Sun, 19 Jul 54353 21:19:00 GMT; Domain=sandbox.apihub.citi.com; Secure
1 &lt; Set-Cookie: _abck=1107B893532429805750D2A1A168379C~-1~YAAQLp6yUtdK8HKAAQAA68TafwdFo7LmgB7orUvoGSip0xZ5Ys6Nj07zg7FYNNdsxJHS9iUf9Tt/mMSWWsHJZZ6fh9ssDO7mPoZV5wTCDXvvNnLKxDz296qETceJDJ2I5HHrJSRO0cxbP7jrIBssFT4sHe0TXxjW0gB9Fa5xcbEYquDefjuZ2UvkUvEL3k8EbK9fmtK1fW3juxeLOMRjmBHN+6QVyww7R2r45QRbq97GUGuHVQAL0R1UMLPKL/epoRHacDLJ/GC1HaBDZjjmVxDIj21xIqQefy37JKVtwoqO19Az/yn+D8VvTIxx0JEBGRp9zoUfmbVj5vDoaqgYwZXUgOf60yxkku7lb6vu1g5hBS73v/sWqEI=~-1~-1~-1; Max-Age=1682948485000; Expires=Sat, 04 Nov 55352 23:59:00 GMT; Domain=citi.com; Secure
1 &lt; Set-Cookie: bm_sz=F0517E94B09DFB549C06127EB86C4A70~YAAQLp6yUthK8HKAAQAA68Tafw/jH6Yhdsum5Q1Ajnj/7bzto7qqeNQsqDtta9REXd7+ynoJj//QVj9SY8Rkt0ORpV8lPIL1M2sxd3mSLZORB0Hbc5EnVkqU30ruqvXRExQZ0yBBRargFsLj1C60eUJ75tjkPHtrtjrLz5DQY9MMe4AbsnIDIMOueYjaUqHJxge0CuV7Glc0+RHveFwg8RAnCU9PvawRCq/YllJrqW2XWCc4IaSO+TZ3wGa5efZxnCJ4wuVJenLNU2+DL7UBMkNWx733iosGUjH7Dd69dytX~3424822~3425860; Max-Age=1651426884000; Expires=Sat, 19 Dec 54353 15:42:20 GMT; Domain=citi.com
{ &quot;token_type&quot;:&quot;Bearer&quot;, &quot;access_token&quot;:&quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhVZtOom8UktyrTM0od3t6Zz0X4tQnM04SbKSCBmmA_HIQ1BHqlw355b2kJVqQLPuIg4BE7z4Hb51R7bKgNBd6cU5FDW07bmIsL3v3C3ShbXwr8fTVP3tZdlzG1XuF6C67ONPVxOGak_7Py6_gjO1tsHDl3OhaJFT-iWJtum1vG-yB9wR3OTejxAfmm0dfRFjF7rG5QEQPgY0fe6TmhMx1DHNvuZstV2_La0pn9y8fD1Y&quot;, &quot;expires_in&quot;:1800, &quot;consented_on&quot;:1651412485, &quot;scope&quot;:&quot;/api&quot; }

</div>   

  

</div>
</div>
          <div data-parent="[2:32]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:32]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.11">
      <div class="step-ref bg-step">11</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.11">19:12:20.087 [print] {
  &quot;token_type&quot;: &quot;Bearer&quot;,
  &quot;access_token&quot;: &quot;AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhVZtOom8UktyrTM0od3t6Zz0X4tQnM04SbKSCBmmA_HIQ1BHqlw355b2kJVqQLPuIg4BE7z4Hb51R7bKgNBd6cU5FDW07bmIsL3v3C3ShbXwr8fTVP3tZdlzG1XuF6C67ONPVxOGak_7Py6_gjO1tsHDl3OhaJFT-iWJtum1vG-yB9wR3OTejxAfmm0dfRFjF7rG5QEQPgY0fe6TmhMx1DHNvuZstV2_La0pn9y8fD1Y&quot;,
  &quot;expires_in&quot;: 1800,
  &quot;consented_on&quot;: 1651412485,
  &quot;scope&quot;: &quot;/api&quot;
}
 
</div>   

  

</div>
</div>
          <div data-parent="[2:32]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.12">
      <div class="step-ref bg-step">12</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.token_type == &#39;Bearer&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:32]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.13">
      <div class="step-ref bg-step">13</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.access_token != null</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:32]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.14">
      <div class="step-ref bg-step">14</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def accessToken = response.access_token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:32]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.15">
      <div class="step-ref bg-step">15</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print &#39;AccessToken&#39;, accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.15">19:12:20.088 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhVZtOom8UktyrTM0od3t6Zz0X4tQnM04SbKSCBmmA_HIQ1BHqlw355b2kJVqQLPuIg4BE7z4Hb51R7bKgNBd6cU5FDW07bmIsL3v3C3ShbXwr8fTVP3tZdlzG1XuF6C67ONPVxOGak_7Py6_gjO1tsHDl3OhaJFT-iWJtum1vG-yB9wR3OTejxAfmm0dfRFjF7rG5QEQPgY0fe6TmhMx1DHNvuZstV2_La0pn9y8fD1Y 
</div>   

  

</div>
</div>
          <div data-parent="[2:32]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.16">
      <div class="step-ref bg-step">16</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def Auth = &#39;Bearer &#39;+accessToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.33">
      <div class="step-ref passed">33</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>url &#39;https://sandbox.apihub.citi.com/gcb/api&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.34">
      <div class="step-ref passed">34</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>path &#39;/v1/apac/rewards/linkage&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.35">
      <div class="step-ref passed">35</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = Auth</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.36">
      <div class="step-ref passed">36</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Accept = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.37">
      <div class="step-ref passed">37</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.38">
      <div class="step-ref passed">38</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header client_id = &#39;5ad84ff6-2ef9-402d-9cba-d12bfcb41faa&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.39">
      <div class="step-ref passed">39</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request &#39;{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.40">
      <div class="step-ref passed">40</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">838</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.40">19:12:20.090 request:
2 &gt; POST https://sandbox.apihub.citi.com/gcb/api/v1/apac/rewards/linkage
2 &gt; Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhVZtOom8UktyrTM0od3t6Zz0X4tQnM04SbKSCBmmA_HIQ1BHqlw355b2kJVqQLPuIg4BE7z4Hb51R7bKgNBd6cU5FDW07bmIsL3v3C3ShbXwr8fTVP3tZdlzG1XuF6C67ONPVxOGak_7Py6_gjO1tsHDl3OhaJFT-iWJtum1vG-yB9wR3OTejxAfmm0dfRFjF7rG5QEQPgY0fe6TmhMx1DHNvuZstV2_La0pn9y8fD1Y
2 &gt; Accept: application/json
2 &gt; Content-Type: application/json; charset=UTF-8
2 &gt; client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
2 &gt; Cookie: _abck=1107B893532429805750D2A1A168379C~-1~YAAQLp6yUtdK8HKAAQAA68TafwdFo7LmgB7orUvoGSip0xZ5Ys6Nj07zg7FYNNdsxJHS9iUf9Tt/mMSWWsHJZZ6fh9ssDO7mPoZV5wTCDXvvNnLKxDz296qETceJDJ2I5HHrJSRO0cxbP7jrIBssFT4sHe0TXxjW0gB9Fa5xcbEYquDefjuZ2UvkUvEL3k8EbK9fmtK1fW3juxeLOMRjmBHN+6QVyww7R2r45QRbq97GUGuHVQAL0R1UMLPKL/epoRHacDLJ/GC1HaBDZjjmVxDIj21xIqQefy37JKVtwoqO19Az/yn+D8VvTIxx0JEBGRp9zoUfmbVj5vDoaqgYwZXUgOf60yxkku7lb6vu1g5hBS73v/sWqEI=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=F0517E94B09DFB549C06127EB86C4A70~YAAQLp6yUthK8HKAAQAA68Tafw/jH6Yhdsum5Q1Ajnj/7bzto7qqeNQsqDtta9REXd7+ynoJj//QVj9SY8Rkt0ORpV8lPIL1M2sxd3mSLZORB0Hbc5EnVkqU30ruqvXRExQZ0yBBRargFsLj1C60eUJ75tjkPHtrtjrLz5DQY9MMe4AbsnIDIMOueYjaUqHJxge0CuV7Glc0+RHveFwg8RAnCU9PvawRCq/YllJrqW2XWCc4IaSO+TZ3wGa5efZxnCJ4wuVJenLNU2+DL7UBMkNWx733iosGUjH7Dd69dytX~3424822~3425860
2 &gt; Content-Length: 124
2 &gt; Host: sandbox.apihub.citi.com
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.1)
2 &gt; Accept-Encoding: gzip,deflate
{&quot;lastFourDigitsCardNumber&quot;: &quot;8653&quot;,&quot;citiCardHolderPhoneNumber&quot;: &quot;6590020056&quot;,&quot;merchantCustomerReferenceId&quot;:&quot;6300804530034&quot;}

19:12:20.927 response time in milliseconds: 836
2 &lt; 200
2 &lt; X-Backside-Transport: OK OK,OK OK,OK OK
2 &lt; Content-Type: application/json
2 &lt; Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Allow-Methods: GET,POST,PUT,DELETE
2 &lt; Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since
2 &lt; Access-Control-Max-Age: 2147483647
2 &lt; Cache-Control: no-cache, no-store
2 &lt; Citiuuid: 481dc555-0c76-45da-b5c8-274063100ab2
2 &lt; Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa
2 &lt; Expires: -1
2 &lt; Pragma: no-cache
2 &lt; Uuid: 2f105542-cc92-4e95-836c-7a936d2168b2
2 &lt; X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1
2 &lt; X-Vcap-Request-Id: 790888cd-346e-454c-69f6-2b896de0dd47
2 &lt; X-Global-Transaction-ID: 126374ce626e8e0570714fef
2 &lt; Access-Control-Allow-Origin: 
2 &lt; Access-Control-Allow-Credentials: true
2 &lt; mfaCode: eKEcZQnnHafGwKyUZskfaCFUisrSXM4IIFrdpi7%2BX6AfRgHEIoP5nYefXqARvD7oxv%2FBSDMYWegBA3EkcihQ9aj8m9R2ybrinMb1LYk7nXLV4rkHguPSiRQwv2KfdJvAWbYyhGNv4qXgDoQGq6flHou%2BtvtimpvCtiJrlT7dor2n8%2BwCUFKWtaK0k5vbz4ae3EeFx%2B2DrMaFMcVKYO7r%2B4nTVu2K5Hjk0Bv5Pp05uh9e7qnooJTqdEzlHwgrVN9czPeIUidgo8tgLyswshPEAIdq7lwa9Ch8pBww7RJmaTKTVnUQJprovprkJClxySuEx90ezGvwGeH3XW4uMGpvq%2BnZUzVYRHVpA0XrcXJ902t4h9ucEZZpzXBQ91AGUFQLX5kl9lHdtkDJeQ89WbKEINwx%2BQQgCVuAsRuZjg%2BvqBAeA7aQgUIufgTMnTl5UUxxch2Ei6lqdyi9KFBoGGLwSA%3D%3D
2 &lt; X-Akamai-CITISITE: GTDC
2 &lt; Content-Length: 40
2 &lt; Date: Sun, 01 May 2022 13:41:26 GMT
2 &lt; Connection: keep-alive
2 &lt; Set-Cookie: CITI_SITE=gtdc; Max-Age=1651413686000; Expires=Sun, 19 Jul 54353 21:35:40 GMT; Domain=sandbox.apihub.citi.com; Secure
{&quot;rewardLinkCode&quot;:&quot;4703012696960006061&quot;}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.41">
      <div class="step-ref passed">41</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.42">
      <div class="step-ref passed">42</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>print response</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.42">19:12:20.928 [print] {
  &quot;rewardLinkCode&quot;: &quot;4703012696960006061&quot;
}
 
</div>   

  

</div>
</div>
        </div>
      </div>
    </div>
  </body>
</html>

