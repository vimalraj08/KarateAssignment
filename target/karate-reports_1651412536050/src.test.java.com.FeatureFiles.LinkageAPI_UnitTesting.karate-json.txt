{"failedCount":1,"prefixedPath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","packageQualifiedName":"src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting","loopIndex":-1,"relativePath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":49110500,"millis":49.1105,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":517100,"millis":0.5171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":632000,"millis":0.632,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":301400,"millis":0.3014,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":266200,"millis":0.2662,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":1583479700,"millis":1583.4797,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"18:57:10.728 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n18:57:12.030 response time in milliseconds: 1298\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: ddade3ba626e8a79d26588bf\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 1\n1 < X-Forwarded-For: 85.154.175.224\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < Cache-Control: no-cache, max-age=0\n1 < X-DataStream-Session-Id: a11f57161-626e8a78-13d81e7c\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Client-IP: 82.178.158.46,169.175.61.93,169.177.209.50\n1 < dmz-global-txn-id: ddade3ba626e8a79d26588bf\n1 < X-Archived-Client-IP: 82.178.158.46,82.178.158.46,169.175.61.93\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Vary: Accept-Encoding\n1 < Date: Sun, 01 May 2022 13:26:17 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651412777000; Expires=Thu, 09 Jul 54353 08:50:32 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=0E332D16A5437705907EA282E03A7E29~-1~YAAQLp6yUrtE8HKAAQAAwOnMfwdfmzQoFbRd010i8ouw895TVlq17RAwFtmpcERIqre7ej+4x7QAuOaEL5Gy8FIEBWQLg0vHYD+pERJI3g7mK5b0AUg1FoupVYbmj9o06+XKFVFXUswIVyvdT\/w4bLO4Go0+wp6zzkCZdo\/PrN+7\/vR9auLW3WNH7L7jCCy3aZkNmU\/GP8y\/KGb0CYowFaqv4nGmFWXNv516KNfukEidQTPYoFRTlA7UTGbcyQDPnA9QR5\/OoI0FAndbDWmdzykvfmFoKoD6p9gUTySfHI3GEWxbmUoUYtCxpHOVTBTcA4pQ0+ZDapwmbasPbqpTrivJ84qpVQtKLonsOEE5DXfRkFnSxSzQDXY=~-1~-1~-1; Max-Age=1682947577000; Expires=Wed, 25 Oct 55352 11:30:32 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=2479B730897C5CAEAECA439D54AC4CFF~YAAQLp6yUrxE8HKAAQAAwOnMfw\/BsOjsKP5oGTmVeykbjWcv8USRIjfGfE5BTVMoZ2bPCQdLZ0vaP7ScDdZkiHi0ZQjCuk2BxhzxYJ4W0t4qVmQ749BQxkCg1vtb+seeknU9o8O5OtFt8cbNWBq3DP1KmgXhbbJCZ+XIns3Z6B\/vb6FWfRRm7pFEuH4N0s11\/\/B59o2trrfoMg9wQpwI9egsScKtt8oMxnkzJmE6wBCGnqp6pfmswGQrDcDhP8Rj4IYn6DaIC8hDAtrSwyFHQPzHuP4l3D35oVNzQQeZqTec~3683381~3355206; Max-Age=1651425976000; Expires=Wed, 09 Dec 54353 03:13:52 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhJroT6Hjb-0PrUWG3JjSqT5HyhNM_r2e4AF9XqsegVvXgI1zONWo61qS256OkoE4byTBauqMIMKpJJeDz5QRy2PbnJAuKo6qkgAAxSsGgjahv7N7TyNRFqbWdlH0gIWp9W3VfrpojwonK23Gz89Sb1n29qKQayVvlhkjMilpyf8fo2xiSFlO7IW-9GRvcOx9v_TXlBtlJRJ-2Q0xi1nStAwbyjhF6FmL2fe2DBTPzejA\", \"expires_in\":1800, \"consented_on\":1651411577, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":38140100,"millis":38.1401,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"18:57:12.083 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhJroT6Hjb-0PrUWG3JjSqT5HyhNM_r2e4AF9XqsegVvXgI1zONWo61qS256OkoE4byTBauqMIMKpJJeDz5QRy2PbnJAuKo6qkgAAxSsGgjahv7N7TyNRFqbWdlH0gIWp9W3VfrpojwonK23Gz89Sb1n29qKQayVvlhkjMilpyf8fo2xiSFlO7IW-9GRvcOx9v_TXlBtlJRJ-2Q0xi1nStAwbyjhF6FmL2fe2DBTPzejA\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651411577,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":19646400,"millis":19.6464,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":1529800,"millis":1.5298,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":868100,"millis":0.8681,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":595000,"millis":0.595,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"18:57:12.107 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhJroT6Hjb-0PrUWG3JjSqT5HyhNM_r2e4AF9XqsegVvXgI1zONWo61qS256OkoE4byTBauqMIMKpJJeDz5QRy2PbnJAuKo6qkgAAxSsGgjahv7N7TyNRFqbWdlH0gIWp9W3VfrpojwonK23Gz89Sb1n29qKQayVvlhkjMilpyf8fo2xiSFlO7IW-9GRvcOx9v_TXlBtlJRJ-2Q0xi1nStAwbyjhF6FmL2fe2DBTPzejA \n"},{"result":{"nanos":4483000,"millis":4.483,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":229400,"millis":0.2294,"status":"passed"},"step":{"line":21,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":150800,"millis":0.1508,"status":"passed"},"step":{"line":22,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":127000,"millis":0.127,"status":"passed"},"step":{"line":23,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":198300,"millis":0.1983,"status":"passed"},"step":{"line":24,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":95000,"millis":0.095,"status":"passed"},"step":{"line":25,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":181400,"millis":0.1814,"status":"passed"},"step":{"line":26,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":6270000,"errorMessage":"js failed:\n>>>>\n01: karate.log('[print]',requestBody)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"requestBody\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27","millis":6.27,"status":"failed"},"step":{"line":27,"prefix":"And","index":6,"text":"print requestBody"},"stepLog":"18:57:12.119 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27\nAnd print requestBody\njs failed:\n>>>>\n01: karate.log('[print]',requestBody)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"requestBody\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"And","index":7,"text":"request requestBody"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":29,"prefix":"When","index":8,"text":"method POST"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":30,"prefix":"Then","index":9,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":31,"prefix":"And","index":10,"text":"print response"}}],"line":19,"description":"*def requestBody = \"\"\"{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\"\"\"","durationMillis":1706.8368,"failed":true,"error":"js failed:\n>>>>\n01: karate.log('[print]',requestBody)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"requestBody\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27","executorName":"main","name":"Title of your scenario","startTime":1651411630402,"refId":"[1:19]","endTime":1651411632120,"exampleIndex":-1}],"callDepth":0,"name":"API level unit testing for linkage service","description":"","resultDate":"2022-05-01 06:57:12 pm","durationMillis":1706.8368,"passedCount":0}