{"failedCount":1,"prefixedPath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","packageQualifiedName":"src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting","loopIndex":-1,"relativePath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":57041700,"millis":57.0417,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":479500,"millis":0.4795,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":505000,"millis":0.505,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":359600,"millis":0.3596,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":328500,"millis":0.3285,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":1074219100,"millis":1074.2191,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:20:06.127 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:20:06.926 response time in milliseconds: 795\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 98b6a370626e8fd7817449bd\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e8fd7-13fd30ad\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.64.120.195,169.175.115.119,169.177.209.50\n1 < dmz-global-txn-id: 98b6a370626e8fd7817449bd\n1 < X-Archived-Client-IP: 23.64.120.195,23.64.120.195,169.175.115.119\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:49:12 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414152000; Expires=Sat, 25 Jul 54353 07:10:06 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=2792AD879342FAE32AD90541BD2AF328~-1~YAAQLp6yUrdO8HKAAQAAb+ThfwcR8Y2cvR06WrsbJl44B3twu5Humy3zuRJhyJBWON2GFzSYjb7lB9Keqq\/\/LUoIsny\/YF5ddwxKbsJ\/Bdp\/+ia+Nhf5Hpv0pIiUMTkxv1LEn+1y8CSZTDcF9msEU+vojgloCd734+uutWXPX0rHActQ\/ytFIPXkaSP1FSzg7r7GaCsQzMgTYDAJzavxU9ouw8k6YxIQIlmCfLVu+VJoEDG\/nregTt8ik\/oZZ5mcTmefUdzJvzs8g5UcQyzumSfoE14P4BhjOaLfRs1crCcqqB1dNl9RSUd6DC\/F4udpaQzzc+NeRU9p1Q7GOu\/oazJGsxAv6jJl3y122v5QMIXHwh5Tq62LYx0=~-1~-1~-1; Max-Age=1682948952000; Expires=Fri, 10 Nov 55352 09:50:06 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=8019AE11D264C1041715CD0CB3187E51~YAAQLp6yUrhO8HKAAQAAb+Thfw8HwmlDl6rnW4y68396KAUg0UIhopO9yrNCmyIcXiEKHxFLd8z2Zcbf\/BSnMMDwYGolpGsiNIHVvc91W+qx3pMzxUzu9jKsjuU0tM7czwNSIXnbtUHE0JulrAUhDNEz831YTFcQ9C2GASI34Bam1+BfMiUzYqe9w+sJt\/Ak4EvcGkwxlbRXIm9+Gg1q9pXKrglZd61SvOA+bqFA6u9uY4tBY\/kNBMwZYHe6t28WdXnNAbSVICA5JXEK\/qqgVogrLSuZWJX7NaRXiRFNgyG7~3227969~3551283; Max-Age=1651427351000; Expires=Fri, 25 Dec 54353 01:33:26 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhLw3Lk2mm8QB7iC62cWDxwD-Xd84WN4gBXdBJ61WzWkYpaUn3GReZ5seoV5SL6UQb8nBlYMMfiTDHJgz3Gijt-9a06dMD5A49Bu_NiXlSCmcSzsOY7JAnBEPO_MOFYLjhAehPhVoli_5BAjw20CL2KV2eH60_WrZd27RH6HBecLAUF0axZLgA_I3W1vdVWhwXfKxUX2ErDBlwlHcR5xfrPrAPcgvxEMRA-wpFpW9__qw\", \"expires_in\":1800, \"consented_on\":1651412952, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":36861100,"millis":36.8611,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:20:06.983 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhLw3Lk2mm8QB7iC62cWDxwD-Xd84WN4gBXdBJ61WzWkYpaUn3GReZ5seoV5SL6UQb8nBlYMMfiTDHJgz3Gijt-9a06dMD5A49Bu_NiXlSCmcSzsOY7JAnBEPO_MOFYLjhAehPhVoli_5BAjw20CL2KV2eH60_WrZd27RH6HBecLAUF0axZLgA_I3W1vdVWhwXfKxUX2ErDBlwlHcR5xfrPrAPcgvxEMRA-wpFpW9__qw\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651412952,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":22331000,"millis":22.331,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":2157300,"millis":2.1573,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":1479700,"millis":1.4797,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":911100,"millis":0.9111,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:20:07.011 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhLw3Lk2mm8QB7iC62cWDxwD-Xd84WN4gBXdBJ61WzWkYpaUn3GReZ5seoV5SL6UQb8nBlYMMfiTDHJgz3Gijt-9a06dMD5A49Bu_NiXlSCmcSzsOY7JAnBEPO_MOFYLjhAehPhVoli_5BAjw20CL2KV2eH60_WrZd27RH6HBecLAUF0axZLgA_I3W1vdVWhwXfKxUX2ErDBlwlHcR5xfrPrAPcgvxEMRA-wpFpW9__qw \n"},{"result":{"nanos":5886100,"millis":5.8861,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":360200,"millis":0.3602,"status":"passed"},"step":{"line":19,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":226200,"millis":0.2262,"status":"passed"},"step":{"line":20,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":231800,"millis":0.2318,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":236500,"millis":0.2365,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":105600,"millis":0.1056,"status":"passed"},"step":{"line":23,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":228700,"millis":0.2287,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":317500,"millis":0.3175,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":2766779700,"millis":2766.7797,"status":"passed"},"step":{"line":26,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:20:07.022 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhLw3Lk2mm8QB7iC62cWDxwD-Xd84WN4gBXdBJ61WzWkYpaUn3GReZ5seoV5SL6UQb8nBlYMMfiTDHJgz3Gijt-9a06dMD5A49Bu_NiXlSCmcSzsOY7JAnBEPO_MOFYLjhAehPhVoli_5BAjw20CL2KV2eH60_WrZd27RH6HBecLAUF0axZLgA_I3W1vdVWhwXfKxUX2ErDBlwlHcR5xfrPrAPcgvxEMRA-wpFpW9__qw\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=2792AD879342FAE32AD90541BD2AF328~-1~YAAQLp6yUrdO8HKAAQAAb+ThfwcR8Y2cvR06WrsbJl44B3twu5Humy3zuRJhyJBWON2GFzSYjb7lB9Keqq\/\/LUoIsny\/YF5ddwxKbsJ\/Bdp\/+ia+Nhf5Hpv0pIiUMTkxv1LEn+1y8CSZTDcF9msEU+vojgloCd734+uutWXPX0rHActQ\/ytFIPXkaSP1FSzg7r7GaCsQzMgTYDAJzavxU9ouw8k6YxIQIlmCfLVu+VJoEDG\/nregTt8ik\/oZZ5mcTmefUdzJvzs8g5UcQyzumSfoE14P4BhjOaLfRs1crCcqqB1dNl9RSUd6DC\/F4udpaQzzc+NeRU9p1Q7GOu\/oazJGsxAv6jJl3y122v5QMIXHwh5Tq62LYx0=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=8019AE11D264C1041715CD0CB3187E51~YAAQLp6yUrhO8HKAAQAAb+Thfw8HwmlDl6rnW4y68396KAUg0UIhopO9yrNCmyIcXiEKHxFLd8z2Zcbf\/BSnMMDwYGolpGsiNIHVvc91W+qx3pMzxUzu9jKsjuU0tM7czwNSIXnbtUHE0JulrAUhDNEz831YTFcQ9C2GASI34Bam1+BfMiUzYqe9w+sJt\/Ak4EvcGkwxlbRXIm9+Gg1q9pXKrglZd61SvOA+bqFA6u9uY4tBY\/kNBMwZYHe6t28WdXnNAbSVICA5JXEK\/qqgVogrLSuZWJX7NaRXiRFNgyG7~3227969~3551283\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:20:09.785 response time in milliseconds: 2763\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 922a910e-2c00-4195-b961-6bd7214661a0\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 44946445-529a-4ca6-b813-e48449df1398\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Vcap-Request-Id: 940f2ff3-0dc7-4828-5662-04bac9647bfa\n2 < X-Global-Transaction-ID: 126374ce626e8fd809459cdd\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: GXeIjF308vZ8bGrnHHOOpHacbUdkwWHgsavt3fxN4PK6nFgi1Zk8vjBwO13e%2Ffnss5b6W0WzVeMCZnU3PHqOq%2FZRlH328QoVwOS%2BA0Gvke3V3P%2FQ26B7EG0wmB9PjdVLqQAO20vDe1XgILTevBiaJUMaZd4zP7oQ3RFAHAo2Ba7cilIb2E11AP4wCqRfr9ycYabfJ7qjRLC3N0ehwFoWAfvkjJ5DCHsYOXQIlO3aGMHnjl8uSs7MWC07fAIR7DT1%2FVTIc7mb%2F%2FaXGAJEvRw%2F%2FYqX7Kd6sXuRFYfrQbp2bWMDsyZz4Y9gd8cJCQRVhW%2BlHY6mndSKSwd%2BnhSgfJh0hgEZhjq45vrQdIGJGy%2BUACgO1YeKDbGpOzKnTb2tJD6mj9K2DtMbY5b7x0Ldy4DvagFoeM9i1il2rrRb3%2BB8S8fI9Gfr2aQHkbVfbjx1O%2BtBJ9GSnl2i0KN%2B9sDY5J%2Fhxg%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 13:49:15 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414155000; Expires=Sat, 25 Jul 54353 08:00:09 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":433200,"millis":0.4332,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"match response.rewardLinkCode != null"}}],"executorName":"main","line":18,"name":"Verify the LinkageAPI with all mandatory body parameters","description":"","durationMillis":3971.5046,"startTime":1651413005805,"failed":false,"refId":"[1:18]","endTime":1651413009787,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":109600,"millis":0.1096,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":228100,"millis":0.2281,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":214400,"millis":0.2144,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":178100,"millis":0.1781,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":163100,"millis":0.1631,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":505099300,"millis":505.0993,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:20:09.792 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:20:10.295 response time in milliseconds: 503\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 14744989626e8fdb392760cd\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e8fdb-13fd4a9d\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.47.59.18,169.175.61.90,153.40.245.130\n1 < dmz-global-txn-id: 14744989626e8fdb392760cd\n1 < X-Archived-Client-IP: 23.47.59.18,23.47.59.18,169.175.61.90\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:49:15 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414155000; Expires=Sat, 25 Jul 54353 08:00:10 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=D576FD2A82DECAA776603AE5B837D645~-1~YAAQLp6yUrtO8HKAAQAAq\/Hhfwdc59jnQYOerzvvLaaQpgONcl8IC98gbq8Jjf9hIT1hyxo\/JWlMeegQkAPFhtd4Dx4j8wAARjMjL24BkeSafoiTs2WeWNEG7rZ+xkpa4CVqVMSd7XZ\/evHf6t16Jq5\/GaFK7fxVJD7znoPdFSN9DV7QDUARUitJiItzMyeLpNx32+EE2mahV6iUgqT363DNdNcvVvXRsBP5SvZI8E0aTNPlh2W\/80t3cLTeD3c3vEiZJJgKepDVG\/5S3+dbt5FderX5y1fOSkMPJJ6XPbg3VJRyUyhC1qPm07v0Y6FIlcFhfDChSAqwiVHa6rLT9TlfIDEISVqfUQC3eFxGtfzFS09arQmm\/7I=~-1~-1~-1; Max-Age=1682948955000; Expires=Fri, 10 Nov 55352 10:40:10 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=1EC1C113B84C8F36E774B7A6DF6580BD~YAAQLp6yUrxO8HKAAQAAq\/Hhfw9RMn\/rgK8fjCDblfSPX2vr\/3BEO\/LiT6AlnJh+o9SfT13zAMqyhkN\/0AXv2J+nt5EqAmQoqZgI5GN+ZFVERd15IGNewdRE4golUWV5GErHUzJ2Edkba1j+6Q\/9+LtisAu5cJjdzO27nu6igGKqRjBRNR+cHWA8qKNfToHZ9\/iostmGrnSkPjsMV+Q3VeMGGivobZeHdemYmUUZQWc9mrIMJL88byckjaQ5Ycf6KGrSoYCXWvdDeGpFZS+rJE6XPX9P595382RK97naGYvY~3753540~3225923; Max-Age=1651427355000; Expires=Fri, 25 Dec 54353 02:40:10 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhCPmBotMmrcrgLZyCgAHAoYs32YUCqo1xTJBpmTom0SiuyFF6bL3Uv7kooTjYR_trHnYsA9_JOgKmUJQT5rm4MLDSw0mWZt-ShaXTx7yAqY7KCW_Ou8knjut6mbguZ9ZE4LdF4-t6MAu7aL1Gb5oSVXErL2yw2ThhmwpK_SrRavcYdZvPUjlyZyRvrMk312BHivv1dkzCKC-o_roZUfJ5VJRfQa0ett7his2JhTKPgBs\", \"expires_in\":1800, \"consented_on\":1651412955, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":392300,"millis":0.3923,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:20:10.296 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhCPmBotMmrcrgLZyCgAHAoYs32YUCqo1xTJBpmTom0SiuyFF6bL3Uv7kooTjYR_trHnYsA9_JOgKmUJQT5rm4MLDSw0mWZt-ShaXTx7yAqY7KCW_Ou8knjut6mbguZ9ZE4LdF4-t6MAu7aL1Gb5oSVXErL2yw2ThhmwpK_SrRavcYdZvPUjlyZyRvrMk312BHivv1dkzCKC-o_roZUfJ5VJRfQa0ett7his2JhTKPgBs\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651412955,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":374600,"millis":0.3746,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":195400,"millis":0.1954,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":153800,"millis":0.1538,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":165700,"millis":0.1657,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:20:10.297 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhCPmBotMmrcrgLZyCgAHAoYs32YUCqo1xTJBpmTom0SiuyFF6bL3Uv7kooTjYR_trHnYsA9_JOgKmUJQT5rm4MLDSw0mWZt-ShaXTx7yAqY7KCW_Ou8knjut6mbguZ9ZE4LdF4-t6MAu7aL1Gb5oSVXErL2yw2ThhmwpK_SrRavcYdZvPUjlyZyRvrMk312BHivv1dkzCKC-o_roZUfJ5VJRfQa0ett7his2JhTKPgBs \n"},{"result":{"nanos":128300,"millis":0.1283,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":64800,"millis":0.0648,"status":"passed"},"step":{"line":31,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":58900,"millis":0.0589,"status":"passed"},"step":{"line":32,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":64000,"millis":0.064,"status":"passed"},"step":{"line":33,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":82600,"millis":0.0826,"status":"passed"},"step":{"line":34,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":100600,"millis":0.1006,"status":"passed"},"step":{"line":35,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":88900,"millis":0.0889,"status":"passed"},"step":{"line":36,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":365000,"millis":0.365,"status":"passed"},"step":{"line":37,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":6472760500,"millis":6472.7605,"status":"passed"},"step":{"line":38,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:20:10.300 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhCPmBotMmrcrgLZyCgAHAoYs32YUCqo1xTJBpmTom0SiuyFF6bL3Uv7kooTjYR_trHnYsA9_JOgKmUJQT5rm4MLDSw0mWZt-ShaXTx7yAqY7KCW_Ou8knjut6mbguZ9ZE4LdF4-t6MAu7aL1Gb5oSVXErL2yw2ThhmwpK_SrRavcYdZvPUjlyZyRvrMk312BHivv1dkzCKC-o_roZUfJ5VJRfQa0ett7his2JhTKPgBs\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=D576FD2A82DECAA776603AE5B837D645~-1~YAAQLp6yUrtO8HKAAQAAq\/Hhfwdc59jnQYOerzvvLaaQpgONcl8IC98gbq8Jjf9hIT1hyxo\/JWlMeegQkAPFhtd4Dx4j8wAARjMjL24BkeSafoiTs2WeWNEG7rZ+xkpa4CVqVMSd7XZ\/evHf6t16Jq5\/GaFK7fxVJD7znoPdFSN9DV7QDUARUitJiItzMyeLpNx32+EE2mahV6iUgqT363DNdNcvVvXRsBP5SvZI8E0aTNPlh2W\/80t3cLTeD3c3vEiZJJgKepDVG\/5S3+dbt5FderX5y1fOSkMPJJ6XPbg3VJRyUyhC1qPm07v0Y6FIlcFhfDChSAqwiVHa6rLT9TlfIDEISVqfUQC3eFxGtfzFS09arQmm\/7I=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=1EC1C113B84C8F36E774B7A6DF6580BD~YAAQLp6yUrxO8HKAAQAAq\/Hhfw9RMn\/rgK8fjCDblfSPX2vr\/3BEO\/LiT6AlnJh+o9SfT13zAMqyhkN\/0AXv2J+nt5EqAmQoqZgI5GN+ZFVERd15IGNewdRE4golUWV5GErHUzJ2Edkba1j+6Q\/9+LtisAu5cJjdzO27nu6igGKqRjBRNR+cHWA8qKNfToHZ9\/iostmGrnSkPjsMV+Q3VeMGGivobZeHdemYmUUZQWc9mrIMJL88byckjaQ5Ycf6KGrSoYCXWvdDeGpFZS+rJE6XPX9P595382RK97naGYvY~3753540~3225923\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:20:16.772 response time in milliseconds: 6472\n2 < 400\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 9daafc51-dfda-468f-b491-6fe799db03b1\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: dbd65cdc-481f-4f5d-8bae-1df804a07b87\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Vcap-Request-Id: dc11fcc1-bf7d-4252-6adf-ceb946b145d5\n2 < X-Global-Transaction-ID: 126374ce626e8fdb0945ac2d\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: X8IcAKIbqb2mDFG2SU7RmLh69WbIfpcSa6utqtz1qYyGn5xKASSNgrOihZI%2FJyXOth6I7wETiHOzwtdah5%2BBUdKHio1UeB54SL5Q8nhVg5tCzUI50dJvGm1OsWr7%2BUo52F4pAs4aP0t36h7l%2FWtSHX%2FlqTmRx%2F%2B3cxgK5ChHmrVPdi%2BuAoAhl%2FbX9GFoLxAMAN7pE9GvGT6eVbeyGdtfxZ2njDqN4Rc56T%2FTSG77SU5gb0TH5glBBxcSVWvLwvCVmvKx%2FL1IF644K%2BgoKRDxintgan8DpEV1mL9Xp%2BCmCK%2FuFXM8fQQHqXYFX6tQO2WaOq8nHTR9JNXkje7zxXtN%2BcHDKIwDkW%2Fp1RdpeUsPJ9ypnUuqWn0lOx28pIhPUTrjvh5uF8Rn6XKXB1UrXVjLbDgvLCmBRR%2FHaXY4NgAR6J7WuUT1%2FvMw8TgY5uW00CX%2F60KGS4zexuAFG%2FYPu2uVEg%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 84\n2 < Date: Sun, 01 May 2022 13:49:22 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414162000; Expires=Sat, 25 Jul 54353 09:56:56 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"type\":\"invalid\",\"code\":\"invalidRequest\",\"details\":\"Missing or invalid parameters\"}\n\n"},{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"line":39,"prefix":"Then","index":8,"text":"status 400"}},{"result":{"nanos":333300,"millis":0.3333,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:20:16.773 [print] {\n  \"type\": \"invalid\",\n  \"code\": \"invalidRequest\",\n  \"details\": \"Missing or invalid parameters\"\n}\n \n"},{"result":{"nanos":483500,"millis":0.4835,"status":"passed"},"step":{"line":41,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":367200,"millis":0.3672,"status":"passed"},"step":{"line":42,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":358700,"millis":0.3587,"status":"passed"},"step":{"line":43,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"executorName":"main","line":30,"name":"Verify the LinkageAPI with invalid lastFourDigitsCardNumber in body parameters","description":"","durationMillis":6982.5601,"startTime":1651413009790,"failed":false,"refId":"[2:30]","endTime":1651413016775,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":72900,"millis":0.0729,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":37900,"millis":0.0379,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":67600,"millis":0.0676,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":51500,"millis":0.0515,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":539447400,"millis":539.4474,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:20:16.778 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:20:17.316 response time in milliseconds: 538\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 6e68aa42626e8fe2cb16f43f\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e8fe2-13fd7a36\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.47.59.12,169.175.115.121,169.177.209.51\n1 < dmz-global-txn-id: 6e68aa42626e8fe2cb16f43f\n1 < X-Archived-Client-IP: 23.47.59.12,23.47.59.12,169.175.115.121\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:49:22 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414162000; Expires=Sat, 25 Jul 54353 09:56:57 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=50E8DF0A3004BD677A818F873AB3A933~-1~YAAQLp6yUvVO8HKAAQAAFQ3ifwc5WLdw7NnqK\/VW6\/1o\/WBT+xmROOf8vQAez0SWQlvYVdOP6zBMqzy6vRSLcbJ669MUB748gNW8eMdk5v9PzPtB7r0JdvwEzvGT\/Vcce21BQ9IQXzZg1+GPEpyPkmgb7ViSNeDUUjT3pOXKloUQiS1\/8A51hwlvCVtbVnCYuN8DlvDVU97\/zlLXeuJMb7oEm8vNraR4WskjfoMg0hSSyBEF0droiGHv6Whk\/mTiJxYXMHp1oc436Xd0wfBlHS4qOg5WHb2xX7+nyn+zCi0ZvWxnn5M3CbU12eSLxsSl7MFu2Rk59gK9dp\/P62IDUl7m92wPtCv84i3TFAp6uKmDzFbsoQL2qt8=~-1~-1~-1; Max-Age=1682948962000; Expires=Fri, 10 Nov 55352 12:36:57 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=CCD84B4D273AC73596CAC68864A4E80C~YAAQLp6yUvZO8HKAAQAAFQ3ifw84khWaRlBo0uKPht4xqVXRIXRExYhDScYPLyNBYCVop3L2TT1LvAsi3Vl2ZC8F+j85UqIPfemmzK1B5ijdOtailVKL+P4TKrA8\/RU2roKCRwBtDJbaktcbhqn1XF\/Cu\/rcNGarrjcR0NaDtJ05dDfEV3xDmKoEtB1HfEHqGFVRMMcgcr4rh89Uy59VPvPOpkGlLpyNv2awUgdyCgoWoLt3QQgA7fHfPte1ZXgkmGFC4PvFa601SFC2lbn\/UcFqcGYpgynERUnW19DsnB2X~3752242~3749424; Max-Age=1651427362000; Expires=Fri, 25 Dec 54353 04:36:57 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhMv6j_diO31k_g68c7-yYBdHaX2HuyjsJs-2eeCePhIk9lBDWYvWrag1XETdjgpkfyldcFKY1ekB04wAp0z7hUlyO5liz2pS-JA4DXKCY_0O8v1OQGULLaFpRZ2Bg6hQ2WEY_N2MyWWLSqFfUWoaX93hTgFzdlmLSsK2A_fAffPkwbijyCZIYEU3EW0dUp-dUVAGoRX08ZfuA2SxKpcrQYYrrYRBu4Pt6y-1QRN-fZQM\", \"expires_in\":1800, \"consented_on\":1651412962, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":589400,"millis":0.5894,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:20:17.318 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhMv6j_diO31k_g68c7-yYBdHaX2HuyjsJs-2eeCePhIk9lBDWYvWrag1XETdjgpkfyldcFKY1ekB04wAp0z7hUlyO5liz2pS-JA4DXKCY_0O8v1OQGULLaFpRZ2Bg6hQ2WEY_N2MyWWLSqFfUWoaX93hTgFzdlmLSsK2A_fAffPkwbijyCZIYEU3EW0dUp-dUVAGoRX08ZfuA2SxKpcrQYYrrYRBu4Pt6y-1QRN-fZQM\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651412962,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":463500,"millis":0.4635,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":277500,"millis":0.2775,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":217600,"millis":0.2176,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":379600,"millis":0.3796,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:20:17.319 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhMv6j_diO31k_g68c7-yYBdHaX2HuyjsJs-2eeCePhIk9lBDWYvWrag1XETdjgpkfyldcFKY1ekB04wAp0z7hUlyO5liz2pS-JA4DXKCY_0O8v1OQGULLaFpRZ2Bg6hQ2WEY_N2MyWWLSqFfUWoaX93hTgFzdlmLSsK2A_fAffPkwbijyCZIYEU3EW0dUp-dUVAGoRX08ZfuA2SxKpcrQYYrrYRBu4Pt6y-1QRN-fZQM \n"},{"result":{"nanos":217100,"millis":0.2171,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":100800,"millis":0.1008,"status":"passed"},"step":{"line":46,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":70500,"millis":0.0705,"status":"passed"},"step":{"line":47,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":75800,"millis":0.0758,"status":"passed"},"step":{"line":48,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":471500,"millis":0.4715,"status":"passed"},"step":{"line":49,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":113100,"millis":0.1131,"status":"passed"},"step":{"line":50,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":128800,"millis":0.1288,"status":"passed"},"step":{"line":51,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":379600,"millis":0.3796,"status":"passed"},"step":{"line":52,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":4037691000,"millis":4037.691,"status":"passed"},"step":{"line":53,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:20:17.323 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhMv6j_diO31k_g68c7-yYBdHaX2HuyjsJs-2eeCePhIk9lBDWYvWrag1XETdjgpkfyldcFKY1ekB04wAp0z7hUlyO5liz2pS-JA4DXKCY_0O8v1OQGULLaFpRZ2Bg6hQ2WEY_N2MyWWLSqFfUWoaX93hTgFzdlmLSsK2A_fAffPkwbijyCZIYEU3EW0dUp-dUVAGoRX08ZfuA2SxKpcrQYYrrYRBu4Pt6y-1QRN-fZQM\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=50E8DF0A3004BD677A818F873AB3A933~-1~YAAQLp6yUvVO8HKAAQAAFQ3ifwc5WLdw7NnqK\/VW6\/1o\/WBT+xmROOf8vQAez0SWQlvYVdOP6zBMqzy6vRSLcbJ669MUB748gNW8eMdk5v9PzPtB7r0JdvwEzvGT\/Vcce21BQ9IQXzZg1+GPEpyPkmgb7ViSNeDUUjT3pOXKloUQiS1\/8A51hwlvCVtbVnCYuN8DlvDVU97\/zlLXeuJMb7oEm8vNraR4WskjfoMg0hSSyBEF0droiGHv6Whk\/mTiJxYXMHp1oc436Xd0wfBlHS4qOg5WHb2xX7+nyn+zCi0ZvWxnn5M3CbU12eSLxsSl7MFu2Rk59gK9dp\/P62IDUl7m92wPtCv84i3TFAp6uKmDzFbsoQL2qt8=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=CCD84B4D273AC73596CAC68864A4E80C~YAAQLp6yUvZO8HKAAQAAFQ3ifw84khWaRlBo0uKPht4xqVXRIXRExYhDScYPLyNBYCVop3L2TT1LvAsi3Vl2ZC8F+j85UqIPfemmzK1B5ijdOtailVKL+P4TKrA8\/RU2roKCRwBtDJbaktcbhqn1XF\/Cu\/rcNGarrjcR0NaDtJ05dDfEV3xDmKoEtB1HfEHqGFVRMMcgcr4rh89Uy59VPvPOpkGlLpyNv2awUgdyCgoWoLt3QQgA7fHfPte1ZXgkmGFC4PvFa601SFC2lbn\/UcFqcGYpgynERUnW19DsnB2X~3752242~3749424\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:20:21.358 response time in milliseconds: 4035\n2 < 400\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: ef8e0fe1-45ba-4921-ae25-8dfdd3d72cd0\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 6b16ff29-087b-4257-ba51-2a0467f45e70\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n2 < X-Vcap-Request-Id: 0a22104f-e14d-4988-607d-43f4ad5a841f\n2 < X-Global-Transaction-ID: 126374ce626e8fe20945d56d\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: 9UIzB3r8DG3ZiXunEQ9YywlsMMxl%2B4Jd5fOnRHxeWHV57DRNT7hglHNWPJ40q5kL0TpGsxkZaRofAsH3UseleQBdnTd0DA%2B%2Bhj4mSrvXWAuNtFO045flwQRLodqvgSf1iTk%2Bs6OzLY3ZyYuOcne8UF2s15dxTx44LETPiN7SdQbJBWK5drKW0ZGjw6xhMiGAY7VMMIgPCbIKtk23KUru7khTe4KQqUv3hD4ign3yUJ43rnJ81bOcwGMiNH%2BJ0uE4naLpM0zSZy4eCF1i0Pi5bl2ArvRav9alPIpuCxbOHibXlcCWe5xpR5OJSF7heQdBVzeAstLN35OGY1JQ2yYW3DeGnxkivqwif8l8wjkAbD%2FzDqd8PSCw3Ynhy50uepoPyAyyo4zuN2TOqtZeinVBdsKPonDPIDbaiXxerCyViqDMXUErYsQwM0FLjzzWPuEIOwNT6%2BlnGn07xhtV4g0NSA%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 84\n2 < Date: Sun, 01 May 2022 13:49:26 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414166000; Expires=Sat, 25 Jul 54353 11:03:41 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"type\":\"invalid\",\"code\":\"invalidRequest\",\"details\":\"Missing or invalid parameters\"}\n\n"},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":54,"prefix":"Then","index":8,"text":"status 400"}},{"result":{"nanos":479800,"millis":0.4798,"status":"passed"},"step":{"line":55,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:20:21.360 [print] {\n  \"type\": \"invalid\",\n  \"code\": \"invalidRequest\",\n  \"details\": \"Missing or invalid parameters\"\n}\n \n"},{"result":{"nanos":452400,"millis":0.4524,"status":"passed"},"step":{"line":56,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":308900,"millis":0.3089,"status":"passed"},"step":{"line":57,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":288200,"millis":0.2882,"status":"passed"},"step":{"line":58,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"executorName":"main","line":45,"name":"Verify the LinkageAPI with invalid citiCardHolderPhoneNumber in body parameters","description":"","durationMillis":4582.4699,"startTime":1651413016777,"failed":false,"refId":"[3:45]","endTime":1651413021361,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":95900,"millis":0.0959,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":60100,"millis":0.0601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":63900,"millis":0.0639,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":56200,"millis":0.0562,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":932918800,"millis":932.9188,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:20:21.365 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:20:22.297 response time in milliseconds: 931\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 2b769208626e8fe781155845\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e8fe6-13fd9bf0\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.205.100.34,169.175.61.96,153.40.245.131\n1 < dmz-global-txn-id: 2b769208626e8fe781155845\n1 < X-Archived-Client-IP: 23.205.100.34,23.205.100.34,169.175.61.96\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:49:27 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414167000; Expires=Sat, 25 Jul 54353 11:20:22 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=35A3C141F799E7C5A8622BCD2D2E627B~-1~YAAQLp6yUv5O8HKAAQAAjiDifwcK2LIqpxnY+SJl\/tYqAai4uUKlRjjBuWIH6+6xCLi6kNoQwfJgpOtaggVjQeZxXUovZmAwapfUnvLK4gXBqfbUL\/wRkWh3xy5vKp3pdj\/CnNXWar9YSng3dooJjwgydW5ZDstplsD2VU9QhzH9I+sDZ7zJ1nUa3GigyNHwht78xsNSVGl+3BASng1jvcZkc3YAVX4hUswcnYsH0hVLo7MMVVM1WN97u3Gunw3wStUeGu01COvO7LblK1827pgSV4gz4ZAeiRUtt\/2ddyvQtWFET+lVDup9CyB41lnhGk74RGCX3NTUhABPyQVruW5\/btoXAwOonzI7mmwwbishhetamWlZCn8=~-1~-1~-1; Max-Age=1682948967000; Expires=Fri, 10 Nov 55352 14:00:22 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=AB45ED3DC154BAC49E4DED4BBDCA49C9~YAAQLp6yUv9O8HKAAQAAjiDifw\/yjro2+Zhfs9M7vSKOXXsso34QfQjaN8wWy4etarsTIxPvT2ddKShvsjvChZvq+qzlBW5bTyTeiHiag+8fxcAhkIg0V3iLjOGkZyIapGShH4CqTvNExb26jp\/I1iMk8StnlCPS+0WDYCuYwBxpgKwCyGxlWbnTbtW8GTtrfrILzMraFD7xTz9R3+rVC4QO3sGg2giBFpQtprgBxgeIDbBgyL2gqfyrPAiG4KR5ODFC0l3N9b5pK9zfsbOVk2shhwX\/tror23fk\/UoK3hSo~3225911~3618096; Max-Age=1651427366000; Expires=Fri, 25 Dec 54353 05:43:42 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhkNZxkomT6fb5ar0d6xCcn180pMdxXSWBH43itb9AHd-RMqEfeYdglhxQEhwbZHUih5T783Q_C0cQ8A-il4LVYCoKvCV1GwL8sdoGX5bgpEYHWgrVQzn9JukKobK4RfBzENze8cF-y9kVJVD56amGesXvU5gc9PavinWMh4ubD2IrAJTnWkyNkju4p2Y_03bs9VB5QE8KOYpbaPc1CFvC5JDlYOf_UwPgYa4oLI7v4H0\", \"expires_in\":1800, \"consented_on\":1651412967, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":464500,"millis":0.4645,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:20:22.298 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhkNZxkomT6fb5ar0d6xCcn180pMdxXSWBH43itb9AHd-RMqEfeYdglhxQEhwbZHUih5T783Q_C0cQ8A-il4LVYCoKvCV1GwL8sdoGX5bgpEYHWgrVQzn9JukKobK4RfBzENze8cF-y9kVJVD56amGesXvU5gc9PavinWMh4ubD2IrAJTnWkyNkju4p2Y_03bs9VB5QE8KOYpbaPc1CFvC5JDlYOf_UwPgYa4oLI7v4H0\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651412967,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":295600,"millis":0.2956,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":196100,"millis":0.1961,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":151200,"millis":0.1512,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":181700,"millis":0.1817,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:20:22.299 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhkNZxkomT6fb5ar0d6xCcn180pMdxXSWBH43itb9AHd-RMqEfeYdglhxQEhwbZHUih5T783Q_C0cQ8A-il4LVYCoKvCV1GwL8sdoGX5bgpEYHWgrVQzn9JukKobK4RfBzENze8cF-y9kVJVD56amGesXvU5gc9PavinWMh4ubD2IrAJTnWkyNkju4p2Y_03bs9VB5QE8KOYpbaPc1CFvC5JDlYOf_UwPgYa4oLI7v4H0 \n"},{"result":{"nanos":131100,"millis":0.1311,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":131300,"millis":0.1313,"status":"passed"},"step":{"line":61,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":77700,"millis":0.0777,"status":"passed"},"step":{"line":62,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":94400,"millis":0.0944,"status":"passed"},"step":{"line":63,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":95000,"millis":0.095,"status":"passed"},"step":{"line":64,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":86200,"millis":0.0862,"status":"passed"},"step":{"line":65,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":90000,"millis":0.09,"status":"passed"},"step":{"line":66,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":336800,"millis":0.3368,"status":"passed"},"step":{"line":67,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"63000000000000\"}'"}},{"result":{"nanos":1085670600,"millis":1085.6706,"status":"passed"},"step":{"line":68,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:20:22.302 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhkNZxkomT6fb5ar0d6xCcn180pMdxXSWBH43itb9AHd-RMqEfeYdglhxQEhwbZHUih5T783Q_C0cQ8A-il4LVYCoKvCV1GwL8sdoGX5bgpEYHWgrVQzn9JukKobK4RfBzENze8cF-y9kVJVD56amGesXvU5gc9PavinWMh4ubD2IrAJTnWkyNkju4p2Y_03bs9VB5QE8KOYpbaPc1CFvC5JDlYOf_UwPgYa4oLI7v4H0\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=35A3C141F799E7C5A8622BCD2D2E627B~-1~YAAQLp6yUv5O8HKAAQAAjiDifwcK2LIqpxnY+SJl\/tYqAai4uUKlRjjBuWIH6+6xCLi6kNoQwfJgpOtaggVjQeZxXUovZmAwapfUnvLK4gXBqfbUL\/wRkWh3xy5vKp3pdj\/CnNXWar9YSng3dooJjwgydW5ZDstplsD2VU9QhzH9I+sDZ7zJ1nUa3GigyNHwht78xsNSVGl+3BASng1jvcZkc3YAVX4hUswcnYsH0hVLo7MMVVM1WN97u3Gunw3wStUeGu01COvO7LblK1827pgSV4gz4ZAeiRUtt\/2ddyvQtWFET+lVDup9CyB41lnhGk74RGCX3NTUhABPyQVruW5\/btoXAwOonzI7mmwwbishhetamWlZCn8=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=AB45ED3DC154BAC49E4DED4BBDCA49C9~YAAQLp6yUv9O8HKAAQAAjiDifw\/yjro2+Zhfs9M7vSKOXXsso34QfQjaN8wWy4etarsTIxPvT2ddKShvsjvChZvq+qzlBW5bTyTeiHiag+8fxcAhkIg0V3iLjOGkZyIapGShH4CqTvNExb26jp\/I1iMk8StnlCPS+0WDYCuYwBxpgKwCyGxlWbnTbtW8GTtrfrILzMraFD7xTz9R3+rVC4QO3sGg2giBFpQtprgBxgeIDbBgyL2gqfyrPAiG4KR5ODFC0l3N9b5pK9zfsbOVk2shhwX\/tror23fk\/UoK3hSo~3225911~3618096\n2 > Content-Length: 125\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"63000000000000\"}\n\n19:20:23.385 response time in milliseconds: 1083\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 338813cb-26e4-4b85-a958-cc443ea45d38\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 9d40abe3-aefa-469e-a8d9-77628a94a208\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n2 < X-Vcap-Request-Id: 35eff3f4-d3e9-4f2d-68ed-2d8d40ec8c18\n2 < X-Global-Transaction-ID: 126374ce626e8fe70945edcd\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: 5h%2FFyV%2BoQLoAygbh3FrZqnhh1R4Ht7aEKy6vwEHKEWG68QioGFOtEHxcGlYlMe0TP7iPiNwXK5dOfSvgf11GAhTosuplixu5JFDGQn1VR2F%2B9LLg2A9BqbLVV%2FLHSHUD0vgYkpMJ08qGradnDrKfVft8JZfzj0EHCWt2V57s36hBcVJh%2FjXcxF4hmyhVn7uokD8SRkK%2Fne4effE1z3QW4%2FYjAyXnFxLgH5oe4DmlbdWIzdQdTwjotUk7rOpe1w6rmn5wozhx6SmT4Cdjv4t7aDFEKcuy078m1Bm2PP9K4g%2Fuf4riXM0FG9PD9VEq%2FiQSaUccsCx70TChtUPqUfKrVJHmbLsshySrNSeXmb8kCeDhs1XOzqwBWQ39hoNDXXrfVt%2B0tHtye8zUhMSJQCZsNBT9I43DT%2FGU%2FK45ocnx1oOBJO9TW3xP9rNmBBn%2Bw6g5vToHBgrYnKI3XDROu3V0BA%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 13:49:28 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414168000; Expires=Sat, 25 Jul 54353 11:37:03 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":162500,"errorMessage":"status code was: 200, expected: 400, response time in milliseconds: 1083, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","millis":0.1625,"status":"failed"},"step":{"line":69,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"19:20:23.387 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\nThen status 400\nstatus code was: 200, expected: 400, response time in milliseconds: 1083, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":70,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":71,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":72,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":73,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":60,"description":"","durationMillis":2021.4088,"failed":true,"error":"status code was: 200, expected: 400, response time in milliseconds: 1083, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","executorName":"main","name":"Verify the LinkageAPI with invalid merchantCustomerReferenceId in body parameters","startTime":1651413021363,"refId":"[4:60]","endTime":1651413023387,"exampleIndex":-1}],"callDepth":0,"name":"API level unit testing for linkage service","description":"","resultDate":"2022-05-01 07:20:23 pm","durationMillis":17557.9434,"passedCount":3}