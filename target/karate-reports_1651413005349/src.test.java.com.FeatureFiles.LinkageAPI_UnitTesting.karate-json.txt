{"failedCount":1,"prefixedPath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","packageQualifiedName":"src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting","loopIndex":-1,"relativePath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":44159300,"millis":44.1593,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":881500,"millis":0.8815,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":663900,"millis":0.6639,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":332800,"millis":0.3328,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":308600,"millis":0.3086,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":924815300,"millis":924.8153,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:16:52.075 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:16:52.739 response time in milliseconds: 657\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 6e68aa42626e8f15cb04ff0f\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e8f15-13f7ec0d\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.64.120.184,169.175.115.121,153.40.245.131\n1 < dmz-global-txn-id: 6e68aa42626e8f15cb04ff0f\n1 < X-Archived-Client-IP: 23.64.120.184,23.64.120.184,169.175.115.121\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:45:57 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651413957000; Expires=Thu, 23 Jul 54353 00:56:52 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=5B5BA153392C71C62863E301FF78AC83~-1~YAAQLp6yUm5M8HKAAQAA2e3efwdVzszIG9CazkFFCDQ\/MriI1S8F3GwMlqIzarbPFITEGYJYU\/vTD25IS\/Hg1ImJA49\/VXszEgwvxumt1FnJNPUnw84lYhY1+oLpGOt2xmYsp+Bt+TouDg\/IJdz90h1CV5fzOtH7ZsUilS3ae0fZzvjmF9qjX\/TlpX+GSR98QzPKb6SX83ZXl5SsGwlLs7oIOu\/Fxmqy65qaNewEhQe1ybyCljbsBgOY9pBGhdA4GV2frWPtVxXVHP1K8\/LFBAybXJ1j60vu7nKZ0n8FaeirZKMqT7UX18XXNsFtSpZ0TQci0cMIPxmlYMTVErO34ycWz2cVkvaNgEF\/8WdyDQKtqilkoamHAew=~-1~-1~-1; Max-Age=1682948757000; Expires=Wed, 08 Nov 55352 03:36:52 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=DD0A9CA059343FBC5FE7262AF3C0D187~YAAQLp6yUm9M8HKAAQAA2e3efw9Yjsd3aFHtAahADtRwIViI9e9+7b\/jZaZBSv6OWmcHGh+wih1sI074TO+Hri7mgbnDmdo6PPihTfn+aIQuS0GoAfHycji3Hu1GjgiVo\/WRDF+y8WYdc5\/0+zxzdh\/2kWtnffAYqE59CboIe\/KFtHIm1oapCpmEYRFX2DO\/QTxloIdw0\/D2no6JOGYr8xzpMVXMis8Aufb9QRWWb02bob7vGjQbyu7ekdbilVXNe+erey2jkDZ3L7XnEYbTZy6Pi6sSHN2kuzfRflqolW0i~3617862~3355703; Max-Age=1651427157000; Expires=Tue, 22 Dec 54353 19:36:52 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhw7S7tV8gTaelNIcEpY864aqn-OMo7o0TKY7NaCw-Cf-DI_CkAJs98ORSGdq4F697dvdf-gU8IHaUCZJufAiiMCT0eHXOM3KL7Pt_PQy7dPbjO0qSCM1UITZvqxkhTJteDcTP-374SyxbKaYvlzHh9WhDG2Ea_n0ThrMuLB6BRoPd6D4M0389fMps-crhukh9EV1cCn02Sa9U_zfUtzzATcqBtev3AAzfREyaWupPdDg\", \"expires_in\":1800, \"consented_on\":1651412757, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":44149700,"millis":44.1497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:16:52.801 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhw7S7tV8gTaelNIcEpY864aqn-OMo7o0TKY7NaCw-Cf-DI_CkAJs98ORSGdq4F697dvdf-gU8IHaUCZJufAiiMCT0eHXOM3KL7Pt_PQy7dPbjO0qSCM1UITZvqxkhTJteDcTP-374SyxbKaYvlzHh9WhDG2Ea_n0ThrMuLB6BRoPd6D4M0389fMps-crhukh9EV1cCn02Sa9U_zfUtzzATcqBtev3AAzfREyaWupPdDg\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651412757,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":17186000,"millis":17.186,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":2035400,"millis":2.0354,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":959200,"millis":0.9592,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":624600,"millis":0.6246,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:16:52.822 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhw7S7tV8gTaelNIcEpY864aqn-OMo7o0TKY7NaCw-Cf-DI_CkAJs98ORSGdq4F697dvdf-gU8IHaUCZJufAiiMCT0eHXOM3KL7Pt_PQy7dPbjO0qSCM1UITZvqxkhTJteDcTP-374SyxbKaYvlzHh9WhDG2Ea_n0ThrMuLB6BRoPd6D4M0389fMps-crhukh9EV1cCn02Sa9U_zfUtzzATcqBtev3AAzfREyaWupPdDg \n"},{"result":{"nanos":4605600,"millis":4.6056,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":213200,"millis":0.2132,"status":"passed"},"step":{"line":19,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":158600,"millis":0.1586,"status":"passed"},"step":{"line":20,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":154100,"millis":0.1541,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":221400,"millis":0.2214,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":90400,"millis":0.0904,"status":"passed"},"step":{"line":23,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":220000,"millis":0.22,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":191100,"millis":0.1911,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":1106843400,"millis":1106.8434,"status":"passed"},"step":{"line":26,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:16:52.830 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhw7S7tV8gTaelNIcEpY864aqn-OMo7o0TKY7NaCw-Cf-DI_CkAJs98ORSGdq4F697dvdf-gU8IHaUCZJufAiiMCT0eHXOM3KL7Pt_PQy7dPbjO0qSCM1UITZvqxkhTJteDcTP-374SyxbKaYvlzHh9WhDG2Ea_n0ThrMuLB6BRoPd6D4M0389fMps-crhukh9EV1cCn02Sa9U_zfUtzzATcqBtev3AAzfREyaWupPdDg\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=5B5BA153392C71C62863E301FF78AC83~-1~YAAQLp6yUm5M8HKAAQAA2e3efwdVzszIG9CazkFFCDQ\/MriI1S8F3GwMlqIzarbPFITEGYJYU\/vTD25IS\/Hg1ImJA49\/VXszEgwvxumt1FnJNPUnw84lYhY1+oLpGOt2xmYsp+Bt+TouDg\/IJdz90h1CV5fzOtH7ZsUilS3ae0fZzvjmF9qjX\/TlpX+GSR98QzPKb6SX83ZXl5SsGwlLs7oIOu\/Fxmqy65qaNewEhQe1ybyCljbsBgOY9pBGhdA4GV2frWPtVxXVHP1K8\/LFBAybXJ1j60vu7nKZ0n8FaeirZKMqT7UX18XXNsFtSpZ0TQci0cMIPxmlYMTVErO34ycWz2cVkvaNgEF\/8WdyDQKtqilkoamHAew=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=DD0A9CA059343FBC5FE7262AF3C0D187~YAAQLp6yUm9M8HKAAQAA2e3efw9Yjsd3aFHtAahADtRwIViI9e9+7b\/jZaZBSv6OWmcHGh+wih1sI074TO+Hri7mgbnDmdo6PPihTfn+aIQuS0GoAfHycji3Hu1GjgiVo\/WRDF+y8WYdc5\/0+zxzdh\/2kWtnffAYqE59CboIe\/KFtHIm1oapCpmEYRFX2DO\/QTxloIdw0\/D2no6JOGYr8xzpMVXMis8Aufb9QRWWb02bob7vGjQbyu7ekdbilVXNe+erey2jkDZ3L7XnEYbTZy6Pi6sSHN2kuzfRflqolW0i~3617862~3355703\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:16:53.935 response time in milliseconds: 1105\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 87f02dee-2b16-40d1-9078-7f3fce12f0ad\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: af714a40-02ce-48b7-ad6b-6ea1c90bb00e\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Vcap-Request-Id: 60f6505a-b376-49e1-44f0-dc0d3ca3b846\n2 < X-Global-Transaction-ID: 6e68aa42626e8f167ca6fbed\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: YUbO4XdXNEoEOn04qYrS5Dh%2BC6DVz2F4RUuZxa3h2VFxoDF5%2FuTBBjBauP2LhbVhVWrWh%2B0u33lLpTnIJAdLxtFyGMc3b4KPg0Y44RTPA2GiQRz3Gz9T6yZCjnd3feQEWhpt5N%2F9VmnBecSuxaESMU%2BjVjvEvxR5rHdcsfTDAhLQ8R%2FJ1LwHy2R%2BR%2FKQcQqn8CCVkulAf980zxwR8jrZcItc3LM1Eu5wER9tPiDVv8VSmljmcnRUT4DTs%2BLZlAWSROAHlrf1rwj27sMF7h5VdqcPFiQpd40VyVVPj7ZoCKmmq63np%2BP8oa8LsHId8jZmq2Q9IrtiOCiub22BsspwDnE7IFWHFyPdFEaFCa6gTrHN93CUaIrOztFclhFSZR8LWBqrJzuIBihxj4QTI20uPUXohxsYm5qS0ohR17m%2BDEAMoftkZ67oGBH8uVeIEUDiWgg6MGCIpf05tYXcsL0Lcw%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 13:45:59 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651413959000; Expires=Thu, 23 Jul 54353 01:30:13 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":27,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":849700,"millis":0.8497,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"match response.rewardLinkCode != null"}}],"executorName":"main","line":18,"name":"Verify the LinkageAPI with all mandatory body parameters","description":"","durationMillis":2149.6943,"startTime":1651412811776,"failed":false,"refId":"[1:18]","endTime":1651412813937,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":126000,"millis":0.126,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":271900,"millis":0.2719,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":236300,"millis":0.2363,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":180100,"millis":0.1801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":160500,"millis":0.1605,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":446002600,"millis":446.0026,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:16:53.942 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:16:54.386 response time in milliseconds: 444\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 6e68aa42626e8f17cb051e6f\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e8f17-13f7f7ff\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.221.23.115,169.175.115.121,153.40.245.129\n1 < dmz-global-txn-id: 6e68aa42626e8f17cb051e6f\n1 < X-Archived-Client-IP: 23.221.23.115,23.221.23.115,169.175.115.121\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:45:59 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651413959000; Expires=Thu, 23 Jul 54353 01:30:14 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=C4712F8B761AA03BB9E096B059FA39D8~-1~YAAQLp6yUnVM8HKAAQAAZ\/TefweMAqi6pTae7r\/SNycRBKr\/8NwjkzN6i8VeZSRP\/1cLQwYfzVyNrfBAXtvUEMcqaziEONcRAG5mHMgtqEgr0kxJn+tkxX3TSB0nX63npXcww6buWte\/vv1YxlY2KBncWobB73hFebWZGiWFBxC0N6CCf7J7xBaM8U6dWy07s7Dt0abOxggYDH7Qu9b9gExAV8hNpcm3OfJfzqpnGc7+KwFGqbRS6RsEl5DaoXZMm2PbfeaOcVPfZTcNPdRzDqHaNVwL1gXyysM8CZbGRPRu7H5i87TJjTlEh3Xfztj5SrQCTl71LgFBpN6YXwVGolQdZtlnGDPPQ1zdoDvO4PTkH2XwaSdkEbw=~-1~-1~-1; Max-Age=1682948759000; Expires=Wed, 08 Nov 55352 04:10:14 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=46D9231457CB98D310441B59E95AFEA4~YAAQLp6yUnZM8HKAAQAAZ\/Tefw\/UaHPSHnJCJC2c90kuuu5nik8EnegwMlhg4u554ylIRNKeW7g3SZqUj+\/T7Ihyg8rcnGL+tgRb8uRl2mnprgk1RszuyGh2VZteoCiS5TK8\/GJ0HLeO4GDV6haS9QEqBi\/G8bH4YHLLxBtsKi2Ti9oIdaNSzgwoTwV8CeI+QpRUxUmfhQXW54x4p0cnfaj8RcPTBQms23vPPEw3FXV\/MpxAMkDxJ+asZ85j1zxzyq6wfLMN0hkDNOfaOjFsg02Orbgg241J1iJO5uGeHXXa~4604230~3228980; Max-Age=1651427159000; Expires=Tue, 22 Dec 54353 20:10:14 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhn5s-inL4EstroXQL-5ZrtnkORtvIkIIJXhSB3AdCXjGxBBD04HXh-9oUxzXBxotx8Oto2wd_BaBTP1L7TamOtDF7JectC4JfMEgLMnCOoFK3W7N2r46ggQOxuvxlbVe7g-YVV2hUgHGI0gqu9ZOuUh7gCga59_92O0vl6XhLPKh4ArDvc5G72llXRyobWCt_XK4BQeE1_nMsoNNbqICDCHgFyf_t-qKcjv4jhgNT_5o\", \"expires_in\":1800, \"consented_on\":1651412759, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":383700,"millis":0.3837,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:16:54.387 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhn5s-inL4EstroXQL-5ZrtnkORtvIkIIJXhSB3AdCXjGxBBD04HXh-9oUxzXBxotx8Oto2wd_BaBTP1L7TamOtDF7JectC4JfMEgLMnCOoFK3W7N2r46ggQOxuvxlbVe7g-YVV2hUgHGI0gqu9ZOuUh7gCga59_92O0vl6XhLPKh4ArDvc5G72llXRyobWCt_XK4BQeE1_nMsoNNbqICDCHgFyf_t-qKcjv4jhgNT_5o\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651412759,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":362000,"millis":0.362,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":185500,"millis":0.1855,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":139200,"millis":0.1392,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":160800,"millis":0.1608,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:16:54.388 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhn5s-inL4EstroXQL-5ZrtnkORtvIkIIJXhSB3AdCXjGxBBD04HXh-9oUxzXBxotx8Oto2wd_BaBTP1L7TamOtDF7JectC4JfMEgLMnCOoFK3W7N2r46ggQOxuvxlbVe7g-YVV2hUgHGI0gqu9ZOuUh7gCga59_92O0vl6XhLPKh4ArDvc5G72llXRyobWCt_XK4BQeE1_nMsoNNbqICDCHgFyf_t-qKcjv4jhgNT_5o \n"},{"result":{"nanos":126300,"millis":0.1263,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":63900,"millis":0.0639,"status":"passed"},"step":{"line":31,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":40800,"millis":0.0408,"status":"passed"},"step":{"line":32,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":51100,"millis":0.0511,"status":"passed"},"step":{"line":33,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":63700,"millis":0.0637,"status":"passed"},"step":{"line":34,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":66400,"millis":0.0664,"status":"passed"},"step":{"line":35,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":60900,"millis":0.0609,"status":"passed"},"step":{"line":36,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":270700,"millis":0.2707,"status":"passed"},"step":{"line":37,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":23295135800,"millis":23295.1358,"status":"passed"},"step":{"line":38,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:16:54.390 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhn5s-inL4EstroXQL-5ZrtnkORtvIkIIJXhSB3AdCXjGxBBD04HXh-9oUxzXBxotx8Oto2wd_BaBTP1L7TamOtDF7JectC4JfMEgLMnCOoFK3W7N2r46ggQOxuvxlbVe7g-YVV2hUgHGI0gqu9ZOuUh7gCga59_92O0vl6XhLPKh4ArDvc5G72llXRyobWCt_XK4BQeE1_nMsoNNbqICDCHgFyf_t-qKcjv4jhgNT_5o\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=C4712F8B761AA03BB9E096B059FA39D8~-1~YAAQLp6yUnVM8HKAAQAAZ\/TefweMAqi6pTae7r\/SNycRBKr\/8NwjkzN6i8VeZSRP\/1cLQwYfzVyNrfBAXtvUEMcqaziEONcRAG5mHMgtqEgr0kxJn+tkxX3TSB0nX63npXcww6buWte\/vv1YxlY2KBncWobB73hFebWZGiWFBxC0N6CCf7J7xBaM8U6dWy07s7Dt0abOxggYDH7Qu9b9gExAV8hNpcm3OfJfzqpnGc7+KwFGqbRS6RsEl5DaoXZMm2PbfeaOcVPfZTcNPdRzDqHaNVwL1gXyysM8CZbGRPRu7H5i87TJjTlEh3Xfztj5SrQCTl71LgFBpN6YXwVGolQdZtlnGDPPQ1zdoDvO4PTkH2XwaSdkEbw=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=46D9231457CB98D310441B59E95AFEA4~YAAQLp6yUnZM8HKAAQAAZ\/Tefw\/UaHPSHnJCJC2c90kuuu5nik8EnegwMlhg4u554ylIRNKeW7g3SZqUj+\/T7Ihyg8rcnGL+tgRb8uRl2mnprgk1RszuyGh2VZteoCiS5TK8\/GJ0HLeO4GDV6haS9QEqBi\/G8bH4YHLLxBtsKi2Ti9oIdaNSzgwoTwV8CeI+QpRUxUmfhQXW54x4p0cnfaj8RcPTBQms23vPPEw3FXV\/MpxAMkDxJ+asZ85j1zxzyq6wfLMN0hkDNOfaOjFsg02Orbgg241J1iJO5uGeHXXa~4604230~3228980\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:17:17.684 response time in milliseconds: 23293\n2 < 502\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: text\/plain\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 6775a41d-3de1-47e6-b744-5be4be5fa86f\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n2 < X-Cf-Routererror: endpoint_failure (EOF)\n2 < X-Vcap-Request-Id: abe35179-1f7e-419f-53c5-918dc409ac60\n2 < X-Global-Transaction-ID: 6e68aa42626e8f17cb052dbf\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: %2FMzVu8HnPegIOEJilTLzJaAdN7f217kXNV5P6Uxa7m0Fy%2B4W6UJiuQxwnPYSBafvvmPaMjB%2Bm4gD%2BB5Q5s296cyKZrgmS%2FJfPCYeVHvsGLBxG8tOLxRvYZ2HSQMr07yfEJZ942VlF4WsrMgAFBgvpvp7TLJE%2BL7BBT%2BcvTbGniYEZ6w48lbiqNMOg4fPmO1f1CdWMuiYKqOgwXjjKic3LxfMakL8N%2BkKzdR3MQ%2BLOmQoHG%2BcpZ2anTb%2B6mcu9I7AkC8PKBmylWYqOlmm4dZbBtnfQYyqVTngi5hyymGUTikWc3%2FZBrWM4RqxqGlEduCjX%2F%2BKEaOOEBC0G51fNoI9VHj9VLrfrErMgvsqmGOSQRh5XSbZzKTlILrQ2%2Bu1WKvS0dKS2CFmeU72ohoyYzdNQarUKP2xsYR76xxmzRoALrm1gE0ObvGTDMa6GojgzHzGYShWK%2Fs3%2BjfOSueFbWZMTA%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 67\n2 < Date: Sun, 01 May 2022 13:46:22 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651413982000; Expires=Thu, 23 Jul 54353 07:53:57 GMT; Domain=sandbox.apihub.citi.com; Secure\n502 Bad Gateway: Registered endpoint failed to handle the request.\n\n\n"},{"result":{"nanos":61200,"errorMessage":"status code was: 502, expected: 400, response time in milliseconds: 23293, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n502 Bad Gateway: Registered endpoint failed to handle the request.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:39","millis":0.0612,"status":"failed"},"step":{"line":39,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"19:17:17.685 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:39\nThen status 400\nstatus code was: 502, expected: 400, response time in milliseconds: 23293, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n502 Bad Gateway: Registered endpoint failed to handle the request.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:39\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":30,"description":"","durationMillis":23744.1568,"failed":true,"error":"status code was: 502, expected: 400, response time in milliseconds: 23293, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n502 Bad Gateway: Registered endpoint failed to handle the request.\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:39","executorName":"main","name":"Verify the LinkageAPI with invalid lastFourDigitsCardNumber in body parameters","startTime":1651412813940,"refId":"[2:30]","endTime":1651412837685,"exampleIndex":-1}],"callDepth":0,"name":"API level unit testing for linkage service","description":"","resultDate":"2022-05-01 07:17:17 pm","durationMillis":25893.8511,"passedCount":1}