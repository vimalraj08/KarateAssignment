{"failedCount":1,"prefixedPath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","packageQualifiedName":"src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting","loopIndex":-1,"relativePath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":54433900,"millis":54.4339,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":495500,"millis":0.4955,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":420500,"millis":0.4205,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":298500,"millis":0.2985,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":227800,"millis":0.2278,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":1112363200,"millis":1112.3632,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"18:54:29.373 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n18:54:30.192 response time in milliseconds: 811\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 2b769208626e89d797ba953d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e89d7-13d3cf4b\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.221.23.115,169.175.61.96,169.177.209.49\n1 < dmz-global-txn-id: 2b769208626e89d797ba953d\n1 < X-Archived-Client-IP: 23.221.23.115,23.221.23.115,169.175.61.96\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:23:35 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651412615000; Expires=Tue, 07 Jul 54353 11:47:50 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=87A091FC8160BD3C1C2BA4BDD5397037~-1~YAAQLp6yUrxC8HKAAQAAg3HKfwcYC47jRob22lWaf0ejPntUelNZrK2xWQ+3D2JGTNrV17H6LiXmg1Ucqvc2dIuiwsxcTxlnmZIxGJIGBSLGSMBJrJNcKN4EZnMC13cuPEMCb31apqWMBXIqn+33rjzeMuDX\/F5QG9J9JNnjvnpPJDo+G8m6\/Cv6l3nvCYbumS0EdMBxk1+cpR0LHU8TJRB6XO2Bf6sexdtzyHbexuR+\/CpX\/nqZg1bkPJ0rfLtk2zATmDBk\/e4qNeBzeAul8JcSiZhxElBn4UfhDmtDelJwJEhV5drMZkRjL44XAA1I1IGKZ+mXDPNO1jhS8CH42AYgkyMPpnurUeeXtOzUehYrOhJ5xdqIWGk=~-1~-1~-1; Max-Age=1682947415000; Expires=Mon, 23 Oct 55352 14:27:50 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=32A34E9F6D11FBC81BCCACEBFC92062C~YAAQLp6yUr1C8HKAAQAAg3HKfw\/tU8C9GK+itfTp1lrJqA+BII30IeZa2OghnZi77k1avZvRygMR2Vc1P99v2cIHtK8ECQMM7sWhBoJ8QcvYiD6lq1Lv5rr1rNVQ9H\/9zCyJs44xwq0LsvJeIAk39W9fQbZ+jkmb0tUUDRHLnC+nl1eZiaKAwGf4pYXqfiyVOIx2RCwjstozPYVbGYbV6t8gy4WHjntU13Q0ZTA1K8VJY0GU5rTT5iUM5kJYKdG+MBg\/guP4fRHsbGU2vk2rZh1460n9zQmop5hpOVLrJ+zQ~3621189~3289143; Max-Age=1651425815000; Expires=Mon, 07 Dec 54353 06:27:50 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh_VrmfuzqyHdaQ71ynfS98NTHgXwJ4MRyi8CJzQCYgPk8j_cREmiNtWvMu_LzRbKEvs_AJS0KwX1u1At_kWUlvfsJADy3Ln3zwR_uquE7zw9BsngZWm3WvWi7zY2kSQIPWNEWmtsn5f2aXr7MOgmClTjGmH1lHSXVJ0zOq3IN1yaLrmI12N6Tx6fx4YEaPRvESrFa_BmvoScCu7hcO7kyHYxv21lMtGivKFPbSUUS2y8\", \"expires_in\":1800, \"consented_on\":1651411415, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":19800,"millis":0.0198,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":43751200,"millis":43.7512,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"18:54:30.257 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh_VrmfuzqyHdaQ71ynfS98NTHgXwJ4MRyi8CJzQCYgPk8j_cREmiNtWvMu_LzRbKEvs_AJS0KwX1u1At_kWUlvfsJADy3Ln3zwR_uquE7zw9BsngZWm3WvWi7zY2kSQIPWNEWmtsn5f2aXr7MOgmClTjGmH1lHSXVJ0zOq3IN1yaLrmI12N6Tx6fx4YEaPRvESrFa_BmvoScCu7hcO7kyHYxv21lMtGivKFPbSUUS2y8\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651411415,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":22559600,"millis":22.5596,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":1574700,"millis":1.5747,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":1363300,"millis":1.3633,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":625600,"millis":0.6256,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"18:54:30.284 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh_VrmfuzqyHdaQ71ynfS98NTHgXwJ4MRyi8CJzQCYgPk8j_cREmiNtWvMu_LzRbKEvs_AJS0KwX1u1At_kWUlvfsJADy3Ln3zwR_uquE7zw9BsngZWm3WvWi7zY2kSQIPWNEWmtsn5f2aXr7MOgmClTjGmH1lHSXVJ0zOq3IN1yaLrmI12N6Tx6fx4YEaPRvESrFa_BmvoScCu7hcO7kyHYxv21lMtGivKFPbSUUS2y8 \n"},{"result":{"nanos":6655000,"millis":6.655,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":328500,"millis":0.3285,"status":"passed"},"step":{"line":21,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":177100,"millis":0.1771,"status":"passed"},"step":{"line":22,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":223200,"millis":0.2232,"status":"passed"},"step":{"line":23,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":253800,"millis":0.2538,"status":"passed"},"step":{"line":24,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":92500,"millis":0.0925,"status":"passed"},"step":{"line":25,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":218200,"millis":0.2182,"status":"passed"},"step":{"line":26,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":8441000,"errorMessage":"js failed:\n>>>>\n01: karate.log('[print]',requestBody)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"requestBody\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27","millis":8.441,"status":"failed"},"step":{"line":27,"prefix":"And","index":6,"text":"print requestBody"},"stepLog":"18:54:30.302 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27\nAnd print requestBody\njs failed:\n>>>>\n01: karate.log('[print]',requestBody)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"requestBody\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"And","index":7,"text":"request requestBody"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":29,"prefix":"When","index":8,"text":"method POST"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":30,"prefix":"Then","index":9,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":31,"prefix":"And","index":10,"text":"print response"}}],"line":19,"description":"*def requestBody = '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'","durationMillis":1254.5229,"failed":true,"error":"js failed:\n>>>>\n01: karate.log('[print]',requestBody)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"requestBody\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:27","executorName":"main","name":"Title of your scenario","startTime":1651411469035,"refId":"[1:19]","endTime":1651411470302,"exampleIndex":-1}],"callDepth":0,"name":"API level unit testing for linkage service","description":"","resultDate":"2022-05-01 06:54:30 pm","durationMillis":1254.5229,"passedCount":0}