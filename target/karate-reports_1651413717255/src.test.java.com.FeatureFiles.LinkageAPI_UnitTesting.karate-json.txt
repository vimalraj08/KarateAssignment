{"failedCount":2,"prefixedPath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","packageQualifiedName":"src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting","loopIndex":-1,"relativePath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":54388800,"millis":54.3888,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":496700,"millis":0.4967,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":400100,"millis":0.4001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":239400,"millis":0.2394,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":222600,"millis":0.2226,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":971054800,"millis":971.0548,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:30:36.965 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:30:37.669 response time in milliseconds: 700\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 14744989626e924e3947133d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e924e-140e2c63\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.64.120.184,169.175.61.90,169.177.209.49\n1 < dmz-global-txn-id: 14744989626e924e3947133d\n1 < X-Archived-Client-IP: 23.64.120.184,23.64.120.184,169.175.61.90\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:59:42 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414782000; Expires=Sat, 01 Aug 54353 14:20:37 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=AFBAE672498DB113D337E683A1FB194D~-1~YAAQLp6yUidU8HKAAQAAO4Trfwc\/UXywMMVBHwm9hDxXzHel8WctTKdRMlzC+X4+\/NCeZlRhoHej0li491L0VVO5vIAZRrH3gGr2iTAEnYSeMXypar8S6r91w8F4nW\/MaPirKUcl6HOQC+z5Hzuc964mlcGyvOC+nmMhL0cenAwGPMsijCiWdiR2Hhu52WH23jD\/\/lf0yY0qyecy9QSvD+MWOR22BlbMmoesGV4Zq7qmoJWGqqPkCeHunY+9roq5Mjg1IHPIGuq+I2Meol0520MQwCvzPiFPs1Gq9zacb5XLIpiQmUmZYuU5z9tq57rv1WsPmwkREDuU0jvZfIxYqCPYDQDu4C9bkxHsmjub1OQ6IUHb3wPcdo0=~-1~-1~-1; Max-Age=1682949582000; Expires=Fri, 17 Nov 55352 17:00:37 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=12B220C5A913000F102F3E3BEACBF739~YAAQLp6yUihU8HKAAQAAO4Trfw9dxmiGQGbRE6aY0u4CEKss\/EszZ59S\/5d2WANGd5q2XsdLL\/wngt\/mN4IH24zZhvDE2NDtaXBDmKJJBXRENbLH0w1Yh2TTneAJZtaaZOnuQi76C8XehH5fez43IrdNd+V7L+Yn7DVJqTpnifsAhS9tuZvp1iCpoVo9dbwDjcj\/NJJzC2tvcDvtJZ5a\/eTeGu3EdG\/gqfQEgSKjGSr2JjwU2vSkm\/0M\/7ily43kZZDd5Ktce9lIOO\/Q8Go6KcV7upd8p0brSawVjiXrCj6E~3749188~3356997; Max-Age=1651427982000; Expires=Fri, 01 Jan 54354 09:00:37 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOSAJwtfkGxYRQlgnM1IooYnIE8BCLcKNFUCzQ-kbd7ArcK2TeNYoYBaQzajezrdPOG0K-VTSiibnm-M-jV_RGvk8ETq0W6q0tXb9Pys3H90yZ8e60IrrjjeLI3gJAXKT70ab9qXhdZ4GDOSCcqGwJ_RiwPTGNN4GdbP2Bii1yH5wbvRJ6fMNifOyGDjpCJpk6b1ixVjpapjRifPB2qtwppkJC1MpWkRkm6CEM03pMRg\", \"expires_in\":1800, \"consented_on\":1651413582, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":38374100,"millis":38.3741,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:30:37.724 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOSAJwtfkGxYRQlgnM1IooYnIE8BCLcKNFUCzQ-kbd7ArcK2TeNYoYBaQzajezrdPOG0K-VTSiibnm-M-jV_RGvk8ETq0W6q0tXb9Pys3H90yZ8e60IrrjjeLI3gJAXKT70ab9qXhdZ4GDOSCcqGwJ_RiwPTGNN4GdbP2Bii1yH5wbvRJ6fMNifOyGDjpCJpk6b1ixVjpapjRifPB2qtwppkJC1MpWkRkm6CEM03pMRg\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413582,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":20063400,"millis":20.0634,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":1724700,"millis":1.7247,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":914300,"millis":0.9143,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":551900,"millis":0.5519,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:30:37.749 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOSAJwtfkGxYRQlgnM1IooYnIE8BCLcKNFUCzQ-kbd7ArcK2TeNYoYBaQzajezrdPOG0K-VTSiibnm-M-jV_RGvk8ETq0W6q0tXb9Pys3H90yZ8e60IrrjjeLI3gJAXKT70ab9qXhdZ4GDOSCcqGwJ_RiwPTGNN4GdbP2Bii1yH5wbvRJ6fMNifOyGDjpCJpk6b1ixVjpapjRifPB2qtwppkJC1MpWkRkm6CEM03pMRg \n"},{"result":{"nanos":4772500,"millis":4.7725,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":237100,"millis":0.2371,"status":"passed"},"step":{"line":19,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":148900,"millis":0.1489,"status":"passed"},"step":{"line":20,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":125600,"millis":0.1256,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":230300,"millis":0.2303,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":87900,"millis":0.0879,"status":"passed"},"step":{"line":23,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":179300,"millis":0.1793,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":179600,"millis":0.1796,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":3850242200,"millis":3850.2422,"status":"passed"},"step":{"line":26,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:30:37.758 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOSAJwtfkGxYRQlgnM1IooYnIE8BCLcKNFUCzQ-kbd7ArcK2TeNYoYBaQzajezrdPOG0K-VTSiibnm-M-jV_RGvk8ETq0W6q0tXb9Pys3H90yZ8e60IrrjjeLI3gJAXKT70ab9qXhdZ4GDOSCcqGwJ_RiwPTGNN4GdbP2Bii1yH5wbvRJ6fMNifOyGDjpCJpk6b1ixVjpapjRifPB2qtwppkJC1MpWkRkm6CEM03pMRg\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=AFBAE672498DB113D337E683A1FB194D~-1~YAAQLp6yUidU8HKAAQAAO4Trfwc\/UXywMMVBHwm9hDxXzHel8WctTKdRMlzC+X4+\/NCeZlRhoHej0li491L0VVO5vIAZRrH3gGr2iTAEnYSeMXypar8S6r91w8F4nW\/MaPirKUcl6HOQC+z5Hzuc964mlcGyvOC+nmMhL0cenAwGPMsijCiWdiR2Hhu52WH23jD\/\/lf0yY0qyecy9QSvD+MWOR22BlbMmoesGV4Zq7qmoJWGqqPkCeHunY+9roq5Mjg1IHPIGuq+I2Meol0520MQwCvzPiFPs1Gq9zacb5XLIpiQmUmZYuU5z9tq57rv1WsPmwkREDuU0jvZfIxYqCPYDQDu4C9bkxHsmjub1OQ6IUHb3wPcdo0=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=12B220C5A913000F102F3E3BEACBF739~YAAQLp6yUihU8HKAAQAAO4Trfw9dxmiGQGbRE6aY0u4CEKss\/EszZ59S\/5d2WANGd5q2XsdLL\/wngt\/mN4IH24zZhvDE2NDtaXBDmKJJBXRENbLH0w1Yh2TTneAJZtaaZOnuQi76C8XehH5fez43IrdNd+V7L+Yn7DVJqTpnifsAhS9tuZvp1iCpoVo9dbwDjcj\/NJJzC2tvcDvtJZ5a\/eTeGu3EdG\/gqfQEgSKjGSr2JjwU2vSkm\/0M\/7ily43kZZDd5Ktce9lIOO\/Q8Go6KcV7upd8p0brSawVjiXrCj6E~3749188~3356997\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:30:41.606 response time in milliseconds: 3847\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: cc3eca3b-e367-45cc-bd4e-052d240d7292\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: a50d56a9-c47a-4c0b-82b9-e5d7b7fb7988\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n2 < X-Vcap-Request-Id: ae646375-3d22-425f-414b-f7a0186fcdff\n2 < X-Global-Transaction-ID: 126374ce626e924f0952cb0d\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: fvVAFXYcCJWifxqhWuiDIQ3LpilCkntfR5DYrLP5vpz6ydmhH4II4RzPWtb8gAPBUWNIGxLUoD26a0g6ybiEBx85mRZvhX5K47o1EUZKuqyBCuUCstk8YNFJKndUjcAz9TQ4njSbePnZAY0u38g6Mk7yFpL6uWd9HzKs6PECQopqu2CXBv9uD%2BwygXTchet2NFWZVxTAmSbCqmZuyuuakN4DM8MNSwmVTtYxVsX2t9L0YA%2BKKOZxxxg4FS9aIwdvR9H4H%2FGEuqmab969PbphPx4qgiTC9cTvHilTVWo62uvo86vyk2koDf%2Frj2diH4H58OgYUJYwkF9s7cA6PEiYonUujc8KplvvehGhTg4aEdLFih8rhg9O06sVCgfsnxpbmHsFkXdJysg9bdXs5%2BNBdfQv8UoCCSvjPRjUGMncZNqEZWIU%2Fig%2BCJXzwG0s%2B77pCZGrJKUcDsULOeQKgP%2BEfw%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 13:59:46 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414786000; Expires=Sat, 01 Aug 54353 15:27:21 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":8900,"millis":0.0089,"status":"passed"},"step":{"line":27,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":634000,"millis":0.634,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"match response.rewardLinkCode != null"}}],"executorName":"main","line":18,"name":"Verify the LinkageAPI with all mandatory body parameters","description":"","durationMillis":4945.2951,"startTime":1651413636650,"failed":false,"refId":"[1:18]","endTime":1651413641607,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":181000,"millis":0.181,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":355900,"millis":0.3559,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":278900,"millis":0.2789,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":214200,"millis":0.2142,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":216300,"millis":0.2163,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":497129000,"millis":497.129,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:30:41.615 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:30:42.111 response time in milliseconds: 495\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 2b769208626e9253981a242d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e9252-140e4fd8\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.221.23.115,169.175.61.96,153.40.245.129\n1 < dmz-global-txn-id: 2b769208626e9253981a242d\n1 < X-Archived-Client-IP: 23.221.23.115,23.221.23.115,169.175.61.96\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:59:47 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414787000; Expires=Sat, 01 Aug 54353 15:44:02 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=1E267D5412CA65297EFB2BA91F167308~-1~YAAQLp6yUjFU8HKAAQAAsJXrfwfyBsRziWll4f34JD6mFgTZGU1S+ALeXTWMZ2G0DF0uCsRJnEZMcY6pY3rS42lhLulMjNLSO91cdMFijkvXMvXFShrSeIRyLc0o0rr4wVBi80qGPFH4C1yOTprEpXzjSSi\/FQ6vhlW4hFyy\/ilLvu9yXWb8o8qnm1m0VHtUj7cyCHfRhZ\/+VnKNcZfgejTngosgnFJgMIGBvohdCtZIJXMetmaqnzDwFS9u4BM9somIuXQsDCcxfedut4SuvUyYqMU2GyE0Y7tYYE0KmrRjA42QjILqBVnF7vYQ5WpgxqL41jnecQWMUm2NalJINYc7+YU\/4Q8gReNMOqw66+xzWL80H6ckWNA=~-1~-1~-1; Max-Age=1682949587000; Expires=Fri, 17 Nov 55352 18:24:02 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=4E3F0179B3303CA456F1ACB360E62717~YAAQLp6yUjJU8HKAAQAAsJXrfw8cmUOrH7ddG4YqxllqUu4leHVoijItPU4BstKOPd32XUOM3saSpeEzAahZbedGpMSpmLl46vq3A\/2p1rXr61sNYfNPzFlY9VmyJJvmLQ5pdlkx0hgxkTxpJ01NV0Kmp9AgP12c0u0986IXOQ\/d0v4V04+RQMq1FG7JhnnBD7ZoqIBBxwOSFbzJAh+v4bKMTPiVsIrpOL9cxTe9sM+W2Dz4mEIerb91tvl9hnI9fytDPbmMAoJQWbro8cp6QzXstNXdAUxqZSwUje47A6a\/~3748656~4272948; Max-Age=1651427986000; Expires=Fri, 01 Jan 54354 10:07:22 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhMJu9Mje4doHvVld7vMfbCnUtaA1TRi_OpWaonfuO2fdZREYqjxTvlT63sers0EHSudGTNWKVqvNzhPQIyxuD1UIAjOglRBTMLHvjBRo8RwUyJvTiv-gNICVB_OYeqzOfxJkO8WJkFQ1fnqaBeDeGGl4hQilmoKKiZ1GLcf6TiBVQpYSHaH0oueosan8rNUuwN72BlZkVnQdd8BCOc1fu_6n0PLQN4PfGBO2YsikcIe8\", \"expires_in\":1800, \"consented_on\":1651413587, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":487000,"millis":0.487,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:30:42.112 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhMJu9Mje4doHvVld7vMfbCnUtaA1TRi_OpWaonfuO2fdZREYqjxTvlT63sers0EHSudGTNWKVqvNzhPQIyxuD1UIAjOglRBTMLHvjBRo8RwUyJvTiv-gNICVB_OYeqzOfxJkO8WJkFQ1fnqaBeDeGGl4hQilmoKKiZ1GLcf6TiBVQpYSHaH0oueosan8rNUuwN72BlZkVnQdd8BCOc1fu_6n0PLQN4PfGBO2YsikcIe8\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413587,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":452600,"millis":0.4526,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":210100,"millis":0.2101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":151300,"millis":0.1513,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":190900,"millis":0.1909,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:30:42.113 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhMJu9Mje4doHvVld7vMfbCnUtaA1TRi_OpWaonfuO2fdZREYqjxTvlT63sers0EHSudGTNWKVqvNzhPQIyxuD1UIAjOglRBTMLHvjBRo8RwUyJvTiv-gNICVB_OYeqzOfxJkO8WJkFQ1fnqaBeDeGGl4hQilmoKKiZ1GLcf6TiBVQpYSHaH0oueosan8rNUuwN72BlZkVnQdd8BCOc1fu_6n0PLQN4PfGBO2YsikcIe8 \n"},{"result":{"nanos":139600,"millis":0.1396,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":68400,"millis":0.0684,"status":"passed"},"step":{"line":31,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":44900,"millis":0.0449,"status":"passed"},"step":{"line":32,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":54200,"millis":0.0542,"status":"passed"},"step":{"line":33,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":65100,"millis":0.0651,"status":"passed"},"step":{"line":34,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":61400,"millis":0.0614,"status":"passed"},"step":{"line":35,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":60300,"millis":0.0603,"status":"passed"},"step":{"line":36,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":308300,"millis":0.3083,"status":"passed"},"step":{"line":37,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":8032015000,"millis":8032.015,"status":"passed"},"step":{"line":38,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:30:42.115 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhMJu9Mje4doHvVld7vMfbCnUtaA1TRi_OpWaonfuO2fdZREYqjxTvlT63sers0EHSudGTNWKVqvNzhPQIyxuD1UIAjOglRBTMLHvjBRo8RwUyJvTiv-gNICVB_OYeqzOfxJkO8WJkFQ1fnqaBeDeGGl4hQilmoKKiZ1GLcf6TiBVQpYSHaH0oueosan8rNUuwN72BlZkVnQdd8BCOc1fu_6n0PLQN4PfGBO2YsikcIe8\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=1E267D5412CA65297EFB2BA91F167308~-1~YAAQLp6yUjFU8HKAAQAAsJXrfwfyBsRziWll4f34JD6mFgTZGU1S+ALeXTWMZ2G0DF0uCsRJnEZMcY6pY3rS42lhLulMjNLSO91cdMFijkvXMvXFShrSeIRyLc0o0rr4wVBi80qGPFH4C1yOTprEpXzjSSi\/FQ6vhlW4hFyy\/ilLvu9yXWb8o8qnm1m0VHtUj7cyCHfRhZ\/+VnKNcZfgejTngosgnFJgMIGBvohdCtZIJXMetmaqnzDwFS9u4BM9somIuXQsDCcxfedut4SuvUyYqMU2GyE0Y7tYYE0KmrRjA42QjILqBVnF7vYQ5WpgxqL41jnecQWMUm2NalJINYc7+YU\/4Q8gReNMOqw66+xzWL80H6ckWNA=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=4E3F0179B3303CA456F1ACB360E62717~YAAQLp6yUjJU8HKAAQAAsJXrfw8cmUOrH7ddG4YqxllqUu4leHVoijItPU4BstKOPd32XUOM3saSpeEzAahZbedGpMSpmLl46vq3A\/2p1rXr61sNYfNPzFlY9VmyJJvmLQ5pdlkx0hgxkTxpJ01NV0Kmp9AgP12c0u0986IXOQ\/d0v4V04+RQMq1FG7JhnnBD7ZoqIBBxwOSFbzJAh+v4bKMTPiVsIrpOL9cxTe9sM+W2Dz4mEIerb91tvl9hnI9fytDPbmMAoJQWbro8cp6QzXstNXdAUxqZSwUje47A6a\/~3748656~4272948\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:30:50.146 response time in milliseconds: 8031\n2 < 400\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: a356e972-1e54-4f62-a2b3-e979f1283353\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 044eb2a7-a8ad-4a3d-b51c-5b7f1c4a282b\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n2 < X-Vcap-Request-Id: 04f686f4-058f-4217-5939-2db3cbade58b\n2 < X-Global-Transaction-ID: 126374ce626e92530952dafd\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: npZDHT9HvUXDvArjIromykTgQD6tMZUTlY9q3RsMpISNpekBuwaBscPE0Y%2BDtVnBwf4tOPWqYQfNGv27JNe%2F8JuuQ3hbiZqHoZYa%2FJUjkwH0zs2n%2Fij3m4M0cSSRM0fnAKbp6oOi75QUpVBIKJmt0Z%2BEEXJTNW0cyqA3x6NFt9XCKSCfEGlefQTu%2FZPMoalZk7TGBChnjZ2dggMGBRBCYMsSlLpl0vYk3EFgZN73P7mAH%2FwM1gQkHx2Al%2F9tDxO4WGbUU97iz4DLNYDfnAo09KqNtZ0ZdcID3UxreT3OXneU%2FclH5WkArY8VZAzsn7dk9oAJKFryigosH5C8YTPZLPZ5j0Fc%2FcD7rkPawIxCsK90VRthw6KR5NIKhPcMe8ovBorw2ShM%2Fjhe9D%2B%2FSBA8shJER%2FcToLCklrEBwhjHqUHJ83Xpi73D8pXaCnJvH2H6bEV9qsducj6%2F8Q%2FLfryRdw%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 84\n2 < Date: Sun, 01 May 2022 13:59:55 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414795000; Expires=Sat, 01 Aug 54353 17:57:30 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"type\":\"invalid\",\"code\":\"invalidRequest\",\"details\":\"Missing or invalid parameters\"}\n\n"},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":39,"prefix":"Then","index":8,"text":"status 400"}},{"result":{"nanos":341900,"millis":0.3419,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:30:50.147 [print] {\n  \"type\": \"invalid\",\n  \"code\": \"invalidRequest\",\n  \"details\": \"Missing or invalid parameters\"\n}\n \n"},{"result":{"nanos":526400,"millis":0.5264,"status":"passed"},"step":{"line":41,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":481600,"millis":0.4816,"status":"passed"},"step":{"line":42,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":347000,"millis":0.347,"status":"passed"},"step":{"line":43,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"executorName":"main","line":30,"name":"Verify the LinkageAPI with invalid lastFourDigitsCardNumber in body parameters","description":"","durationMillis":8534.4008,"startTime":1651413641612,"failed":false,"refId":"[2:30]","endTime":1651413650149,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":95000,"millis":0.095,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":43500,"millis":0.0435,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":65700,"millis":0.0657,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":61900,"millis":0.0619,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":58100,"millis":0.0581,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":442592500,"millis":442.5925,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:30:50.153 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:30:50.594 response time in milliseconds: 440\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 98b6a370626e925b20f906b1\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e925b-140e8d15\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.64.120.195,169.175.115.119,169.177.209.50\n1 < dmz-global-txn-id: 98b6a370626e925b20f906b1\n1 < X-Archived-Client-IP: 23.64.120.195,23.64.120.195,169.175.115.119\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 13:59:55 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414795000; Expires=Sat, 01 Aug 54353 17:57:30 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=FB6CA1C960E1D6C5C0E1ABDD5F0C4070~-1~YAAQLp6yUj1U8HKAAQAAxrbrfwcQbQWFGk\/XrKdw6DbKXZdp4sDjUAUBU\/sxJBv4yMkFF3It14jU0C0UQJSzAc2S5mM\/tcShjvng6WBrcGaZN7j\/8YithHx7XMpUwSE5ctS8th4iBqB4Kh0L4mffSENTtbQEynthvnpDoAO1LrhHYMqNu9DmoTIRBXIj7BUYIALwWVflC2LKslOAYrj3yA3gNhQ\/3zHOkcQqW4czamfsiHEnUq72a+zi7mB8S\/RwzP8Vxn5YzyYffksm3uWVIWR6bIj+vhjSlcJ0us4ntVHzIRG7+4rt1vWePjlKys3J8HMPqUDyU\/6FsuFUKBgCKMziJwE2K9sJoVoeqFsyUgBYjbFeHHTIAls=~-1~-1~-1; Max-Age=1682949595000; Expires=Fri, 17 Nov 55352 20:37:30 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=A72FB842DCD6FDF35DA42DC2076FD8D0~YAAQLp6yUj5U8HKAAQAAxrbrfw+Hn\/QzwVxhcJQjv\/YjiiCv6ToZKNoR+txz2WAmyjXypl3lP7XtbNzqiGr8EgVzQaBvky5SCrZQwwunAlMFN9bbUh87sIH8Or9gse\/I6cC7Jg+eIdNpB\/r36z4FbjVP32YlbJrPTsSWkLj\/9D7Ol9R2KUcjaXHKzaaqHRsYF\/3+8L4GulgfWpHwHg08+o2wrOXsfwQ4OKJE1RI87y7ng6prnf\/wfrdjlK3bBprZl4ak73HzVVXuTMWwN37FzHgISUvqqkKBddPSI9QBtYXH~3490369~4408377; Max-Age=1651427995000; Expires=Fri, 01 Jan 54354 12:37:30 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh5fPSAwc1IPrUHcdfvtSHQRyqavqmVmbkJm3ro-Gz28P1whkBOBbDWYjJYC4fT-K9E7LWjMqTks0dWmKYFT1X7lu1gpmaTPQYmvKJRO_8LpocmGoJTJskOB-8Z1sjyVVQ9csmjBLeOqm9WvNHAtvosgESG4bl-ci_F1WpbPkhN1-XOCSJpZ76hAoB5GjaQCW6tbNWchl355m5-SqOW2heiiS6mVP2SQQDup-u0GHhZVg\", \"expires_in\":1800, \"consented_on\":1651413595, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":9200,"millis":0.0092,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":528400,"millis":0.5284,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:30:50.595 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh5fPSAwc1IPrUHcdfvtSHQRyqavqmVmbkJm3ro-Gz28P1whkBOBbDWYjJYC4fT-K9E7LWjMqTks0dWmKYFT1X7lu1gpmaTPQYmvKJRO_8LpocmGoJTJskOB-8Z1sjyVVQ9csmjBLeOqm9WvNHAtvosgESG4bl-ci_F1WpbPkhN1-XOCSJpZ76hAoB5GjaQCW6tbNWchl355m5-SqOW2heiiS6mVP2SQQDup-u0GHhZVg\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413595,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":319300,"millis":0.3193,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":207100,"millis":0.2071,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":138200,"millis":0.1382,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":152600,"millis":0.1526,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:30:50.596 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh5fPSAwc1IPrUHcdfvtSHQRyqavqmVmbkJm3ro-Gz28P1whkBOBbDWYjJYC4fT-K9E7LWjMqTks0dWmKYFT1X7lu1gpmaTPQYmvKJRO_8LpocmGoJTJskOB-8Z1sjyVVQ9csmjBLeOqm9WvNHAtvosgESG4bl-ci_F1WpbPkhN1-XOCSJpZ76hAoB5GjaQCW6tbNWchl355m5-SqOW2heiiS6mVP2SQQDup-u0GHhZVg \n"},{"result":{"nanos":129300,"millis":0.1293,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":64300,"millis":0.0643,"status":"passed"},"step":{"line":46,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":73000,"millis":0.073,"status":"passed"},"step":{"line":47,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":51400,"millis":0.0514,"status":"passed"},"step":{"line":48,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":662100,"millis":0.6621,"status":"passed"},"step":{"line":49,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":76900,"millis":0.0769,"status":"passed"},"step":{"line":50,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":85800,"millis":0.0858,"status":"passed"},"step":{"line":51,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":279100,"millis":0.2791,"status":"passed"},"step":{"line":52,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":4445974800,"millis":4445.9748,"status":"passed"},"step":{"line":53,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:30:50.600 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh5fPSAwc1IPrUHcdfvtSHQRyqavqmVmbkJm3ro-Gz28P1whkBOBbDWYjJYC4fT-K9E7LWjMqTks0dWmKYFT1X7lu1gpmaTPQYmvKJRO_8LpocmGoJTJskOB-8Z1sjyVVQ9csmjBLeOqm9WvNHAtvosgESG4bl-ci_F1WpbPkhN1-XOCSJpZ76hAoB5GjaQCW6tbNWchl355m5-SqOW2heiiS6mVP2SQQDup-u0GHhZVg\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=FB6CA1C960E1D6C5C0E1ABDD5F0C4070~-1~YAAQLp6yUj1U8HKAAQAAxrbrfwcQbQWFGk\/XrKdw6DbKXZdp4sDjUAUBU\/sxJBv4yMkFF3It14jU0C0UQJSzAc2S5mM\/tcShjvng6WBrcGaZN7j\/8YithHx7XMpUwSE5ctS8th4iBqB4Kh0L4mffSENTtbQEynthvnpDoAO1LrhHYMqNu9DmoTIRBXIj7BUYIALwWVflC2LKslOAYrj3yA3gNhQ\/3zHOkcQqW4czamfsiHEnUq72a+zi7mB8S\/RwzP8Vxn5YzyYffksm3uWVIWR6bIj+vhjSlcJ0us4ntVHzIRG7+4rt1vWePjlKys3J8HMPqUDyU\/6FsuFUKBgCKMziJwE2K9sJoVoeqFsyUgBYjbFeHHTIAls=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=A72FB842DCD6FDF35DA42DC2076FD8D0~YAAQLp6yUj5U8HKAAQAAxrbrfw+Hn\/QzwVxhcJQjv\/YjiiCv6ToZKNoR+txz2WAmyjXypl3lP7XtbNzqiGr8EgVzQaBvky5SCrZQwwunAlMFN9bbUh87sIH8Or9gse\/I6cC7Jg+eIdNpB\/r36z4FbjVP32YlbJrPTsSWkLj\/9D7Ol9R2KUcjaXHKzaaqHRsYF\/3+8L4GulgfWpHwHg08+o2wrOXsfwQ4OKJE1RI87y7ng6prnf\/wfrdjlK3bBprZl4ak73HzVVXuTMWwN37FzHgISUvqqkKBddPSI9QBtYXH~3490369~4408377\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:30:55.044 response time in milliseconds: 4444\n2 < 400\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: c2f7673b-3057-493b-a847-13219a040778\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 72707789-0180-4d1f-a2ff-3a37efed43bc\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n2 < X-Vcap-Request-Id: 713cfc5c-1484-4e42-759c-b64df52a150d\n2 < X-Global-Transaction-ID: 6e68aa42626e925ccb4d36df\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: XI5frEnJmNEU9%2B%2Br83Nituw4V9Q2ST67jxd%2FE6NoT%2BJqEbG8Flfg1DmFfpuwKgxGTPKc5sfjjj%2FwpbPeoPixeI%2B8EMpVnjoSM9mZ1adsuxdc9VWb29wPu0gLPTtkuqqUEdnAnWi%2Bjy2mNQdGVYGT9Y3zc1qxf1Wcb1vct%2BxNX%2Bb%2BI7VaNIQinqJwxOyHsIlGTW4OVOhToSvdT%2BoFEqRJy%2Fci1rNTNMEWP3Gko%2FxwPhYEJHtsN7hewLmA1CjhJOFCHs%2BbEzP46VBeGYPWVS1aHjjsZtRNjyoBRffwW5OWMLz5PVFbAs6jyyoxfgaf2pfeJa92MhbKLEmOiseXVxT%2FgoxUb4JGvT3pJdc4UslLNKquSqvZ5T%2FiKYlYxdhB1IMD1zPBJaoXtCZTJY14xK5F0gGZIF9vdjD%2BTa%2BlT241509kQmAIluzUJO3nNgusAnmqr3FBVjheGnIkVh3OaK%2BoAw%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 84\n2 < Date: Sun, 01 May 2022 14:00:00 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414800000; Expires=Sat, 01 Aug 54353 19:20:55 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"type\":\"invalid\",\"code\":\"invalidRequest\",\"details\":\"Missing or invalid parameters\"}\n\n"},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":54,"prefix":"Then","index":8,"text":"status 400"}},{"result":{"nanos":508200,"millis":0.5082,"status":"passed"},"step":{"line":55,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:30:55.046 [print] {\n  \"type\": \"invalid\",\n  \"code\": \"invalidRequest\",\n  \"details\": \"Missing or invalid parameters\"\n}\n \n"},{"result":{"nanos":493500,"millis":0.4935,"status":"passed"},"step":{"line":56,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":322500,"millis":0.3225,"status":"passed"},"step":{"line":57,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":241800,"millis":0.2418,"status":"passed"},"step":{"line":58,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"executorName":"main","line":45,"name":"Verify the LinkageAPI with invalid citiCardHolderPhoneNumber in body parameters","description":"","durationMillis":4893.2465,"startTime":1651413650151,"failed":false,"refId":"[3:45]","endTime":1651413655046,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":224400,"millis":0.2244,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":92600,"millis":0.0926,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":137000,"millis":0.137,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":101800,"millis":0.1018,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":87100,"millis":0.0871,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":459263800,"millis":459.2638,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:30:55.052 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:30:55.510 response time in milliseconds: 458\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 14744989626e926025f75a1f\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e9260-140eadfd\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.64.120.184,169.175.61.90,169.177.209.51\n1 < dmz-global-txn-id: 14744989626e926025f75a1f\n1 < X-Archived-Client-IP: 23.64.120.184,23.64.120.184,169.175.61.90\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:00:00 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414800000; Expires=Sat, 01 Aug 54353 19:20:55 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=1DE89B827C0EA92EC0717931A6724CA7~-1~YAAQLp6yUkNU8HKAAQAACcrrfwdZAx8sM5Hg76SewIGG1eWrhD\/\/H5Jeo3v1KwsilGMEazV0hPrUMGzxWk48ECmBZqHhQq4uoFY5vyHLDTvWG6HtwR7OTBxh\/PAnGqaTCjEpAsEQEp8fdyj8N2uR5ou\/fOU3eZ6E\/PRpK8X4Ubez2EwK40h8YydA+hdeEEBFODyfpPVdrS4YQft1WJOh+b8WNXD+kjKUsUQ00x1z89xaBH\/9\/T19lK4upw4GOtrwj\/wiR2M1ng\/PEw0X3ar6STdOYQ10\/F48PgLXOC2D7hJfggtUxlgacbyMk1THV4Z75m312cDatbtPThvU+s2+ouTaTqpWIffxBCjS5njyIeF2wgR7OmYOVeE=~-1~-1~-1; Max-Age=1682949600000; Expires=Fri, 17 Nov 55352 22:00:55 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=C7B0ACE121E451D16798592AC70A7869~YAAQLp6yUkRU8HKAAQAACcrrfw+pdZAEV\/1dT3i9TUzsZSKkiHkieNMiKHS6gv6gbSoFCaLmn2Ijq3KtdCI03A3QnEPDwO\/FuGc\/mSQyIxLylvCLq0BnqF6Bowusv5Iq\/QL+cpMsKC1IRFvEpXcT19VGz6s2UZm6k5hItkVooCGUNdRJKuphyBReiG3qX8Ogx2\/AVNuFWulV981I6Y\/7izfxpJV8jE7lHJ8ITBTMgY\/ez+GoNwNtUahwP6xfv1\/AVnUp4VsT6L9yqX5IR2hd1bCbypsXMshGIlHvL1jxlxRf~3228473~3552816; Max-Age=1651428000000; Expires=Fri, 01 Jan 54354 14:00:55 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhyRHVK4ZORNjs0V2IdVK_naQw4bZ3EwXKhhfUMKmzgnbNyoAT8K9SBLqqnwyqJx3Yshbcclo-rxM95_Q4dVDMTvBv2hpiBAMDOD29-3XqsM4d8bpUv4Z8JWa58FsB8bdYVzC6fRkktiej2zG1WzIcJQDqn70wGSznsy3MFJz-Y7fgnscXlfza3bvcO0-I5a-xOVtSLFInqjcE9TCG0_5FwzBB8nMOj2mraLPupGf9jDU\", \"expires_in\":1800, \"consented_on\":1651413600, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":423600,"millis":0.4236,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:30:55.511 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhyRHVK4ZORNjs0V2IdVK_naQw4bZ3EwXKhhfUMKmzgnbNyoAT8K9SBLqqnwyqJx3Yshbcclo-rxM95_Q4dVDMTvBv2hpiBAMDOD29-3XqsM4d8bpUv4Z8JWa58FsB8bdYVzC6fRkktiej2zG1WzIcJQDqn70wGSznsy3MFJz-Y7fgnscXlfza3bvcO0-I5a-xOVtSLFInqjcE9TCG0_5FwzBB8nMOj2mraLPupGf9jDU\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413600,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":357900,"millis":0.3579,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":284600,"millis":0.2846,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":190800,"millis":0.1908,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":223600,"millis":0.2236,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:30:55.512 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhyRHVK4ZORNjs0V2IdVK_naQw4bZ3EwXKhhfUMKmzgnbNyoAT8K9SBLqqnwyqJx3Yshbcclo-rxM95_Q4dVDMTvBv2hpiBAMDOD29-3XqsM4d8bpUv4Z8JWa58FsB8bdYVzC6fRkktiej2zG1WzIcJQDqn70wGSznsy3MFJz-Y7fgnscXlfza3bvcO0-I5a-xOVtSLFInqjcE9TCG0_5FwzBB8nMOj2mraLPupGf9jDU \n"},{"result":{"nanos":147600,"millis":0.1476,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":59000,"millis":0.059,"status":"passed"},"step":{"line":61,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":57400,"millis":0.0574,"status":"passed"},"step":{"line":62,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":69300,"millis":0.0693,"status":"passed"},"step":{"line":63,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":73200,"millis":0.0732,"status":"passed"},"step":{"line":64,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":66800,"millis":0.0668,"status":"passed"},"step":{"line":65,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":71700,"millis":0.0717,"status":"passed"},"step":{"line":66,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":287200,"millis":0.2872,"status":"passed"},"step":{"line":67,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"abcdefghiij\"}'"}},{"result":{"nanos":1761421400,"millis":1761.4214,"status":"passed"},"step":{"line":68,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:30:55.514 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhyRHVK4ZORNjs0V2IdVK_naQw4bZ3EwXKhhfUMKmzgnbNyoAT8K9SBLqqnwyqJx3Yshbcclo-rxM95_Q4dVDMTvBv2hpiBAMDOD29-3XqsM4d8bpUv4Z8JWa58FsB8bdYVzC6fRkktiej2zG1WzIcJQDqn70wGSznsy3MFJz-Y7fgnscXlfza3bvcO0-I5a-xOVtSLFInqjcE9TCG0_5FwzBB8nMOj2mraLPupGf9jDU\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=1DE89B827C0EA92EC0717931A6724CA7~-1~YAAQLp6yUkNU8HKAAQAACcrrfwdZAx8sM5Hg76SewIGG1eWrhD\/\/H5Jeo3v1KwsilGMEazV0hPrUMGzxWk48ECmBZqHhQq4uoFY5vyHLDTvWG6HtwR7OTBxh\/PAnGqaTCjEpAsEQEp8fdyj8N2uR5ou\/fOU3eZ6E\/PRpK8X4Ubez2EwK40h8YydA+hdeEEBFODyfpPVdrS4YQft1WJOh+b8WNXD+kjKUsUQ00x1z89xaBH\/9\/T19lK4upw4GOtrwj\/wiR2M1ng\/PEw0X3ar6STdOYQ10\/F48PgLXOC2D7hJfggtUxlgacbyMk1THV4Z75m312cDatbtPThvU+s2+ouTaTqpWIffxBCjS5njyIeF2wgR7OmYOVeE=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=C7B0ACE121E451D16798592AC70A7869~YAAQLp6yUkRU8HKAAQAACcrrfw+pdZAEV\/1dT3i9TUzsZSKkiHkieNMiKHS6gv6gbSoFCaLmn2Ijq3KtdCI03A3QnEPDwO\/FuGc\/mSQyIxLylvCLq0BnqF6Bowusv5Iq\/QL+cpMsKC1IRFvEpXcT19VGz6s2UZm6k5hItkVooCGUNdRJKuphyBReiG3qX8Ogx2\/AVNuFWulV981I6Y\/7izfxpJV8jE7lHJ8ITBTMgY\/ez+GoNwNtUahwP6xfv1\/AVnUp4VsT6L9yqX5IR2hd1bCbypsXMshGIlHvL1jxlxRf~3228473~3552816\n2 > Content-Length: 122\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"abcdefghiij\"}\n\n19:30:57.274 response time in milliseconds: 1760\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: acf05a18-d081-41ec-8b3d-67acecb71555\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 7f62367b-3621-46cd-830e-6815f16bb463\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Vcap-Request-Id: 07d7b942-21bb-4284-7d43-2d6def712608\n2 < X-Global-Transaction-ID: 6e68aa42626e9261cb4d8b5f\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: gzIO%2BEN0Ie9C7cYPIGXr2mPSUhuDOAI7%2FqF7zcD6kg%2FcdsVryZWEpGVr%2FeQAB7v384FY4HJ4UeW66WmFRQGgOCQhiUtzF%2BeW0JbpnD9vT9TNOmedyME0txJRVAvj1NLuV0QuduC%2B2rwVNRwq4LBIB08%2FhOim4limmiIIYKLCA4QkBx7%2BsNOIaOeo0m%2Fh8m03cQ%2Bs02i8sq5wiYpCNXo98Za0Tq4j8unieWXcQOQ7bYFN%2FiJrbPxqjbEqImSQpXrOLRgEKzrW9VkKxU8gz38E7DYce04nLwKhvOLmhd%2BiAojGQkGfX5noc5XTs7LBoPT9YjNDYsaazQ8TLpaHd8dP%2FPkesnqMRIZcS1zgSvIGyiIcq1yhMbF8O3XteX%2BspJJ8I3tgDJkzKsuIJs4W0nSn1lfHeSLxIyjwylvOJcN3H8AbyE7Fs3TSVNiVeCnUF191kg30cnB7X6Z2cMPpwVPArA%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 14:00:02 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414802000; Expires=Sat, 01 Aug 54353 19:54:17 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":153600,"errorMessage":"status code was: 200, expected: 400, response time in milliseconds: 1760, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","millis":0.1536,"status":"failed"},"step":{"line":69,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"19:30:57.276 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\nThen status 400\nstatus code was: 200, expected: 400, response time in milliseconds: 1760, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":70,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":71,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":72,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":73,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":60,"description":"","durationMillis":2223.8034,"failed":true,"error":"status code was: 200, expected: 400, response time in milliseconds: 1760, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","executorName":"main","name":"Verify the LinkageAPI with invalid merchantCustomerReferenceId in body parameters","startTime":1651413655050,"refId":"[4:60]","endTime":1651413657276,"exampleIndex":-1},{"sectionIndex":4,"stepResults":[{"result":{"nanos":139400,"millis":0.1394,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":46700,"millis":0.0467,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":60600,"millis":0.0606,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":554462200,"millis":554.4622,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:30:57.281 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:30:57.834 response time in milliseconds: 552\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 6e68aa42626e9262cb4db62f\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e9262-140ebee6\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.221.23.115,169.175.115.121,169.177.209.51\n1 < dmz-global-txn-id: 6e68aa42626e9262cb4db62f\n1 < X-Archived-Client-IP: 23.221.23.115,23.221.23.115,169.175.115.121\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:00:03 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414803000; Expires=Sat, 01 Aug 54353 20:10:57 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=C3297D0246B75EB1B0BC4F59B2166703~-1~YAAQLp6yUklU8HKAAQAA99Lrfwe6qUXzJ\/qB8eUU9WXVk4o2ubuRqKwcpWa8SckOiVCVAdueILRzqRxb83DCwUdaCWlnkUoB0jjqZRtAnDQnZ4CM+lq45WtpKnDwi3F\/1q\/y7QONTiKm6KY5a3IL2pbEt4B13JP7e+8Citu8eYu4je+UgjbDlq9eB+TXHMEROiaqDA+eMPmbBW47N6Y7Lj2q9940Jx9zj8bmWfT4hcaXSuQFCDseF\/vroryY1V4utpzZcDUlfsf8jtvZ381e5TWva7QmSm\/Jn7NIJTuiK69TcUynYUluMmNg4MDYnOf0Fo4wh6rLnEIY6CFMhQ\/o3OM86g2vDAT6tB1mt7r3bywaZXlkGQjDeK8=~-1~-1~-1; Max-Age=1682949603000; Expires=Fri, 17 Nov 55352 22:50:57 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=7D66595A9E292BAA3023596B39E48032~YAAQLp6yUkpU8HKAAQAA99Lrfw9IS2f\/mLrKFH1\/HLBYGdDF6aFtge6TmxxZe9qAd\/TK92gUTcy7Zb0owAiMeX6rsPTGfs29F0fNwEtdtkCOfOqpoD5jGHK9SU70ZGiFB8DGaxJxB8aDaart+Wxq1KOhqa+t5b8gMr53y\/CYsg7FaHTYfOOamhQpE2FB2B7g7UPQmkwsLBi+\/+uKa389WVhrFqfOObGJkTaED2VGvfxN4v0Kljplmbz4+q5BfF\/zwlSe7hlzjgz5uaQYT3F2u6eMhe0gXQPvKgv0yX3TNa06~4535097~3552313; Max-Age=1651428002000; Expires=Fri, 01 Jan 54354 14:34:17 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh77dF4u8TXMyQGMEe0uO3HG62qqTpREdGj9XcSQK5LQzW-ppX8iILs_rw-1Tkkp2TxDaq67IDS3tv3gMWT2nOnWAvC8NZY1PMcR_rHuIX8hN8Uscg6cOQtehtYBKz7I9Tgv9n3xo2AZbOe7dzFYfreSl87rBYgQ3YoGHvlToOPsoajhA9jOWj7DknUa9u2XFVB0Hmh-tsKG_gh-yss-3LINrM9d_3i52wnngXEi44PO4\", \"expires_in\":1800, \"consented_on\":1651413602, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":364700,"millis":0.3647,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:30:57.835 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh77dF4u8TXMyQGMEe0uO3HG62qqTpREdGj9XcSQK5LQzW-ppX8iILs_rw-1Tkkp2TxDaq67IDS3tv3gMWT2nOnWAvC8NZY1PMcR_rHuIX8hN8Uscg6cOQtehtYBKz7I9Tgv9n3xo2AZbOe7dzFYfreSl87rBYgQ3YoGHvlToOPsoajhA9jOWj7DknUa9u2XFVB0Hmh-tsKG_gh-yss-3LINrM9d_3i52wnngXEi44PO4\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413602,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":964300,"millis":0.9643,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":294100,"millis":0.2941,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":211300,"millis":0.2113,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":199800,"millis":0.1998,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:30:57.836 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh77dF4u8TXMyQGMEe0uO3HG62qqTpREdGj9XcSQK5LQzW-ppX8iILs_rw-1Tkkp2TxDaq67IDS3tv3gMWT2nOnWAvC8NZY1PMcR_rHuIX8hN8Uscg6cOQtehtYBKz7I9Tgv9n3xo2AZbOe7dzFYfreSl87rBYgQ3YoGHvlToOPsoajhA9jOWj7DknUa9u2XFVB0Hmh-tsKG_gh-yss-3LINrM9d_3i52wnngXEi44PO4 \n"},{"result":{"nanos":114900,"millis":0.1149,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":51500,"millis":0.0515,"status":"passed"},"step":{"line":78,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":63700,"millis":0.0637,"status":"passed"},"step":{"line":79,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":9554500,"errorMessage":"js failed:\n>>>>\n01: inValidAuth\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"inValidAuth\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:80","millis":9.5545,"status":"failed"},"step":{"line":80,"prefix":"And","index":2,"text":"header Authorization = inValidAuth"},"stepLog":"19:30:57.847 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:80\nAnd header Authorization = inValidAuth\njs failed:\n>>>>\n01: inValidAuth\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"inValidAuth\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:80\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":81,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":82,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":83,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":84,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":85,"prefix":"When","index":7,"text":"method POST"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":86,"prefix":"Then","index":8,"text":"status 401"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":87,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":88,"prefix":"And","index":10,"text":"match response.type == 'error'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":89,"prefix":"And","index":11,"text":"match response.code == 'unAuthorized'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":90,"prefix":"And","index":12,"text":"match response.details == 'Authorization credentials are missing or invalid'"}}],"line":75,"description":"*def inValidAuth = 'Bearer 1234567890'","durationMillis":566.636,"failed":true,"error":"js failed:\n>>>>\n01: inValidAuth\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"inValidAuth\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:80","executorName":"main","name":"Verify the LinkageAPI with invalid Authorization credentials in the request","startTime":1651413657279,"refId":"[5:75]","endTime":1651413657847,"exampleIndex":-1}],"callDepth":0,"name":"API level unit testing for linkage service","description":"","resultDate":"2022-05-01 07:30:57 pm","durationMillis":21163.3818,"passedCount":3}