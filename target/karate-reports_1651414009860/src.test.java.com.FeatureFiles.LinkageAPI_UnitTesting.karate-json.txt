{"failedCount":2,"prefixedPath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","packageQualifiedName":"src.test.java.com.FeatureFiles.LinkageAPI_UnitTesting","loopIndex":-1,"relativePath":"src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":51489600,"millis":51.4896,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":526200,"millis":0.5262,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":607800,"millis":0.6078,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":346500,"millis":0.3465,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":317200,"millis":0.3172,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":918391200,"millis":918.3912,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:31:58.001 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:31:58.665 response time in milliseconds: 659\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 2b769208626e929fe855319f\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e929f-14107092\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.221.23.115,169.175.61.96,153.40.245.129\n1 < dmz-global-txn-id: 2b769208626e929fe855319f\n1 < X-Archived-Client-IP: 23.221.23.115,23.221.23.115,169.175.61.96\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:01:03 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414863000; Expires=Sun, 02 Aug 54353 12:51:58 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=0F69D5165EDA624036D17891E8E0FC66~-1~YAAQLp6yUnRU8HKAAQAAmcDsfwcWzmXFwaP6YhXUUmyNUnDB0WBToDxTIjNtRJFYlsHSF1JOGUt3SlXBGNUDslX8ueTCZdPdnh0AO1fNjMYLSxvjygiHPZHtwU\/ZqlqjpZH84GttfmlJaPJAa9Vo8E5yBl2BcDt1uJoyE6dh0X880Owq52X+9yCkckd6nlDrhJHrOyMDEb7Y2dUsuX1fk2\/JbiF7oiVG3FCqyx4kiMO5akbk+joCrsKoadVufZYJN5pZ2olfXIGU9uPqju\/o8XCYz0out6bCCCIGybyH\/7f9LtUkfC7Wci6gOCYwGvhihYNdO7J9LW4yowfQpBHl3cRutwpTrrChPfq9Jlojn\/GOwTWiiMJlnS4=~-1~-1~-1; Max-Age=1682949663000; Expires=Sat, 18 Nov 55352 15:31:58 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=185B899FC17B363ADD8DAF988DA61922~YAAQLp6yUnVU8HKAAQAAmcDsfw+YGhRunAE\/X0y3lp150UKx+yRHhcSzjXh6ycx4VFW6R+fHVkTGUKynZ252aKKYnHxtysjkZ1pnrIslS\/zBXM8RPJGnRcwtIiVz6vHlbwQJvwhjYO7FzBQIhHX6GH48BQuKJblvkqDUjbgG9\/wxUewwMuUlPkZyGS\/h5bSSZuluVJiffyqHd3w93hMcCqoWXMHrSck+kYGc0L+2kzMzl10fLhYuuklTdf4UfIoi8H4MUF+8mikvW1lWTHx6DE1QFYdG4tjPMfkTZomh\/Zm8~3551810~4469830; Max-Age=1651428063000; Expires=Sat, 02 Jan 54354 07:31:58 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh1h9QniyxQJDJQPNDk3juyIyw2uDHyXz_px0JrSbbkikSFgr-jzckn3KXxa7RNIIhPhobtau9yANuLlFqi6nJ_yF3SRY5ti3BGeXwE5yMlp75AB_3TMgtGIT8nDc6zR_DA6owFHMbAvMGe0D11az6fvYzTjXQEWBQLgGUbPWEPFJftmUnPXxqbMlysYmUk4T5ovWj2Ht4b_1H0N2gXsvHXr1V2z82npBnhPPpKhZUPgQ\", \"expires_in\":1800, \"consented_on\":1651413663, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":36201600,"millis":36.2016,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:31:58.718 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh1h9QniyxQJDJQPNDk3juyIyw2uDHyXz_px0JrSbbkikSFgr-jzckn3KXxa7RNIIhPhobtau9yANuLlFqi6nJ_yF3SRY5ti3BGeXwE5yMlp75AB_3TMgtGIT8nDc6zR_DA6owFHMbAvMGe0D11az6fvYzTjXQEWBQLgGUbPWEPFJftmUnPXxqbMlysYmUk4T5ovWj2Ht4b_1H0N2gXsvHXr1V2z82npBnhPPpKhZUPgQ\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413663,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":18748300,"millis":18.7483,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":1820800,"millis":1.8208,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":998600,"millis":0.9986,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":646500,"millis":0.6465,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:31:58.741 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh1h9QniyxQJDJQPNDk3juyIyw2uDHyXz_px0JrSbbkikSFgr-jzckn3KXxa7RNIIhPhobtau9yANuLlFqi6nJ_yF3SRY5ti3BGeXwE5yMlp75AB_3TMgtGIT8nDc6zR_DA6owFHMbAvMGe0D11az6fvYzTjXQEWBQLgGUbPWEPFJftmUnPXxqbMlysYmUk4T5ovWj2Ht4b_1H0N2gXsvHXr1V2z82npBnhPPpKhZUPgQ \n"},{"result":{"nanos":6025700,"millis":6.0257,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":129600,"millis":0.1296,"status":"passed"},"step":{"line":19,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":195400,"millis":0.1954,"status":"passed"},"step":{"line":20,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":146400,"millis":0.1464,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":215300,"millis":0.2153,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":71300,"millis":0.0713,"status":"passed"},"step":{"line":23,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":206200,"millis":0.2062,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":233000,"millis":0.233,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":1793097900,"millis":1793.0979,"status":"passed"},"step":{"line":26,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:31:58.750 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFh1h9QniyxQJDJQPNDk3juyIyw2uDHyXz_px0JrSbbkikSFgr-jzckn3KXxa7RNIIhPhobtau9yANuLlFqi6nJ_yF3SRY5ti3BGeXwE5yMlp75AB_3TMgtGIT8nDc6zR_DA6owFHMbAvMGe0D11az6fvYzTjXQEWBQLgGUbPWEPFJftmUnPXxqbMlysYmUk4T5ovWj2Ht4b_1H0N2gXsvHXr1V2z82npBnhPPpKhZUPgQ\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=0F69D5165EDA624036D17891E8E0FC66~-1~YAAQLp6yUnRU8HKAAQAAmcDsfwcWzmXFwaP6YhXUUmyNUnDB0WBToDxTIjNtRJFYlsHSF1JOGUt3SlXBGNUDslX8ueTCZdPdnh0AO1fNjMYLSxvjygiHPZHtwU\/ZqlqjpZH84GttfmlJaPJAa9Vo8E5yBl2BcDt1uJoyE6dh0X880Owq52X+9yCkckd6nlDrhJHrOyMDEb7Y2dUsuX1fk2\/JbiF7oiVG3FCqyx4kiMO5akbk+joCrsKoadVufZYJN5pZ2olfXIGU9uPqju\/o8XCYz0out6bCCCIGybyH\/7f9LtUkfC7Wci6gOCYwGvhihYNdO7J9LW4yowfQpBHl3cRutwpTrrChPfq9Jlojn\/GOwTWiiMJlnS4=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=185B899FC17B363ADD8DAF988DA61922~YAAQLp6yUnVU8HKAAQAAmcDsfw+YGhRunAE\/X0y3lp150UKx+yRHhcSzjXh6ycx4VFW6R+fHVkTGUKynZ252aKKYnHxtysjkZ1pnrIslS\/zBXM8RPJGnRcwtIiVz6vHlbwQJvwhjYO7FzBQIhHX6GH48BQuKJblvkqDUjbgG9\/wxUewwMuUlPkZyGS\/h5bSSZuluVJiffyqHd3w93hMcCqoWXMHrSck+kYGc0L+2kzMzl10fLhYuuklTdf4UfIoi8H4MUF+8mikvW1lWTHx6DE1QFYdG4tjPMfkTZomh\/Zm8~3551810~4469830\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:32:00.541 response time in milliseconds: 1791\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 5c1c3d9f-a105-4c3b-b167-d4f58b25a8fa\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 33144066-9c8f-4d3f-90c5-a9488a648c73\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Vcap-Request-Id: 40b934a0-37bf-448c-490c-cd8b56dce18d\n2 < X-Global-Transaction-ID: 6e68aa42626e92a04005f291\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: rQFKlaz7fpgUXByc%2FrWcaw0LOE9Pz%2BnDQ9%2F5pM3PfSlefI3fqm4IBIc1N6VoDEJ05NnhWtYJBLnNK4MOuvddkKMjNwozqwxfaVLdfbji%2FLVNoOujH0Yf7l4J2NTDzWSo1u3ipuN8ZRUirDymK04itf%2FbpXN2uAPQ9qg%2FgwAt%2FIx%2BHwcsRLw%2BpZ5uFVziW5ELqZVL4Yd0c5g9ozMyCzU%2FjezfxBvazdtFF22g3n4zQiKQWSKnuBSzjVhqilrzs%2F%2BYIfILbppbG3vgs5lP0LY2bV6GL3sdI0xYhm4Kt%2BRjZSXkwtlcYNOK5GGHAKVHIrChzd6gLqD8JgUKR6J1ELzOn6vzfpB8HVENeHsQtLv3nNKzeAxYMp7Jt7BDJ1uCYMKON0t7inBqr2yH%2F2XoO1wNbMYCe7yIeVE2Z4EPYHHg51byZ%2BUkTwV%2F9jYA6mjNndl6fcNcVp4govef3%2BdYTWyHHw%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 14:01:05 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414865000; Expires=Sun, 02 Aug 54353 13:25:20 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":478000,"millis":0.478,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"match response.rewardLinkCode != null"}}],"executorName":"main","line":18,"name":"Verify the LinkageAPI with all mandatory body parameters","description":"","durationMillis":2830.9188,"startTime":1651413717697,"failed":false,"refId":"[1:18]","endTime":1651413720542,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":128800,"millis":0.1288,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":241800,"millis":0.2418,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":243400,"millis":0.2434,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":176800,"millis":0.1768,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":166400,"millis":0.1664,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":511311300,"millis":511.3113,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:32:00.547 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:32:01.057 response time in milliseconds: 510\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 6e68aa42626e92a2cb52f73f\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e92a1-14107f03\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.47.59.12,169.175.115.121,169.177.209.49\n1 < dmz-global-txn-id: 6e68aa42626e92a2cb52f73f\n1 < X-Archived-Client-IP: 23.47.59.12,23.47.59.12,169.175.115.121\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:01:06 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414866000; Expires=Sun, 02 Aug 54353 13:42:01 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=F94E4BFA356A4E5B378F4344F4D4082A~-1~YAAQLp6yUnZU8HKAAQAACcrsfwcGytAtMfm5g3SYMLAjPDorUHGkKpWVRbALPEUuWlc2ic9e0R6SnishEtoewZ1exiEolOdcxBCTykegU1wAKZMOSWgjH3tPSkJdGuDKVJpRAjaqQomQvDu59lLF0DqoMh55NwUsbtVggIUR6HSHH+0NhaFK16DPHYBZOH3zyl9F9oEhhf85+76Kly1zveKtY+npTdNje8bnX6X4bvkHHI2d9WrtAPmYxJcQ6TrT42MY\/HgY0aXFTwyR4k6OON8FxXGfqz27FJ4axFM5U0Y3skA9BDZjj\/ZnM0TnZY2yXMYpLPohglek\/uoQaTHup65o7hBmB2E7ITXfTPjuUMU4Ur6NNxykgLQ=~-1~-1~-1; Max-Age=1682949666000; Expires=Sat, 18 Nov 55352 16:22:01 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=C4AFA338BA144ECF5F33121F35AD2735~YAAQLp6yUndU8HKAAQAACcrsfw9nipyMpOykLvy\/6msxTUHM4tH+a7OfNPXJwgk9tycPt9hZlkFgSN4D1\/BhA4gjwVbOJWsAGjZ2iEPRBDuy6rsbV8uK8VazLDrSJBxAKjPxjwqPuNwXlsKqGu5\/FbslFOFGRNGYCf9IhSVEDVo8IYX2\/ZtPcYsHKQ+OS7bS2djFxTgzHIZMWHo8+P370v9bZI4hvOPF75GsIw+Nqw7\/kEsz8OGgQbOFkhbOE2p1Se5KIeyxNWnsYlocw2KYK8ixN5SJiknFTGXo8Hjdm97F~3225393~4539697; Max-Age=1651428065000; Expires=Sat, 02 Jan 54354 08:05:21 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhAsff9fQYVMBjhiIZDJjdR7i57NHzdBScR_0I-NOrpAR6w8-kkKbAXKZDulXa-wFLKVbrQSGxDF2Xp9aCx9bJS70KUS3WeRC8ok_4f2DnCc5NBj_JPXItJkHIopPPUlURKq3PmXsTLaGYAT0JPt1FVhKrHzlGtF3JBYdZ6nwYKCMiKXKd7g8r0g9QwElJKKyecWne7zVq1wW-FY9pjQ6LtoxB_VgZ5E-rnOBJFq0TMi8\", \"expires_in\":1800, \"consented_on\":1651413666, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":8900,"millis":0.0089,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":989800,"millis":0.9898,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:32:01.059 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhAsff9fQYVMBjhiIZDJjdR7i57NHzdBScR_0I-NOrpAR6w8-kkKbAXKZDulXa-wFLKVbrQSGxDF2Xp9aCx9bJS70KUS3WeRC8ok_4f2DnCc5NBj_JPXItJkHIopPPUlURKq3PmXsTLaGYAT0JPt1FVhKrHzlGtF3JBYdZ6nwYKCMiKXKd7g8r0g9QwElJKKyecWne7zVq1wW-FY9pjQ6LtoxB_VgZ5E-rnOBJFq0TMi8\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413666,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":714200,"millis":0.7142,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":414400,"millis":0.4144,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":363200,"millis":0.3632,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":421900,"millis":0.4219,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:32:01.061 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhAsff9fQYVMBjhiIZDJjdR7i57NHzdBScR_0I-NOrpAR6w8-kkKbAXKZDulXa-wFLKVbrQSGxDF2Xp9aCx9bJS70KUS3WeRC8ok_4f2DnCc5NBj_JPXItJkHIopPPUlURKq3PmXsTLaGYAT0JPt1FVhKrHzlGtF3JBYdZ6nwYKCMiKXKd7g8r0g9QwElJKKyecWne7zVq1wW-FY9pjQ6LtoxB_VgZ5E-rnOBJFq0TMi8 \n"},{"result":{"nanos":276900,"millis":0.2769,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":69900,"millis":0.0699,"status":"passed"},"step":{"line":31,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":139900,"millis":0.1399,"status":"passed"},"step":{"line":32,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":55000,"millis":0.055,"status":"passed"},"step":{"line":33,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":150700,"millis":0.1507,"status":"passed"},"step":{"line":34,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":81800,"millis":0.0818,"status":"passed"},"step":{"line":35,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":149300,"millis":0.1493,"status":"passed"},"step":{"line":36,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":162300,"millis":0.1623,"status":"passed"},"step":{"line":37,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":6958028500,"millis":6958.0285,"status":"passed"},"step":{"line":38,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:32:01.063 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhAsff9fQYVMBjhiIZDJjdR7i57NHzdBScR_0I-NOrpAR6w8-kkKbAXKZDulXa-wFLKVbrQSGxDF2Xp9aCx9bJS70KUS3WeRC8ok_4f2DnCc5NBj_JPXItJkHIopPPUlURKq3PmXsTLaGYAT0JPt1FVhKrHzlGtF3JBYdZ6nwYKCMiKXKd7g8r0g9QwElJKKyecWne7zVq1wW-FY9pjQ6LtoxB_VgZ5E-rnOBJFq0TMi8\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=F94E4BFA356A4E5B378F4344F4D4082A~-1~YAAQLp6yUnZU8HKAAQAACcrsfwcGytAtMfm5g3SYMLAjPDorUHGkKpWVRbALPEUuWlc2ic9e0R6SnishEtoewZ1exiEolOdcxBCTykegU1wAKZMOSWgjH3tPSkJdGuDKVJpRAjaqQomQvDu59lLF0DqoMh55NwUsbtVggIUR6HSHH+0NhaFK16DPHYBZOH3zyl9F9oEhhf85+76Kly1zveKtY+npTdNje8bnX6X4bvkHHI2d9WrtAPmYxJcQ6TrT42MY\/HgY0aXFTwyR4k6OON8FxXGfqz27FJ4axFM5U0Y3skA9BDZjj\/ZnM0TnZY2yXMYpLPohglek\/uoQaTHup65o7hBmB2E7ITXfTPjuUMU4Ur6NNxykgLQ=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=C4AFA338BA144ECF5F33121F35AD2735~YAAQLp6yUndU8HKAAQAACcrsfw9nipyMpOykLvy\/6msxTUHM4tH+a7OfNPXJwgk9tycPt9hZlkFgSN4D1\/BhA4gjwVbOJWsAGjZ2iEPRBDuy6rsbV8uK8VazLDrSJBxAKjPxjwqPuNwXlsKqGu5\/FbslFOFGRNGYCf9IhSVEDVo8IYX2\/ZtPcYsHKQ+OS7bS2djFxTgzHIZMWHo8+P370v9bZI4hvOPF75GsIw+Nqw7\/kEsz8OGgQbOFkhbOE2p1Se5KIeyxNWnsYlocw2KYK8ixN5SJiknFTGXo8Hjdm97F~3225393~4539697\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"1234\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:32:08.020 response time in milliseconds: 6956\n2 < 400\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: 8a287963-3312-4a53-ad90-f2a3752b6dea\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: ff943faf-8e2c-4aff-83ad-051cba7ab3ac\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n2 < X-Vcap-Request-Id: b9a7aff3-9442-4b4a-537a-52eea011bd6a\n2 < X-Global-Transaction-ID: 6e68aa42626e92a2cb52f38f\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: yD0Zv7NRifdmzIt74%2F0geLgVP838Pt9zO%2B8AbyLWXBMwyNZreJIibzwl6pkjIM9C8XKo7TDAiJy0Op8CMIFZk9vEQnbqPjq5ojweXCdMrh78%2BcRqY4dadK0UrCgpfalIOB02HIp2eY5422mrd5%2FrPo1y1aYTc3zUoEU7HwDPxw6NaNzdIRuYKHcDTWi0XBEkgTt%2BOFzvn7ZFQjvVs5A924uJNNfUmB0UbuycX5VH5HDTlFw8Y3HoSEMTrfHKHIlIAVHYXICXEj9lVbWnkcpnJG%2BIsescSgL1WswKbr4Yj8pK2Ibj0%2BC4aLKa6mqayBU5IBTm00N8xyKE9QGsyovMsKjcVpZX3EG8i33WfvO4s2Fnbjin7F4kvKCmc5wh%2F7%2Fl2omph94tcKX6Ojo4Zw1j640g7Ja8m%2FC9l7MURk3vr9KEqmXLhoWwWdwZYsf4mmOeVfT6m%2BDg8Tv%2Bpgi%2BmYyJwQ%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 84\n2 < Date: Sun, 01 May 2022 14:01:13 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414873000; Expires=Sun, 02 Aug 54353 15:38:48 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"type\":\"invalid\",\"code\":\"invalidRequest\",\"details\":\"Missing or invalid parameters\"}\n\n"},{"result":{"nanos":15000,"millis":0.015,"status":"passed"},"step":{"line":39,"prefix":"Then","index":8,"text":"status 400"}},{"result":{"nanos":819300,"millis":0.8193,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:32:08.021 [print] {\n  \"type\": \"invalid\",\n  \"code\": \"invalidRequest\",\n  \"details\": \"Missing or invalid parameters\"\n}\n \n"},{"result":{"nanos":454200,"millis":0.4542,"status":"passed"},"step":{"line":41,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":318400,"millis":0.3184,"status":"passed"},"step":{"line":42,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":288900,"millis":0.2889,"status":"passed"},"step":{"line":43,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"executorName":"main","line":30,"name":"Verify the LinkageAPI with invalid lastFourDigitsCardNumber in body parameters","description":"","durationMillis":7476.191,"startTime":1651413720545,"failed":false,"refId":"[2:30]","endTime":1651413728023,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":87900,"millis":0.0879,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":177000,"millis":0.177,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":213300,"millis":0.2133,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":170000,"millis":0.17,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":154100,"millis":0.1541,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":681258200,"millis":681.2582,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:32:08.027 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:32:08.706 response time in milliseconds: 679\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 14744989626e92a92606abaf\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e92a9-1410ae40\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.47.59.18,169.175.61.90,153.40.245.129\n1 < dmz-global-txn-id: 14744989626e92a92606abaf\n1 < X-Archived-Client-IP: 23.47.59.18,23.47.59.18,169.175.61.90\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:01:13 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414873000; Expires=Sun, 02 Aug 54353 15:38:48 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=AA518C08B62EDC5B8BF5C8802EDE6831~-1~YAAQLp6yUnxU8HKAAQAA6+fsfwe0wNcP9GeeBc2CHtqr1EIt1UW8pFBKUBBmKd8TKvCl5xYhDLCcDfCEL1iW8kAvhAh0nY9y\/NUP1v6ngbr2nkj8y4Fvs+vo7P\/wIul6c7tmG9rO53BI8M\/dCFPuZ6BW1F43Pt0nznEPmtfcac\/ZcKerYHB6Y\/DAVQtPycMYKBFj4\/KLAZ5WTQhicHm2jCYTSEKiVsDruHbtZsxf36oyx647SOksCR7kTsNhdftFsWJIC2tO\/2jW5CNUgYekUUPzeRY5gXoHn3AlD3IFuJuSU1908nP0lYTBc\/V3arkRJ\/ySmg2GFPQWMREwXwabfxVwHnV4a9gIcO4l10i40L3eZd5lc0bbcIs=~-1~-1~-1; Max-Age=1682949673000; Expires=Sat, 18 Nov 55352 18:18:48 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=6E39E6419B53D7E49422C9C479B4F9B2~YAAQLp6yUn1U8HKAAQAA6+fsfw9yxiyuphmpi+s\/\/wcWhq7kXz8FYW3XeI77fyPV46qgrC37+aTP+MboaVEin+SPgN5y1EzBYAiu2dop58XsYXJN6StM4NW+rvJMqRrigmiKNZd1ufQfw3bvqrqNvVsFhVvf25btywg6D0rD8uZG1cHqjXiZz8hTJvKJUHOH9TPrXHZdhQ\/gER0y8Z2rmFZ7w3aJwS\/pQmDFep85yy9zRJPyxhHflgonbcy4akJzzpJjw0Wy1X3MuiSV\/PB9GUGZfkzVUmG+rsiLeWrLOWjl~3617841~4474177; Max-Age=1651428073000; Expires=Sat, 02 Jan 54354 10:18:48 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhbNv1c-OP2wmbsLcNhoet0xCgVSaYeXyGdFc9yC_vh6ydrRh9bKe4tvPAM4adId0JKyQUGp4J4w_FsUef8yb_xycMPrv_wylJLjJoELMd4gkduOi_C3BiWedR2M9VHBqv-ieWKNCizU01BMnleHvN24aYfkym8ZZy_8kyVqwK3-_A9xxqucTQvw9o7P3XvtMWAZfsc4ZOgc0SL3yqwEfeKmqn7kFWYjm79CYkC4bqvY4\", \"expires_in\":1800, \"consented_on\":1651413673, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":9500,"millis":0.0095,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":530800,"millis":0.5308,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:32:08.707 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhbNv1c-OP2wmbsLcNhoet0xCgVSaYeXyGdFc9yC_vh6ydrRh9bKe4tvPAM4adId0JKyQUGp4J4w_FsUef8yb_xycMPrv_wylJLjJoELMd4gkduOi_C3BiWedR2M9VHBqv-ieWKNCizU01BMnleHvN24aYfkym8ZZy_8kyVqwK3-_A9xxqucTQvw9o7P3XvtMWAZfsc4ZOgc0SL3yqwEfeKmqn7kFWYjm79CYkC4bqvY4\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413673,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":649500,"millis":0.6495,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":544100,"millis":0.5441,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":446300,"millis":0.4463,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":536300,"millis":0.5363,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:32:08.710 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhbNv1c-OP2wmbsLcNhoet0xCgVSaYeXyGdFc9yC_vh6ydrRh9bKe4tvPAM4adId0JKyQUGp4J4w_FsUef8yb_xycMPrv_wylJLjJoELMd4gkduOi_C3BiWedR2M9VHBqv-ieWKNCizU01BMnleHvN24aYfkym8ZZy_8kyVqwK3-_A9xxqucTQvw9o7P3XvtMWAZfsc4ZOgc0SL3yqwEfeKmqn7kFWYjm79CYkC4bqvY4 \n"},{"result":{"nanos":382800,"millis":0.3828,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":71800,"millis":0.0718,"status":"passed"},"step":{"line":46,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":159300,"millis":0.1593,"status":"passed"},"step":{"line":47,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":51600,"millis":0.0516,"status":"passed"},"step":{"line":48,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":1413800,"millis":1.4138,"status":"passed"},"step":{"line":49,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":125600,"millis":0.1256,"status":"passed"},"step":{"line":50,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":189400,"millis":0.1894,"status":"passed"},"step":{"line":51,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":245000,"millis":0.245,"status":"passed"},"step":{"line":52,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":5441553200,"millis":5441.5532,"status":"passed"},"step":{"line":53,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:32:08.714 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhbNv1c-OP2wmbsLcNhoet0xCgVSaYeXyGdFc9yC_vh6ydrRh9bKe4tvPAM4adId0JKyQUGp4J4w_FsUef8yb_xycMPrv_wylJLjJoELMd4gkduOi_C3BiWedR2M9VHBqv-ieWKNCizU01BMnleHvN24aYfkym8ZZy_8kyVqwK3-_A9xxqucTQvw9o7P3XvtMWAZfsc4ZOgc0SL3yqwEfeKmqn7kFWYjm79CYkC4bqvY4\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=AA518C08B62EDC5B8BF5C8802EDE6831~-1~YAAQLp6yUnxU8HKAAQAA6+fsfwe0wNcP9GeeBc2CHtqr1EIt1UW8pFBKUBBmKd8TKvCl5xYhDLCcDfCEL1iW8kAvhAh0nY9y\/NUP1v6ngbr2nkj8y4Fvs+vo7P\/wIul6c7tmG9rO53BI8M\/dCFPuZ6BW1F43Pt0nznEPmtfcac\/ZcKerYHB6Y\/DAVQtPycMYKBFj4\/KLAZ5WTQhicHm2jCYTSEKiVsDruHbtZsxf36oyx647SOksCR7kTsNhdftFsWJIC2tO\/2jW5CNUgYekUUPzeRY5gXoHn3AlD3IFuJuSU1908nP0lYTBc\/V3arkRJ\/ySmg2GFPQWMREwXwabfxVwHnV4a9gIcO4l10i40L3eZd5lc0bbcIs=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=6E39E6419B53D7E49422C9C479B4F9B2~YAAQLp6yUn1U8HKAAQAA6+fsfw9yxiyuphmpi+s\/\/wcWhq7kXz8FYW3XeI77fyPV46qgrC37+aTP+MboaVEin+SPgN5y1EzBYAiu2dop58XsYXJN6StM4NW+rvJMqRrigmiKNZd1ufQfw3bvqrqNvVsFhVvf25btywg6D0rD8uZG1cHqjXiZz8hTJvKJUHOH9TPrXHZdhQ\/gER0y8Z2rmFZ7w3aJwS\/pQmDFep85yy9zRJPyxhHflgonbcy4akJzzpJjw0Wy1X3MuiSV\/PB9GUGZfkzVUmG+rsiLeWrLOWjl~3617841~4474177\n2 > Content-Length: 124\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"1111111111\",\"merchantCustomerReferenceId\":\"6300804530034\"}\n\n19:32:14.154 response time in milliseconds: 5440\n2 < 400\n2 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: ae880589-cd8e-49f8-a25f-ff4f9b26f864\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: e5a9b701-efa7-4931-a99b-4d83e9b9ba57\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n2 < X-Vcap-Request-Id: 7334629e-b95f-4cdf-62aa-a7d9b0368f23\n2 < X-Global-Transaction-ID: 6e68aa42626e92aacb53931f\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: 0%2B27PZuJTvzfQRcQEsoCFSRbxrsq01cLSYBeJroiMSCMQ8VOlRPJDQWcmHxP%2BfiyNP8m4F83plRgPQ3G%2FASQPr5TFcUZhNEPMscKW0cIygsghy9qKe1NZ%2BqM4DzJqgZUBFoG0ng0yymTuCQzU8DTkvkbE05HCVW1fPfMhF3CY2ThvnmzGlle4FxKrmKkuNHg6S%2Bq1TkH%2BtfSiiM13F4A6e3gGGjP2pm1FOwJeyL5gxFofjpB0tBwecu6rwQGXa5bPVFR6o3691gUoNRlia5LOIINletNJp0UKcpLGnhiZaKs1DjvFeRMCWFFN9CydV2VBjF5kEKZfvR0PQr7iZH6%2FHhW6887xLe6KxhJf4RckjengF9y%2B8cPkRbIiVXIpu7aKAtGNK0Y%2Baj0Erxj2J4HBh4wAcDBGmAMNLEAdLcO7BDoHcZB6KllLAd5aDnn6VL0Lb1ojYBq%2F5xSw6b1VbpXwQ%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 84\n2 < Date: Sun, 01 May 2022 14:01:19 GMT\n2 < Connection: close\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414879000; Expires=Sun, 02 Aug 54353 17:18:54 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"type\":\"invalid\",\"code\":\"invalidRequest\",\"details\":\"Missing or invalid parameters\"}\n\n"},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":54,"prefix":"Then","index":8,"text":"status 400"}},{"result":{"nanos":432800,"millis":0.4328,"status":"passed"},"step":{"line":55,"prefix":"And","index":9,"text":"print response"},"stepLog":"19:32:14.155 [print] {\n  \"type\": \"invalid\",\n  \"code\": \"invalidRequest\",\n  \"details\": \"Missing or invalid parameters\"\n}\n \n"},{"result":{"nanos":462200,"millis":0.4622,"status":"passed"},"step":{"line":56,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":361000,"millis":0.361,"status":"passed"},"step":{"line":57,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":195900,"millis":0.1959,"status":"passed"},"step":{"line":58,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"executorName":"main","line":45,"name":"Verify the LinkageAPI with invalid citiCardHolderPhoneNumber in body parameters","description":"","durationMillis":6130.4346,"startTime":1651413728025,"failed":false,"refId":"[3:45]","endTime":1651413734157,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":155400,"millis":0.1554,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":61700,"millis":0.0617,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":102000,"millis":0.102,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":98200,"millis":0.0982,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":75700,"millis":0.0757,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":869161700,"millis":869.1617,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:32:14.161 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:32:15.029 response time in milliseconds: 868\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 6e68aa42626e92b07ccab39d\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e92af-1410d9d4\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.221.23.115,169.175.115.121,153.40.245.130\n1 < dmz-global-txn-id: 6e68aa42626e92b07ccab39d\n1 < X-Archived-Client-IP: 23.221.23.115,23.221.23.115,169.175.115.121\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,57;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:01:20 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414880000; Expires=Sun, 02 Aug 54353 17:35:35 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=B6FA8754A9B32BA9A5DEEB641BA35C3D~-1~YAAQLp6yUoJU8HKAAQAAqADtfwfV6j60rEg07GejS52wVfchFKie\/tVBS29FCQjxmzVQFDjy9jfu14KHAk0g0vS27xDvQEksQUNoHbNQYXV5uG5vMIA7H7Vk8HU50lUimitdfhO7Yq6\/EGsqflWBHs9qq5R\/Sh0AYp0gL5B2LULZqrlqvoF65MeIoaBxGlWbm6OXkhQ3QBcCKHnBwE9vACVDLbaX\/Xu2I87RNmTDD3hhwMPD5FZxc3iNxuk1qhDnUenRIdYDSgiTK62lpceXtLpcYQYw1Elk3ztJq3WlLsUiX\/1MNBLmwQvREq\/JX\/XmLvV9MhmxomdgPwuy1ULD\/h0W+5hdzgt7tBXHAiIaxOSlx4Z5Mug3R+Q=~-1~-1~-1; Max-Age=1682949680000; Expires=Sat, 18 Nov 55352 20:15:35 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=CCE691E8DA2F974293062B5E955C9E87~YAAQLp6yUoNU8HKAAQAAqADtfw94\/syT1ApQPK87p+gIg+QUtrbvuXHw738pnWW18maFRoiklhpS9M8mf5K\/5KSfkrhIFRn8XWaf\/PkJde\/bzsaS9R9g4L2SxNSOW8eDw+H9zcQAVpVtlTqa81+aViA08x2qPHBIGBsh1chDE0SQffi+zA4X9jROy9\/TCrgqOF7moqsp6xEN1ayczA51cOMJhDoC7gsKUHpcNwB2Os\/tPetGuc0++GZhWMXI4oadh0twe\/J0nwjSgIeNwdF4cmR4h2lpYP2hF\/dYDYRMJtIW~4473398~3749940; Max-Age=1651428079000; Expires=Sat, 02 Jan 54354 11:58:55 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhITS2xlE0WF20eDPKw0F3SPMMzwhg4lskvIoG6iTElwYoNDNNSPvxffNjD9dVUbQ4IQtdMXYI3nMjKDjbS897i-LMXwxaKDXG1NsVw-tKacw60Q7RNn0yjW7vfMs-fViwq0dbQ7oDEQhIJ4O9izSDiE0xpJS0cL8R1G3L51DiXkorAkqd53y3GrlWIi820dYkJgmT08zvsM60EEcVfShBUvIeqKwk_6Pf8pba6L1eJb0\", \"expires_in\":1800, \"consented_on\":1651413680, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":448400,"millis":0.4484,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:32:15.030 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhITS2xlE0WF20eDPKw0F3SPMMzwhg4lskvIoG6iTElwYoNDNNSPvxffNjD9dVUbQ4IQtdMXYI3nMjKDjbS897i-LMXwxaKDXG1NsVw-tKacw60Q7RNn0yjW7vfMs-fViwq0dbQ7oDEQhIJ4O9izSDiE0xpJS0cL8R1G3L51DiXkorAkqd53y3GrlWIi820dYkJgmT08zvsM60EEcVfShBUvIeqKwk_6Pf8pba6L1eJb0\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413680,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":378300,"millis":0.3783,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":199500,"millis":0.1995,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":122600,"millis":0.1226,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":141300,"millis":0.1413,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:32:15.031 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhITS2xlE0WF20eDPKw0F3SPMMzwhg4lskvIoG6iTElwYoNDNNSPvxffNjD9dVUbQ4IQtdMXYI3nMjKDjbS897i-LMXwxaKDXG1NsVw-tKacw60Q7RNn0yjW7vfMs-fViwq0dbQ7oDEQhIJ4O9izSDiE0xpJS0cL8R1G3L51DiXkorAkqd53y3GrlWIi820dYkJgmT08zvsM60EEcVfShBUvIeqKwk_6Pf8pba6L1eJb0 \n"},{"result":{"nanos":114500,"millis":0.1145,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":55700,"millis":0.0557,"status":"passed"},"step":{"line":61,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"line":62,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":47500,"millis":0.0475,"status":"passed"},"step":{"line":63,"prefix":"And","index":2,"text":"header Authorization = Auth"}},{"result":{"nanos":89800,"millis":0.0898,"status":"passed"},"step":{"line":64,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":59600,"millis":0.0596,"status":"passed"},"step":{"line":65,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"line":66,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":268200,"millis":0.2682,"status":"passed"},"step":{"line":67,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"abcdefghiij\"}'"}},{"result":{"nanos":1123190500,"millis":1123.1905,"status":"passed"},"step":{"line":68,"prefix":"When","index":7,"text":"method POST"},"stepLog":"19:32:15.033 request:\n2 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage\n2 > Authorization: Bearer AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhITS2xlE0WF20eDPKw0F3SPMMzwhg4lskvIoG6iTElwYoNDNNSPvxffNjD9dVUbQ4IQtdMXYI3nMjKDjbS897i-LMXwxaKDXG1NsVw-tKacw60Q7RNn0yjW7vfMs-fViwq0dbQ7oDEQhIJ4O9izSDiE0xpJS0cL8R1G3L51DiXkorAkqd53y3GrlWIi820dYkJgmT08zvsM60EEcVfShBUvIeqKwk_6Pf8pba6L1eJb0\n2 > Accept: application\/json\n2 > Content-Type: application\/json; charset=UTF-8\n2 > client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 > Cookie: _abck=B6FA8754A9B32BA9A5DEEB641BA35C3D~-1~YAAQLp6yUoJU8HKAAQAAqADtfwfV6j60rEg07GejS52wVfchFKie\/tVBS29FCQjxmzVQFDjy9jfu14KHAk0g0vS27xDvQEksQUNoHbNQYXV5uG5vMIA7H7Vk8HU50lUimitdfhO7Yq6\/EGsqflWBHs9qq5R\/Sh0AYp0gL5B2LULZqrlqvoF65MeIoaBxGlWbm6OXkhQ3QBcCKHnBwE9vACVDLbaX\/Xu2I87RNmTDD3hhwMPD5FZxc3iNxuk1qhDnUenRIdYDSgiTK62lpceXtLpcYQYw1Elk3ztJq3WlLsUiX\/1MNBLmwQvREq\/JX\/XmLvV9MhmxomdgPwuy1ULD\/h0W+5hdzgt7tBXHAiIaxOSlx4Z5Mug3R+Q=~-1~-1~-1; CITI_SITE=gtdc; bm_sz=CCE691E8DA2F974293062B5E955C9E87~YAAQLp6yUoNU8HKAAQAAqADtfw94\/syT1ApQPK87p+gIg+QUtrbvuXHw738pnWW18maFRoiklhpS9M8mf5K\/5KSfkrhIFRn8XWaf\/PkJde\/bzsaS9R9g4L2SxNSOW8eDw+H9zcQAVpVtlTqa81+aViA08x2qPHBIGBsh1chDE0SQffi+zA4X9jROy9\/TCrgqOF7moqsp6xEN1ayczA51cOMJhDoC7gsKUHpcNwB2Os\/tPetGuc0++GZhWMXI4oadh0twe\/J0nwjSgIeNwdF4cmR4h2lpYP2hF\/dYDYRMJtIW~4473398~3749940\n2 > Content-Length: 122\n2 > Host: sandbox.apihub.citi.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"abcdefghiij\"}\n\n19:32:16.154 response time in milliseconds: 1120\n2 < 200\n2 < X-Backside-Transport: OK OK,OK OK,OK OK\n2 < Content-Type: application\/json\n2 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n2 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n2 < Access-Control-Max-Age: 2147483647\n2 < Cache-Control: no-cache, no-store\n2 < Citiuuid: ee749c40-8a24-4889-9cfd-6c84b4a00a90\n2 < Client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n2 < Expires: -1\n2 < Pragma: no-cache\n2 < Uuid: 32c53cbd-ff72-4ea6-b546-09f745645bb0\n2 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,regulatory,pcr,onboard,mutualfund,moneymovementpayee,moneymovement,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n2 < X-Vcap-Request-Id: db12a22c-7387-405d-7142-efa3c9c1ec1d\n2 < X-Global-Transaction-ID: 6e68aa42626e92b0cb5425af\n2 < Access-Control-Allow-Origin: \n2 < Access-Control-Allow-Credentials: true\n2 < mfaCode: 8EGYvltlM5O0QxpwMzwVFqipMILPbvb8QbPVs9XCMsFnUrGAPAtMpdlcQXDDHChlVTssmvItz6kfUmRLVwRF6D7RBqft2A4QntYgSlME7oQTqB392nqEgu0MZ8VG7dSXmJZxC7jbytaOlhtifnQGfIns2pvJRnNw8qkWcRZ%2FhP9CyIeemNNJa1MmyU%2FFwEVNvvzIyQiQBapLKgnPiWtsdVJnf6wnlWprzaSEZsGCYV2Hap5%2FbWeUifUgTp%2FJgTwi0AkTxs1EBIdVYK%2F%2FDGPhs2RFm%2FTvJwRsFhTS6ytXA0GXJ5WF0oIK1WCvduwO7gj46Nqtm9LIi%2FBgZt2OH2htZ%2Fr0E5yZTUOujWHeGhOWTg9uHyIzyICU9iM6QDQH%2BFHXkXn54EmqAajZqdRtoGK%2FvfS7B%2FWV2UlYalrVN57JFgZaZ2q1%2FFQhVQIfUUWqQJdsHkyUv2AsAZDNrJZcyKQPbw%3D%3D\n2 < X-Akamai-CITISITE: GTDC\n2 < Content-Length: 40\n2 < Date: Sun, 01 May 2022 14:01:21 GMT\n2 < Connection: keep-alive\n2 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414881000; Expires=Sun, 02 Aug 54353 17:52:16 GMT; Domain=sandbox.apihub.citi.com; Secure\n{\"rewardLinkCode\":\"4703012696960006061\"}\n\n"},{"result":{"nanos":157900,"errorMessage":"status code was: 200, expected: 400, response time in milliseconds: 1120, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","millis":0.1579,"status":"failed"},"step":{"line":69,"prefix":"Then","index":8,"text":"status 400"},"stepLog":"19:32:16.155 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\nThen status 400\nstatus code was: 200, expected: 400, response time in milliseconds: 1120, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":70,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":71,"prefix":"And","index":10,"text":"match response.type == 'invalid'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":72,"prefix":"And","index":11,"text":"match response.code == 'invalidRequest'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":73,"prefix":"And","index":12,"text":"match response.details == 'Missing or invalid parameters'"}}],"line":60,"description":"","durationMillis":1995.0384,"failed":true,"error":"status code was: 200, expected: 400, response time in milliseconds: 1120, url: https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/apac\/rewards\/linkage, response: \n{\"rewardLinkCode\":\"4703012696960006061\"}\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:69","executorName":"main","name":"Verify the LinkageAPI with invalid merchantCustomerReferenceId in body parameters","startTime":1651413734159,"refId":"[4:60]","endTime":1651413736155,"exampleIndex":-1},{"sectionIndex":4,"stepResults":[{"result":{"nanos":144000,"millis":0.144,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":46200,"millis":0.0462,"status":"passed"},"step":{"background":true,"line":5,"prefix":"And","index":1,"text":"path '\/clientCredentials\/oauth2\/token\/hk\/gcb'"}},{"result":{"nanos":77400,"millis":0.0774,"status":"passed"},"step":{"background":true,"line":6,"prefix":"And","index":2,"text":"header Authorization = 'Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ'"}},{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":3,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":52900,"millis":0.0529,"status":"passed"},"step":{"background":true,"line":8,"prefix":"And","index":4,"text":"request 'grant_type=client_credentials&scope=\/api'"}},{"result":{"nanos":444358000,"millis":444.358,"status":"passed"},"step":{"background":true,"line":9,"prefix":"When","index":5,"text":"method POST"},"stepLog":"19:32:16.160 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/clientCredentials\/oauth2\/token\/hk\/gcb\n1 > Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Content-Length: 40\n1 > Host: sandbox.apihub.citi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.1)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&scope=\/api\n\n19:32:16.603 response time in milliseconds: 442\n1 < 200\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < Content-Type: application\/json\n1 < Content-Type: application\/json\n1 < X-Global-Transaction-ID: 14744989626e92b12606b65f\n1 < X-Akamai-True-Client-IP: 85.154.175.224\n1 < Pragma: no-cache\n1 < X-DataStream-Session-Id: a11f57161-626e92b1-1410e899\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < Akamai-Origin-Hop: 2\n1 < X-Forwarded-For: 85.154.175.224, 82.178.158.46\n1 < Cache-Control: no-cache, max-age=0\n1 < X-Client-IP: 23.47.59.18,169.175.61.90,153.40.245.129\n1 < dmz-global-txn-id: 14744989626e92b12606b65f\n1 < X-Archived-Client-IP: 23.47.59.18,23.47.59.18,169.175.61.90\n1 < countryCode: HK\n1 < businessCode: GCB\n1 < scope: \/api\n1 < channelId: SSA\n1 < client_id: 5ad84ff6-2ef9-402d-9cba-d12bfcb41faa,5ad84ff6-2ef9-402d-9cba-d12bfcb41faa\n1 < client_secret: uG2yJ7aN2vD3dW3tL7uU8fJ8tM8oG2wR0qP0kG6aC0jX5eP2hY\n1 < Access-Control-Expose-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,56;\n1 < Authorization: Basic NWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhOnVHMnlKN2FOMnZEM2RXM3RMN3VVOGZKOHRNOG9HMndSMHFQMGtHNmFDMGpYNWVQMmhZ\n1 < X-Akamai-CITISITE: GTDC\n1 < Access-Control-Allow-Headers: Accept,Accept-Language,Authorization,businessCode,client_id,content-type,countryCode,uuid,x-ibm-client-id,eventid,sessionID,bizToken,citiuuid, clientDetails,clientdetails,lastFailedLoginTimestamp,lastLoginTime,isFirstTimeLogin,content-disposition,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,blackbox,deviceprint,devicetokencookie,tmx_session_id,tmx_org_id,flow,tmxSessionId,ChannelId,bizToken,mfaCode,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId,x-idempotency-key,x-fapi-customer-ip-address,x-fapi-cumer-last-logged-time,x-fapi-customer-last-logged-time,x-fapi-financial-id,x-fapi-interaction-id,x-customer-user-agent,x-jws-signature,consumerorgcode,customerReferenceId,Eventid,dataType,if-none-match,if-modified-since\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Length: 393\n1 < Date: Sun, 01 May 2022 14:01:21 GMT\n1 < Connection: keep-alive\n1 < Set-Cookie: CITI_SITE=gtdc; Max-Age=1651414881000; Expires=Sun, 02 Aug 54353 17:52:16 GMT; Domain=sandbox.apihub.citi.com; Secure\n1 < Set-Cookie: _abck=5911495EFC7D2743085F6B2EB8F54AA9~-1~YAAQLp6yUoRU8HKAAQAAyQbtfwcmRSsgUjpI3R4grMOb0aoAIV3iUNCKPE10WQp59P4aMksTw3e1t1oejHMNgBHZuVF133KqLfekJRHh8zu1xWrzOI7cCkEQenjhKnNlq4QN8tUv0I\/sJc4CS+fVXS41WnZvGRw7yWtysUuwt45NDKjI+s8o2EeA2Xvhbd0CtmSveOIxMVhYwlfXkTRCxfhjpzrnOGh4js\/x1moqp\/CQIuaeZ6dyzhKfv7NjlJjjknDv2CH4wJoi3HzM0WVj09xJft0nuOlyOZIHZn4BcQccTEZ8r5flmBF1FFLU65YtBEjH8E+TaRsn8t7PceElWKDk2QBGVtAFMAwRFg2sqPS4tIxjwkUPeAM=~-1~-1~-1; Max-Age=1682949681000; Expires=Sat, 18 Nov 55352 20:32:16 GMT; Domain=citi.com; Secure\n1 < Set-Cookie: bm_sz=719D2A9360B67C6891B31E1664AB9752~YAAQLp6yUoVU8HKAAQAAyQbtfw8OqKVtk2YrkEVAZcZyr\/HWhuxWBBYhVWqDPVcMmng91KGgS5hJGYqjHdGnOKFX78thm+TAh9IPtbsEr1KM0YupFBPo7V9EScxOX6BlyXHVN62jaCx5UJ52nqpM8pVXmPFY2QHUf1hkRZ28C3pugmwdH1yu6ZKk4QCCQTsiLKlm6Y\/H4i+krZwXihnnt3H3mURxtrFAnbW3lF2WjtCLe6ORmCzZwYGj3z1KNGKwqcOS5KUk6rnOU5tR9\/aY1DTktPkbfKIe1ffkbJgVOsdI~4339251~4470852; Max-Age=1651428081000; Expires=Sat, 02 Jan 54354 12:32:16 GMT; Domain=citi.com\n{ \"token_type\":\"Bearer\", \"access_token\":\"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhTx2Ii06M89eoE5WqDe_V5In5HO0uRQv6ktx7JE59oE0yU1xL6kEY6iBcLTQ7tGMuZwYPZ9Aigk5f66AoTpLMWJ2ZXJNscVdRmrS97Q5bO5QKI0FH-cA8DP4dBqnoewvlhd1UNTH6xZKccUjWTjiX88LW4GHFNJ6bjPhXHqewqFUIAXnLGJ0Qz9M0m-PZ8PFioaZCUbG-rzrTy9Bmdl9uKEuFRyh2V8SKlHiq-QuDmws\", \"expires_in\":1800, \"consented_on\":1651413681, \"scope\":\"\/api\" }\n\n"},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":662000,"millis":0.662,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":7,"text":"print response"},"stepLog":"19:32:16.605 [print] {\n  \"token_type\": \"Bearer\",\n  \"access_token\": \"AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhTx2Ii06M89eoE5WqDe_V5In5HO0uRQv6ktx7JE59oE0yU1xL6kEY6iBcLTQ7tGMuZwYPZ9Aigk5f66AoTpLMWJ2ZXJNscVdRmrS97Q5bO5QKI0FH-cA8DP4dBqnoewvlhd1UNTH6xZKccUjWTjiX88LW4GHFNJ6bjPhXHqewqFUIAXnLGJ0Qz9M0m-PZ8PFioaZCUbG-rzrTy9Bmdl9uKEuFRyh2V8SKlHiq-QuDmws\",\n  \"expires_in\": 1800,\n  \"consented_on\": 1651413681,\n  \"scope\": \"\/api\"\n}\n \n"},{"result":{"nanos":1024200,"millis":1.0242,"status":"passed"},"step":{"background":true,"line":12,"prefix":"And","index":8,"text":"match response.token_type == 'Bearer'"}},{"result":{"nanos":385900,"millis":0.3859,"status":"passed"},"step":{"background":true,"line":13,"prefix":"And","index":9,"text":"match response.access_token != null"}},{"result":{"nanos":263000,"millis":0.263,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def accessToken = response.access_token"}},{"result":{"nanos":307400,"millis":0.3074,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"print 'AccessToken', accessToken"},"stepLog":"19:32:16.607 [print] AccessToken AAIkNWFkODRmZjYtMmVmOS00MDJkLTljYmEtZDEyYmZjYjQxZmFhTx2Ii06M89eoE5WqDe_V5In5HO0uRQv6ktx7JE59oE0yU1xL6kEY6iBcLTQ7tGMuZwYPZ9Aigk5f66AoTpLMWJ2ZXJNscVdRmrS97Q5bO5QKI0FH-cA8DP4dBqnoewvlhd1UNTH6xZKccUjWTjiX88LW4GHFNJ6bjPhXHqewqFUIAXnLGJ0Qz9M0m-PZ8PFioaZCUbG-rzrTy9Bmdl9uKEuFRyh2V8SKlHiq-QuDmws \n"},{"result":{"nanos":231900,"millis":0.2319,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def Auth = 'Bearer '+accessToken"}},{"result":{"nanos":115900,"millis":0.1159,"status":"passed"},"step":{"line":78,"prefix":"Given","index":0,"text":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api'"}},{"result":{"nanos":77300,"millis":0.0773,"status":"passed"},"step":{"line":79,"prefix":"And","index":1,"text":"path '\/v1\/apac\/rewards\/linkage'"}},{"result":{"nanos":7760100,"errorMessage":"js failed:\n>>>>\n01: inValidAuth\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"inValidAuth\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:80","millis":7.7601,"status":"failed"},"step":{"line":80,"prefix":"And","index":2,"text":"header Authorization = inValidAuth"},"stepLog":"19:32:16.615 src\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:80\nAnd header Authorization = inValidAuth\njs failed:\n>>>>\n01: inValidAuth\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"inValidAuth\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:80\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":81,"prefix":"And","index":3,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":82,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":83,"prefix":"And","index":5,"text":"header client_id = '5ad84ff6-2ef9-402d-9cba-d12bfcb41faa'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":84,"prefix":"And","index":6,"text":"request '{\"lastFourDigitsCardNumber\": \"8653\",\"citiCardHolderPhoneNumber\": \"6590020056\",\"merchantCustomerReferenceId\":\"6300804530034\"}'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":85,"prefix":"When","index":7,"text":"method POST"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":86,"prefix":"Then","index":8,"text":"status 401"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":87,"prefix":"And","index":9,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":88,"prefix":"And","index":10,"text":"match response.type == 'error'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":89,"prefix":"And","index":11,"text":"match response.code == 'unAuthorized'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":90,"prefix":"And","index":12,"text":"match response.details == 'Authorization credentials are missing or invalid'"}}],"line":75,"description":"*def inValidAuth = \"Bearer 1234567890\"","durationMillis":455.5772,"failed":true,"error":"js failed:\n>>>>\n01: inValidAuth\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"inValidAuth\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com.FeatureFiles\/LinkageAPI_UnitTesting.feature:80","executorName":"main","name":"Verify the LinkageAPI with invalid Authorization credentials in the request","startTime":1651413736158,"refId":"[5:75]","endTime":1651413736615,"exampleIndex":-1}],"callDepth":0,"name":"API level unit testing for linkage service","description":"","resultDate":"2022-05-01 07:32:16 pm","durationMillis":18888.16,"passedCount":3}